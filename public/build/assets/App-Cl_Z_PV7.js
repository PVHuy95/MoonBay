var Y2=Object.defineProperty;var G2=(t,e,s)=>e in t?Y2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Be=(t,e,s)=>G2(t,typeof e!="symbol"?e+"":e,s);var hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},ep={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2=Symbol.for("react.transitional.element"),X2=Symbol.for("react.fragment");function qT(t,e,s){var n=null;if(s!==void 0&&(n=""+s),e.key!==void 0&&(n=""+e.key),"key"in e){s={};for(var i in e)i!=="key"&&(s[i]=e[i])}else s=e;return e=s.ref,{$$typeof:K2,type:t,key:n,ref:e!==void 0?e:null,props:s}}ep.Fragment=X2;ep.jsx=qT;ep.jsxs=qT;VT.exports=ep;var o=VT.exports,WT={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=Symbol.for("react.transitional.element"),Q2=Symbol.for("react.portal"),J2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),eP=Symbol.for("react.profiler"),tP=Symbol.for("react.consumer"),sP=Symbol.for("react.context"),nP=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),aP=Symbol.for("react.memo"),YT=Symbol.for("react.lazy"),kw=Symbol.iterator;function rP(t){return t===null||typeof t!="object"?null:(t=kw&&t[kw]||t["@@iterator"],typeof t=="function"?t:null)}var GT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KT=Object.assign,XT={};function uc(t,e,s){this.props=t,this.context=e,this.refs=XT,this.updater=s||GT}uc.prototype.isReactComponent={};uc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QT(){}QT.prototype=uc.prototype;function Qv(t,e,s){this.props=t,this.context=e,this.refs=XT,this.updater=s||GT}var Jv=Qv.prototype=new QT;Jv.constructor=Qv;KT(Jv,uc.prototype);Jv.isPureReactComponent=!0;var Aw=Array.isArray,At={H:null,A:null,T:null,S:null,V:null},JT=Object.prototype.hasOwnProperty;function Zv(t,e,s,n,i,a){return s=a.ref,{$$typeof:Xv,type:t,key:e,ref:s!==void 0?s:null,props:a}}function oP(t,e){return Zv(t.type,e,void 0,void 0,void 0,t.props)}function e_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xv}function lP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Ow=/\/+/g;function Eg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lP(""+t.key):e.toString(36)}function Dw(){}function cP(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Dw,Dw):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function sl(t,e,s,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Xv:case Q2:r=!0;break;case YT:return r=t._init,sl(r(t._payload),e,s,n,i)}}if(r)return i=i(t),r=n===""?"."+Eg(t,0):n,Aw(i)?(s="",r!=null&&(s=r.replace(Ow,"$&/")+"/"),sl(i,e,s,"",function(u){return u})):i!=null&&(e_(i)&&(i=oP(i,s+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Ow,"$&/")+"/")+r)),e.push(i)),1;r=0;var l=n===""?".":n+":";if(Aw(t))for(var c=0;c<t.length;c++)n=t[c],a=l+Eg(n,c),r+=sl(n,e,s,a,i);else if(c=rP(t),typeof c=="function")for(t=c.call(t),c=0;!(n=t.next()).done;)n=n.value,a=l+Eg(n,c++),r+=sl(n,e,s,a,i);else if(a==="object"){if(typeof t.then=="function")return sl(cP(t),e,s,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function vh(t,e,s){if(t==null)return t;var n=[],i=0;return sl(t,n,"","",function(a){return e.call(s,a,i++)}),n}function uP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mw=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dP(){}qe.Children={map:vh,forEach:function(t,e,s){vh(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return vh(t,function(){e++}),e},toArray:function(t){return vh(t,function(e){return e})||[]},only:function(t){if(!e_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=uc;qe.Fragment=J2;qe.Profiler=eP;qe.PureComponent=Qv;qe.StrictMode=Z2;qe.Suspense=iP;qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At;qe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return At.H.useMemoCache(t)}};qe.cache=function(t){return function(){return t.apply(null,arguments)}};qe.cloneElement=function(t,e,s){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=KT({},t.props),i=t.key,a=void 0;if(e!=null)for(r in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!JT.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(n[r]=e[r]);var r=arguments.length-2;if(r===1)n.children=s;else if(1<r){for(var l=Array(r),c=0;c<r;c++)l[c]=arguments[c+2];n.children=l}return Zv(t.type,i,void 0,void 0,a,n)};qe.createContext=function(t){return t={$$typeof:sP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:tP,_context:t},t};qe.createElement=function(t,e,s){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)JT.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var r=arguments.length-2;if(r===1)i.children=s;else if(1<r){for(var l=Array(r),c=0;c<r;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in r=t.defaultProps,r)i[n]===void 0&&(i[n]=r[n]);return Zv(t,a,void 0,void 0,null,i)};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:nP,render:t}};qe.isValidElement=e_;qe.lazy=function(t){return{$$typeof:YT,_payload:{_status:-1,_result:t},_init:uP}};qe.memo=function(t,e){return{$$typeof:aP,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=At.T,s={};At.T=s;try{var n=t(),i=At.S;i!==null&&i(s,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(dP,Mw)}catch(a){Mw(a)}finally{At.T=e}};qe.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()};qe.use=function(t){return At.H.use(t)};qe.useActionState=function(t,e,s){return At.H.useActionState(t,e,s)};qe.useCallback=function(t,e){return At.H.useCallback(t,e)};qe.useContext=function(t){return At.H.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t,e){return At.H.useDeferredValue(t,e)};qe.useEffect=function(t,e,s){var n=At.H;if(typeof s=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(t,e)};qe.useId=function(){return At.H.useId()};qe.useImperativeHandle=function(t,e,s){return At.H.useImperativeHandle(t,e,s)};qe.useInsertionEffect=function(t,e){return At.H.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return At.H.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return At.H.useMemo(t,e)};qe.useOptimistic=function(t,e){return At.H.useOptimistic(t,e)};qe.useReducer=function(t,e,s){return At.H.useReducer(t,e,s)};qe.useRef=function(t){return At.H.useRef(t)};qe.useState=function(t){return At.H.useState(t)};qe.useSyncExternalStore=function(t,e,s){return At.H.useSyncExternalStore(t,e,s)};qe.useTransition=function(){return At.H.useTransition()};qe.version="19.1.0";WT.exports=qe;var S=WT.exports;const we=Zm(S);var t_={};Object.defineProperty(t_,"__esModule",{value:!0});t_.parse=bP;t_.serialize=vP;const hP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,fP=/^[\u0021-\u003A\u003C-\u007E]*$/,mP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pP=/^[\u0020-\u003A\u003D-\u007E]*$/,gP=Object.prototype.toString,yP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function bP(t,e){const s=new yP,n=t.length;if(n<2)return s;const i=(e==null?void 0:e.decode)||_P;let a=0;do{const r=t.indexOf("=",a);if(r===-1)break;const l=t.indexOf(";",a),c=l===-1?n:l;if(r>c){a=t.lastIndexOf(";",r-1)+1;continue}const u=Rw(t,a,r),d=Pw(t,r,u),h=t.slice(u,d);if(s[h]===void 0){let f=Rw(t,r+1,c),m=Pw(t,c,f);const v=i(t.slice(f,m));s[h]=v}a=c+1}while(a<n);return s}function Rw(t,e,s){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<s);return s}function Pw(t,e,s){for(;e>s;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return s}function vP(t,e,s){const n=(s==null?void 0:s.encode)||encodeURIComponent;if(!hP.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=n(e);if(!fP.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!s)return a;if(s.maxAge!==void 0){if(!Number.isInteger(s.maxAge))throw new TypeError(`option maxAge is invalid: ${s.maxAge}`);a+="; Max-Age="+s.maxAge}if(s.domain){if(!mP.test(s.domain))throw new TypeError(`option domain is invalid: ${s.domain}`);a+="; Domain="+s.domain}if(s.path){if(!pP.test(s.path))throw new TypeError(`option path is invalid: ${s.path}`);a+="; Path="+s.path}if(s.expires){if(!xP(s.expires)||!Number.isFinite(s.expires.valueOf()))throw new TypeError(`option expires is invalid: ${s.expires}`);a+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.partitioned&&(a+="; Partitioned"),s.priority)switch(typeof s.priority=="string"?s.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${s.priority}`)}if(s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${s.sameSite}`)}return a}function _P(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function xP(t){return gP.call(t)==="[object Date]"}/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lw="popstate";function wP(t={}){function e(n,i){let{pathname:a,search:r,hash:l}=n.location;return ib("",{pathname:a,search:r,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Hu(i)}return jP(e,s,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SP(){return Math.random().toString(36).substring(2,10)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function ib(t,e,s=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?dc(e):e,state:s,key:e&&e.key||n||SP()}}function Hu({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function dc(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function jP(t,e,s,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,r=i.history,l="POP",c=null,u=d();u==null&&(u=0,r.replaceState({...r.state,idx:u},""));function d(){return(r.state||{idx:null}).idx}function h(){l="POP";let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:_.location,delta:y})}function f(x,y){l="PUSH";let g=ib(_.location,x,y);u=d()+1;let b=$w(g,u),w=_.createHref(g);try{r.pushState(b,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}a&&c&&c({action:l,location:_.location,delta:1})}function m(x,y){l="REPLACE";let g=ib(_.location,x,y);u=d();let b=$w(g,u),w=_.createHref(g);r.replaceState(b,"",w),a&&c&&c({action:l,location:_.location,delta:0})}function v(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:Hu(x);return g=g.replace(/ $/,"%20"),Dt(y,`No window.location.(origin|href) available to create URL for href: ${g}`),new URL(g,y)}let _={get action(){return l},get location(){return t(i,r)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Lw,h),c=x,()=>{i.removeEventListener(Lw,h),c=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return r.go(x)}};return _}function ZT(t,e,s="/"){return EP(t,e,s,!1)}function EP(t,e,s,n){let i=typeof e=="string"?dc(e):e,a=ia(i.pathname||"/",s);if(a==null)return null;let r=e1(t);NP(r);let l=null;for(let c=0;l==null&&c<r.length;++c){let u=$P(a);l=PP(r[c],u,n)}return l}function e1(t,e=[],s=[],n=""){let i=(a,r,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:r,route:a};c.relativePath.startsWith("/")&&(Dt(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=Zi([n,c.relativePath]),d=s.concat(c);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),e1(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:MP(u,a.index),routesMeta:d})};return t.forEach((a,r)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,r);else for(let c of t1(a.path))i(a,r,c)}),e}function t1(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let r=t1(n.join("/")),l=[];return l.push(...r.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...r),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function NP(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:RP(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var TP=/^:[\w-]+$/,CP=3,kP=2,AP=1,OP=10,DP=-2,Iw=t=>t==="*";function MP(t,e){let s=t.split("/"),n=s.length;return s.some(Iw)&&(n+=DP),e&&(n+=kP),s.filter(i=>!Iw(i)).reduce((i,a)=>i+(TP.test(a)?CP:a===""?AP:OP),n)}function RP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function PP(t,e,s=!1){let{routesMeta:n}=t,i={},a="/",r=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=Uf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&s&&!n[n.length-1].route.index&&(h=Uf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),r.push({params:i,pathname:Zi([a,h.pathname]),pathnameBase:HP(Zi([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Zi([a,h.pathnameBase]))}return r}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=LP(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=l[f]||"";r=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:t}}function LP(t,e=!1,s=!0){Mn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $P(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function IP(t,e="/"){let{pathname:s,search:n="",hash:i=""}=typeof t=="string"?dc(t):t;return{pathname:s?s.startsWith("/")?s:BP(s,e):e,search:FP(n),hash:UP(i)}}function BP(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Ng(t,e,s,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zP(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function s_(t){let e=zP(t);return e.map((s,n)=>n===e.length-1?s.pathname:s.pathnameBase)}function n_(t,e,s,n=!1){let i;typeof t=="string"?i=dc(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),Ng("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),Ng("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),Ng("#","search","hash",i)));let a=t===""||i.pathname==="",r=a?"/":i.pathname,l;if(r==null)l=s;else{let h=e.length-1;if(!n&&r.startsWith("..")){let f=r.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=IP(i,l),u=r&&r!=="/"&&r.endsWith("/"),d=(a||r===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Zi=t=>t.join("/").replace(/\/\/+/g,"/"),HP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var s1=["POST","PUT","PATCH","DELETE"];new Set(s1);var qP=["GET",...s1];new Set(qP);var hc=S.createContext(null);hc.displayName="DataRouter";var tp=S.createContext(null);tp.displayName="DataRouterState";var n1=S.createContext({isTransitioning:!1});n1.displayName="ViewTransition";var WP=S.createContext(new Map);WP.displayName="Fetchers";var YP=S.createContext(null);YP.displayName="Await";var Zn=S.createContext(null);Zn.displayName="Navigation";var _d=S.createContext(null);_d.displayName="Location";var ei=S.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var i_=S.createContext(null);i_.displayName="RouteError";function GP(t,{relative:e}={}){Dt(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=S.useContext(Zn),{hash:i,pathname:a,search:r}=xd(t,{relative:e}),l=a;return s!=="/"&&(l=a==="/"?s:Zi([s,a])),n.createHref({pathname:l,search:r,hash:i})}function fc(){return S.useContext(_d)!=null}function pn(){return Dt(fc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(_d).location}var i1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(t){S.useContext(Zn).static||S.useLayoutEffect(t)}function bo(){let{isDataRoute:t}=S.useContext(ei);return t?cL():KP()}function KP(){Dt(fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(hc),{basename:e,navigator:s}=S.useContext(Zn),{matches:n}=S.useContext(ei),{pathname:i}=pn(),a=JSON.stringify(s_(n)),r=S.useRef(!1);return a1(()=>{r.current=!0}),S.useCallback((c,u={})=>{if(Mn(r.current,i1),!r.current)return;if(typeof c=="number"){s.go(c);return}let d=n_(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zi([e,d.pathname])),(u.replace?s.replace:s.push)(d,u.state,u)},[e,s,a,i,t])}var XP=S.createContext(null);function QP(t){let e=S.useContext(ei).outlet;return e&&S.createElement(XP.Provider,{value:t},e)}function xd(t,{relative:e}={}){let{matches:s}=S.useContext(ei),{pathname:n}=pn(),i=JSON.stringify(s_(s));return S.useMemo(()=>n_(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function JP(t,e){return r1(t,e)}function r1(t,e,s,n){var g;Dt(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=S.useContext(Zn),{matches:r}=S.useContext(ei),l=r[r.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let b=h&&h.path||"";o1(u,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=pn(),m;if(e){let b=typeof e=="string"?dc(e):e;Dt(d==="/"||((g=b.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=f;let v=m.pathname||"/",_=v;if(d!=="/"){let b=d.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=!a&&s&&s.matches&&s.matches.length>0?s.matches:ZT(t,{pathname:_});Mn(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Mn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=nL(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Zi([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Zi([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),r,s,n);return e&&y?S.createElement(_d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function ZP(){let t=lL(),e=VP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=S.createElement(S.Fragment,null,S.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),s?S.createElement("pre",{style:i},s):null,r)}var eL=S.createElement(ZP,null),tL=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(ei.Provider,{value:this.props.routeContext},S.createElement(i_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sL({routeContext:t,match:e,children:s}){let n=S.useContext(hc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ei.Provider,{value:t},s)}function nL(t,e=[],s=null,n=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,a=s==null?void 0:s.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Dt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let r=!1,l=-1;if(s)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=s,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){r=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let h,f=!1,m=null,v=null;s&&(h=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||eL,r&&(l<0&&d===0?(o1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):l===d&&(f=!0,v=u.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,d+1)),x=()=>{let y;return h?y=m:f?y=v:u.route.Component?y=S.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,S.createElement(sL,{match:u,routeContext:{outlet:c,matches:_,isDataRoute:s!=null},children:y})};return s&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?S.createElement(tL,{location:s.location,revalidation:s.revalidation,component:m,error:h,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}function a_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iL(t){let e=S.useContext(hc);return Dt(e,a_(t)),e}function aL(t){let e=S.useContext(tp);return Dt(e,a_(t)),e}function rL(t){let e=S.useContext(ei);return Dt(e,a_(t)),e}function r_(t){let e=rL(t),s=e.matches[e.matches.length-1];return Dt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function oL(){return r_("useRouteId")}function lL(){var n;let t=S.useContext(i_),e=aL("useRouteError"),s=r_("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[s]}function cL(){let{router:t}=iL("useNavigate"),e=r_("useNavigate"),s=S.useRef(!1);return a1(()=>{s.current=!0}),S.useCallback(async(i,a={})=>{Mn(s.current,i1),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Bw={};function o1(t,e,s){!e&&!Bw[t]&&(Bw[t]=!0,Mn(!1,s))}S.memo(uL);function uL({routes:t,future:e,state:s}){return r1(t,void 0,s,e)}function ab({to:t,replace:e,state:s,relative:n}){Dt(fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Zn);Mn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(ei),{pathname:r}=pn(),l=bo(),c=n_(t,s_(a),r,n==="path"),u=JSON.stringify(c);return S.useEffect(()=>{l(JSON.parse(u),{replace:e,state:s,relative:n})},[l,u,n,e,s]),null}function l1(t){return QP(t.context)}function Ae(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dL({basename:t="/",children:e=null,location:s,navigationType:n="POP",navigator:i,static:a=!1}){Dt(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:r,navigator:i,static:a,future:{}}),[r,i,a]);typeof s=="string"&&(s=dc(s));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=s,m=S.useMemo(()=>{let v=ia(c,r);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:f},navigationType:n}},[r,c,u,d,h,f,n]);return Mn(m!=null,`<Router basename="${r}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:S.createElement(Zn.Provider,{value:l},S.createElement(_d.Provider,{children:e,value:m}))}function hL({children:t,location:e}){return JP(rb(t),e)}function rb(t,e=[]){let s=[];return S.Children.forEach(t,(n,i)=>{if(!S.isValidElement(n))return;let a=[...e,i];if(n.type===S.Fragment){s.push.apply(s,rb(n.props.children,a));return}Dt(n.type===Ae,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let r={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(r.children=rb(n.props.children,a)),s.push(r)}),s}var mf="get",pf="application/x-www-form-urlencoded";function sp(t){return t!=null&&typeof t.tagName=="string"}function fL(t){return sp(t)&&t.tagName.toLowerCase()==="button"}function mL(t){return sp(t)&&t.tagName.toLowerCase()==="form"}function pL(t){return sp(t)&&t.tagName.toLowerCase()==="input"}function gL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yL(t,e){return t.button===0&&(!e||e==="_self")&&!gL(t)}function ob(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let n=t[s];return e.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function bL(t,e){let s=ob(t);return e&&e.forEach((n,i)=>{s.has(i)||e.getAll(i).forEach(a=>{s.append(i,a)})}),s}var _h=null;function vL(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var _L=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(t){return t!=null&&!_L.has(t)?(Mn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):t}function xL(t,e){let s,n,i,a,r;if(mL(t)){let l=t.getAttribute("action");n=l?ia(l,e):null,s=t.getAttribute("method")||mf,i=Tg(t.getAttribute("enctype"))||pf,a=new FormData(t)}else if(fL(t)||pL(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?ia(c,e):null,s=t.getAttribute("formmethod")||l.getAttribute("method")||mf,i=Tg(t.getAttribute("formenctype"))||Tg(l.getAttribute("enctype"))||pf,a=new FormData(l,t),!vL()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,h)}}else{if(sp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=mf,n=null,i=pf,r=t}return a&&i==="text/plain"&&(r=a,a=void 0),{action:n,method:s.toLowerCase(),encType:i,formData:a,body:r}}function o_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function wL(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jL(t,e,s){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let r=await wL(a,s);return r.links?r.links():[]}return[]}));return CL(n.flat(1).filter(SL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zw(t,e,s,n,i,a){let r=(c,u)=>s[u]?c.route.id!==s[u].route.id:!0,l=(c,u)=>{var d;return s[u].pathname!==c.pathname||((d=s[u].route.path)==null?void 0:d.endsWith("*"))&&s[u].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,u)=>r(c,u)||l(c,u)):a==="data"?e.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(r(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=s[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function EL(t,e,{includeHydrateFallback:s}={}){return NL(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function NL(t){return[...new Set(t)]}function TL(t){let e={},s=Object.keys(t).sort();for(let n of s)e[n]=t[n];return e}function CL(t,e){let s=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(TL(i));return s.has(a)||(s.add(a),n.push({key:a,link:i})),n},[])}var kL=new Set([100,101,204,205]);function AL(t,e){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname="_root.data":e&&ia(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function c1(){let t=S.useContext(hc);return o_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OL(){let t=S.useContext(tp);return o_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l_=S.createContext(void 0);l_.displayName="FrameworkContext";function u1(){let t=S.useContext(l_);return o_(t,"You must render this element inside a <HydratedRouter> element"),t}function DL(t,e){let s=S.useContext(l_),[n,i]=S.useState(!1),[a,r]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=S.useRef(null);S.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let _=y=>{y.forEach(g=>{r(g.isIntersecting)})},x=new IntersectionObserver(_,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),S.useEffect(()=>{if(n){let _=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(_)}}},[n]);let m=()=>{i(!0)},v=()=>{i(!1),r(!1)};return s?t!=="intent"?[a,f,{}]:[a,f,{onFocus:Rc(l,m),onBlur:Rc(c,v),onMouseEnter:Rc(u,m),onMouseLeave:Rc(d,v),onTouchStart:Rc(h,m)}]:[!1,f,{}]}function Rc(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function ML({page:t,...e}){let{router:s}=c1(),n=S.useMemo(()=>ZT(s.routes,t,s.basename),[s.routes,t,s.basename]);return n?S.createElement(PL,{page:t,matches:n,...e}):null}function RL(t){let{manifest:e,routeModules:s}=u1(),[n,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return jL(t,e,s).then(r=>{a||i(r)}),()=>{a=!0}},[t,e,s]),n}function PL({page:t,matches:e,...s}){let n=pn(),{manifest:i,routeModules:a}=u1(),{basename:r}=c1(),{loaderData:l,matches:c}=OL(),u=S.useMemo(()=>zw(t,e,c,i,n,"data"),[t,e,c,i,n]),d=S.useMemo(()=>zw(t,e,c,i,n,"assets"),[t,e,c,i,n]),h=S.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,_=!1;if(e.forEach(y=>{var b;let g=i.routes[y.route.id];!g||!g.hasLoader||(!u.some(w=>w.route.id===y.route.id)&&y.route.id in l&&((b=a[y.route.id])!=null&&b.shouldRevalidate)||g.hasClientLoader?_=!0:v.add(y.route.id))}),v.size===0)return[];let x=AL(t,r);return _&&v.size>0&&x.searchParams.set("_routes",e.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[r,l,n,i,u,e,t,a]),f=S.useMemo(()=>EL(d,i),[d,i]),m=RL(d);return S.createElement(S.Fragment,null,h.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...s})),f.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...s})),m.map(({key:v,link:_})=>S.createElement("link",{key:v,..._})))}function LL(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d1&&(window.__reactRouterVersion="7.5.1")}catch{}function $L({basename:t,children:e,window:s}){let n=S.useRef();n.current==null&&(n.current=wP({window:s,v5Compat:!0}));let i=n.current,[a,r]=S.useState({action:i.action,location:i.location}),l=S.useCallback(c=>{S.startTransition(()=>r(c))},[r]);return S.useLayoutEffect(()=>i.listen(l),[i,l]),S.createElement(dL,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var h1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=S.forwardRef(function({onClick:e,discover:s="render",prefetch:n="none",relative:i,reloadDocument:a,replace:r,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:v}=S.useContext(Zn),_=typeof u=="string"&&h1.test(u),x,y=!1;if(typeof u=="string"&&_&&(x=u,d1))try{let A=new URL(window.location.href),L=u.startsWith("//")?new URL(A.protocol+u):new URL(u),D=ia(L.pathname,v);L.origin===A.origin&&D!=null?u=D+L.search+L.hash:y=!0}catch{Mn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=GP(u,{relative:i}),[b,w,E]=DL(n,f),C=zL(u,{replace:r,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function T(A){e&&e(A),A.defaultPrevented||C(A)}let N=S.createElement("a",{...f,...E,href:x||g,onClick:y||a?e:T,ref:LL(m,w),target:c,"data-discover":!_&&s==="render"?"true":void 0});return b&&!_?S.createElement(S.Fragment,null,N,S.createElement(ML,{page:g})):N});st.displayName="Link";var ka=S.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:n="",end:i=!1,style:a,to:r,viewTransition:l,children:c,...u},d){let h=xd(r,{relative:u.relative}),f=pn(),m=S.useContext(tp),{navigator:v,basename:_}=S.useContext(Zn),x=m!=null&&qL(h)&&l===!0,y=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,g=f.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(g=g.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&_&&(b=ia(b,_)||b);const w=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=g===y||!i&&g.startsWith(y)&&g.charAt(w)==="/",C=b!=null&&(b===y||!i&&b.startsWith(y)&&b.charAt(y.length)==="/"),T={isActive:E,isPending:C,isTransitioning:x},N=E?e:void 0,A;typeof n=="function"?A=n(T):A=[n,E?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(T):a;return S.createElement(st,{...u,"aria-current":N,className:A,ref:d,style:L,to:r,viewTransition:l},typeof c=="function"?c(T):c)});ka.displayName="NavLink";var IL=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:n,replace:i,state:a,method:r=mf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let v=UL(),_=VL(l,{relative:u}),x=r.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&h1.test(l),g=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let w=b.nativeEvent.submitter,E=(w==null?void 0:w.getAttribute("formmethod"))||r;v(w||b.currentTarget,{fetcherKey:e,method:E,navigate:s,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return S.createElement("form",{ref:m,method:x,action:_,onSubmit:n?c:g,...f,"data-discover":!y&&t==="render"?"true":void 0})});IL.displayName="Form";function BL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f1(t){let e=S.useContext(hc);return Dt(e,BL(t)),e}function zL(t,{target:e,replace:s,state:n,preventScrollReset:i,relative:a,viewTransition:r}={}){let l=bo(),c=pn(),u=xd(t,{relative:a});return S.useCallback(d=>{if(yL(d,e)){d.preventDefault();let h=s!==void 0?s:Hu(c)===Hu(u);l(t,{replace:h,state:n,preventScrollReset:i,relative:a,viewTransition:r})}},[c,l,u,s,n,e,t,i,a,r])}function m1(t){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(ob(t)),s=S.useRef(!1),n=pn(),i=S.useMemo(()=>bL(n.search,s.current?null:e.current),[n.search]),a=bo(),r=S.useCallback((l,c)=>{const u=ob(typeof l=="function"?l(i):l);s.current=!0,a("?"+u,c)},[a,i]);return[i,r]}var HL=0,FL=()=>`__${String(++HL)}__`;function UL(){let{router:t}=f1("useSubmit"),{basename:e}=S.useContext(Zn),s=oL();return S.useCallback(async(n,i={})=>{let{action:a,method:r,encType:l,formData:c,body:u}=xL(n,e);if(i.navigate===!1){let d=i.fetcherKey||FL();await t.fetch(d,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||r,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||r,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,s])}function VL(t,{relative:e}={}){let{basename:s}=S.useContext(Zn),n=S.useContext(ei);Dt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...xd(t||".",{relative:e})},r=pn();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:Zi([s,a.pathname])),Hu(a)}function qL(t,e={}){let s=S.useContext(n1);Dt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=f1("useViewTransitionState"),i=xd(t,{relative:e.relative});if(!s.isTransitioning)return!1;let a=ia(s.currentLocation.pathname,n)||s.currentLocation.pathname,r=ia(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Uf(i.pathname,r)!=null||Uf(i.pathname,a)!=null}new TextEncoder;[...kL];var p1={exports:{}},Ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WL=S;function g1(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ya(){}var ks={d:{f:ya,r:function(){throw Error(g1(522))},D:ya,C:ya,L:ya,m:ya,X:ya,S:ya,M:ya},p:0,findDOMNode:null},YL=Symbol.for("react.portal");function GL(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:YL,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}var mu=WL.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function np(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ks;Ms.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(g1(299));return GL(t,e,null,s)};Ms.flushSync=function(t){var e=mu.T,s=ks.p;try{if(mu.T=null,ks.p=2,t)return t()}finally{mu.T=e,ks.p=s,ks.d.f()}};Ms.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ks.d.C(t,e))};Ms.prefetchDNS=function(t){typeof t=="string"&&ks.d.D(t)};Ms.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var s=e.as,n=np(s,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;s==="style"?ks.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):s==="script"&&ks.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ms.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var s=np(e.as,e.crossOrigin);ks.d.M(t,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ks.d.M(t)};Ms.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var s=e.as,n=np(s,e.crossOrigin);ks.d.L(t,s,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ms.preloadModule=function(t,e){if(typeof t=="string")if(e){var s=np(e.as,e.crossOrigin);ks.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ks.d.m(t)};Ms.requestFormReset=function(t){ks.d.r(t)};Ms.unstable_batchedUpdates=function(t,e){return t(e)};Ms.useFormState=function(t,e,s){return mu.H.useFormState(t,e,s)};Ms.useFormStatus=function(){return mu.H.useHostTransitionStatus()};Ms.version="19.1.0";function y1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y1)}catch(t){console.error(t)}}y1(),p1.exports=Ms;var KL=p1.exports,b1={exports:{}},ip={},v1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,H){var R=M.length;M.push(H);e:for(;0<R;){var V=R-1>>>1,P=M[V];if(0<i(P,H))M[V]=H,M[R]=P,R=V;else break e}}function s(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var H=M[0],R=M.pop();if(R!==H){M[0]=R;e:for(var V=0,P=M.length,se=P>>>1;V<se;){var de=2*(V+1)-1,fe=M[de],ae=de+1,F=M[ae];if(0>i(fe,R))ae<P&&0>i(F,fe)?(M[V]=F,M[ae]=R,V=ae):(M[V]=fe,M[de]=R,V=de);else if(ae<P&&0>i(F,R))M[V]=F,M[ae]=R,V=ae;else break e}}return H}function i(M,H){var R=M.sortIndex-H.sortIndex;return R!==0?R:M.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,_=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function w(M){for(var H=s(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=M)n(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=s(u)}}function E(M){if(_=!1,w(M),!v)if(s(c)!==null)v=!0,C||(C=!0,I());else{var H=s(u);H!==null&&z(E,H.startTime-M)}}var C=!1,T=-1,N=5,A=-1;function L(){return x?!0:!(t.unstable_now()-A<N)}function D(){if(x=!1,C){var M=t.unstable_now();A=M;var H=!0;try{e:{v=!1,_&&(_=!1,g(T),T=-1),m=!0;var R=f;try{t:{for(w(M),h=s(c);h!==null&&!(h.expirationTime>M&&L());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var P=V(h.expirationTime<=M);if(M=t.unstable_now(),typeof P=="function"){h.callback=P,w(M),H=!0;break t}h===s(c)&&n(c),w(M)}else n(c);h=s(c)}if(h!==null)H=!0;else{var se=s(u);se!==null&&z(E,se.startTime-M),H=!1}}break e}finally{h=null,f=R,m=!1}H=void 0}}finally{H?I():C=!1}}}var I;if(typeof b=="function")I=function(){b(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=D,I=function(){B.postMessage(null)}}else I=function(){y(D,0)};function z(M,H){T=y(function(){M(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var R=f;f=H;try{return M()}finally{f=R}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var R=f;f=M;try{return H()}finally{f=R}},t.unstable_scheduleCallback=function(M,H,R){var V=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?V+R:V):R=V,M){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=R+P,M={id:d++,callback:H,priorityLevel:M,startTime:R,expirationTime:P,sortIndex:-1},R>V?(M.sortIndex=R,e(u,M),s(c)===null&&M===s(u)&&(_?(g(T),T=-1):_=!0,z(E,R-V))):(M.sortIndex=P,e(c,M),v||m||(v=!0,C||(C=!0,I()))),M},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(M){var H=f;return function(){var R=f;f=H;try{return M.apply(this,arguments)}finally{f=R}}}})(_1);v1.exports=_1;var XL=v1.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=XL,x1=S,QL=KL;function ce(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wd(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function S1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hw(t){if(wd(t)!==t)throw Error(ce(188))}function JL(t){var e=t.alternate;if(!e){if(e=wd(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var s=t,n=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Hw(i),t;if(a===n)return Hw(i),e;a=a.sibling}throw Error(ce(188))}if(s.return!==n.return)s=i,n=a;else{for(var r=!1,l=i.child;l;){if(l===s){r=!0,s=i,n=a;break}if(l===n){r=!0,n=i,s=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===s){r=!0,s=a,n=i;break}if(l===n){r=!0,n=a,s=i;break}l=l.sibling}if(!r)throw Error(ce(189))}}if(s.alternate!==n)throw Error(ce(190))}if(s.tag!==3)throw Error(ce(188));return s.stateNode.current===s?t:e}function j1(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=j1(t),e!==null)return e;t=t.sibling}return null}var Ct=Object.assign,ZL=Symbol.for("react.element"),xh=Symbol.for("react.transitional.element"),au=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),e$=Symbol.for("react.provider"),N1=Symbol.for("react.consumer"),Gi=Symbol.for("react.context"),c_=Symbol.for("react.forward_ref"),cb=Symbol.for("react.suspense"),ub=Symbol.for("react.suspense_list"),u_=Symbol.for("react.memo"),Na=Symbol.for("react.lazy"),db=Symbol.for("react.activity"),t$=Symbol.for("react.memo_cache_sentinel"),Fw=Symbol.iterator;function Pc(t){return t===null||typeof t!="object"?null:(t=Fw&&t[Fw]||t["@@iterator"],typeof t=="function"?t:null)}var s$=Symbol.for("react.client.reference");function hb(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===s$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fl:return"Fragment";case lb:return"Profiler";case E1:return"StrictMode";case cb:return"Suspense";case ub:return"SuspenseList";case db:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case au:return"Portal";case Gi:return(t.displayName||"Context")+".Provider";case N1:return(t._context.displayName||"Context")+".Consumer";case c_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u_:return e=t.displayName||null,e!==null?e:hb(t.type)||"Memo";case Na:e=t._payload,t=t._init;try{return hb(t(e))}catch{}}return null}var ru=Array.isArray,Pe=x1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=QL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gr={pending:!1,data:null,method:null,action:null},fb=[],ml=-1;function Ci(t){return{current:t}}function rs(t){0>ml||(t.current=fb[ml],fb[ml]=null,ml--)}function Ot(t,e){ml++,fb[ml]=t.current,t.current=e}var vi=Ci(null),Fu=Ci(null),Ua=Ci(null),Vf=Ci(null);function qf(t,e){switch(Ot(Ua,e),Ot(Fu,t),Ot(vi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?YS(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=YS(e),t=Uk(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rs(vi),Ot(vi,t)}function Hl(){rs(vi),rs(Fu),rs(Ua)}function mb(t){t.memoizedState!==null&&Ot(Vf,t);var e=vi.current,s=Uk(e,t.type);e!==s&&(Ot(Fu,t),Ot(vi,s))}function Wf(t){Fu.current===t&&(rs(vi),rs(Fu)),Vf.current===t&&(rs(Vf),Ju._currentValue=Gr)}var pb=Object.prototype.hasOwnProperty,d_=ts.unstable_scheduleCallback,Cg=ts.unstable_cancelCallback,n$=ts.unstable_shouldYield,i$=ts.unstable_requestPaint,_i=ts.unstable_now,a$=ts.unstable_getCurrentPriorityLevel,T1=ts.unstable_ImmediatePriority,C1=ts.unstable_UserBlockingPriority,Yf=ts.unstable_NormalPriority,r$=ts.unstable_LowPriority,k1=ts.unstable_IdlePriority,o$=ts.log,l$=ts.unstable_setDisableYieldValue,Sd=null,rn=null;function La(t){if(typeof o$=="function"&&l$(t),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Sd,t)}catch{}}var on=Math.clz32?Math.clz32:d$,c$=Math.log,u$=Math.LN2;function d$(t){return t>>>=0,t===0?32:31-(c$(t)/u$|0)|0}var wh=256,Sh=4194304;function Or(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ap(t,e,s){var n=t.pendingLanes;if(n===0)return 0;var i=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=n&134217727;return l!==0?(n=l&~a,n!==0?i=Or(n):(r&=l,r!==0?i=Or(r):s||(s=l&~t,s!==0&&(i=Or(s))))):(l=n&~a,l!==0?i=Or(l):r!==0?i=Or(r):s||(s=n&~t,s!==0&&(i=Or(s)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,s=e&-e,a>=s||a===32&&(s&4194048)!==0)?e:i}function jd(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function h$(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A1(){var t=wh;return wh<<=1,!(wh&4194048)&&(wh=256),t}function O1(){var t=Sh;return Sh<<=1,!(Sh&62914560)&&(Sh=4194304),t}function kg(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Ed(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function f$(t,e,s,n,i,a){var r=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(s=r&~s;0<s;){var d=31-on(s),h=1<<d;l[d]=0,c[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}s&=~h}n!==0&&D1(t,n,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function D1(t,e,s){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-on(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|s&4194090}function M1(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-on(s),i=1<<n;i&e|t[n]&e&&(t[n]|=e),s&=~i}}function h_(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function f_(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function R1(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:Zk(t.type))}function m$(t,e){var s=rt.p;try{return rt.p=t,e()}finally{rt.p=s}}var or=Math.random().toString(36).slice(2),bs="__reactFiber$"+or,Fs="__reactProps$"+or,mc="__reactContainer$"+or,gb="__reactEvents$"+or,p$="__reactListeners$"+or,g$="__reactHandles$"+or,Uw="__reactResources$"+or,Nd="__reactMarker$"+or;function m_(t){delete t[bs],delete t[Fs],delete t[gb],delete t[p$],delete t[g$]}function pl(t){var e=t[bs];if(e)return e;for(var s=t.parentNode;s;){if(e=s[mc]||s[bs]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=XS(t);t!==null;){if(s=t[bs])return s;t=XS(t)}return e}t=s,s=t.parentNode}return null}function pc(t){if(t=t[bs]||t[mc]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ou(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ce(33))}function Cl(t){var e=t[Uw];return e||(e=t[Uw]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function is(t){t[Nd]=!0}var P1=new Set,L1={};function vo(t,e){Fl(t,e),Fl(t+"Capture",e)}function Fl(t,e){for(L1[t]=e,t=0;t<e.length;t++)P1.add(e[t])}var y$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vw={},qw={};function b$(t){return pb.call(qw,t)?!0:pb.call(Vw,t)?!1:y$.test(t)?qw[t]=!0:(Vw[t]=!0,!1)}function gf(t,e,s){if(b$(e))if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+s)}}function jh(t,e,s){if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+s)}}function Ri(t,e,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(e,s,""+n)}}var Ag,Ww;function nl(t){if(Ag===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Ag=e&&e[1]||"",Ww=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ag+t+Ww}var Og=!1;function Dg(t,e){if(!t||Og)return"";Og=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var c=r.split(`
`),u=l.split(`
`);for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===u.length)for(n=c.length-1,i=u.length-1;1<=n&&0<=i&&c[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==u[i]){if(n!==1||i!==1)do if(n--,i--,0>i||c[n]!==u[i]){var d=`
`+c[n].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=n&&0<=i);break}}}finally{Og=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?nl(s):""}function v$(t){switch(t.tag){case 26:case 27:case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 15:return Dg(t.type,!1);case 11:return Dg(t.type.render,!1);case 1:return Dg(t.type,!0);case 31:return nl("Activity");default:return""}}function Yw(t){try{var e="";do e+=v$(t),t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function jn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _$(t){var e=$1(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gf(t){t._valueTracker||(t._valueTracker=_$(t))}function I1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=$1(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function Kf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var x$=/[\n"\\]/g;function Tn(t){return t.replace(x$,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yb(t,e,s,n,i,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+jn(e)):t.value!==""+jn(e)&&(t.value=""+jn(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?bb(t,r,jn(e)):s!=null?bb(t,r,jn(s)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+jn(l):t.removeAttribute("name")}function B1(t,e,s,n,i,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||s!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;s=s!=null?""+jn(s):"",e=e!=null?""+jn(e):s,l||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=l?t.checked:!!n,t.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function bb(t,e,s){e==="number"&&Kf(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function kl(t,e,s,n){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+jn(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function z1(t,e,s){if(e!=null&&(e=""+jn(e),e!==t.value&&(t.value=e),s==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=s!=null?""+jn(s):""}function H1(t,e,s,n){if(e==null){if(n!=null){if(s!=null)throw Error(ce(92));if(ru(n)){if(1<n.length)throw Error(ce(93));n=n[0]}s=n}s==null&&(s=""),e=s}s=jn(e),t.defaultValue=s,n=t.textContent,n===s&&n!==""&&n!==null&&(t.value=n)}function Ul(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var w$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gw(t,e,s){var n=e.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,s):typeof s!="number"||s===0||w$.has(e)?e==="float"?t.cssFloat=s:t[e]=(""+s).trim():t[e]=s+"px"}function F1(t,e,s){if(e!=null&&typeof e!="object")throw Error(ce(62));if(t=t.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&s[i]!==n&&Gw(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&Gw(t,a,e[a])}function p_(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yf(t){return j$.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vb=null;function g_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gl=null,Al=null;function Kw(t){var e=pc(t);if(e&&(t=e.stateNode)){var s=t[Fs]||null;e:switch(t=e.stateNode,e.type){case"input":if(yb(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+e)+'"][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var i=n[Fs]||null;if(!i)throw Error(ce(90));yb(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<s.length;e++)n=s[e],n.form===t.form&&I1(n)}break e;case"textarea":z1(t,s.value,s.defaultValue);break e;case"select":e=s.value,e!=null&&kl(t,!!s.multiple,e,!1)}}}var Mg=!1;function U1(t,e,s){if(Mg)return t(e,s);Mg=!0;try{var n=t(e);return n}finally{if(Mg=!1,(gl!==null||Al!==null)&&(pp(),gl&&(e=gl,t=Al,Al=gl=null,Kw(e),t)))for(e=0;e<t.length;e++)Kw(t[e])}}function Uu(t,e){var s=t.stateNode;if(s===null)return null;var n=s[Fs]||null;if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(ce(231,e,typeof s));return s}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_b=!1;if(aa)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){_b=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{_b=!1}var $a=null,y_=null,bf=null;function V1(){if(bf)return bf;var t,e=y_,s=e.length,n,i="value"in $a?$a.value:$a.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var r=s-t;for(n=1;n<=r&&e[s-n]===i[a-n];n++);return bf=i.slice(t,1<n?1-n:void 0)}function vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eh(){return!0}function Xw(){return!1}function Us(t){function e(s,n,i,a,r){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Eh:Xw,this.isPropagationStopped=Xw,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rp=Us(_o),Td=Ct({},_o,{view:0,detail:0}),E$=Us(Td),Rg,Pg,$c,op=Ct({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$c&&($c&&t.type==="mousemove"?(Rg=t.screenX-$c.screenX,Pg=t.screenY-$c.screenY):Pg=Rg=0,$c=t),Rg)},movementY:function(t){return"movementY"in t?t.movementY:Pg}}),Qw=Us(op),N$=Ct({},op,{dataTransfer:0}),T$=Us(N$),C$=Ct({},Td,{relatedTarget:0}),Lg=Us(C$),k$=Ct({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),A$=Us(k$),O$=Ct({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D$=Us(O$),M$=Ct({},_o,{data:0}),Jw=Us(M$),R$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L$[t])?!!e[t]:!1}function b_(){return $$}var I$=Ct({},Td,{key:function(t){if(t.key){var e=R$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b_,charCode:function(t){return t.type==="keypress"?vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),B$=Us(I$),z$=Ct({},op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=Us(z$),H$=Ct({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b_}),F$=Us(H$),U$=Ct({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),V$=Us(U$),q$=Ct({},op,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W$=Us(q$),Y$=Ct({},_o,{newState:0,oldState:0}),G$=Us(Y$),K$=[9,13,27,32],v_=aa&&"CompositionEvent"in window,pu=null;aa&&"documentMode"in document&&(pu=document.documentMode);var X$=aa&&"TextEvent"in window&&!pu,q1=aa&&(!v_||pu&&8<pu&&11>=pu),eS=" ",tS=!1;function W1(t,e){switch(t){case"keyup":return K$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yl=!1;function Q$(t,e){switch(t){case"compositionend":return Y1(e);case"keypress":return e.which!==32?null:(tS=!0,eS);case"textInput":return t=e.data,t===eS&&tS?null:t;default:return null}}function J$(t,e){if(yl)return t==="compositionend"||!v_&&W1(t,e)?(t=V1(),bf=y_=$a=null,yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q1&&e.locale!=="ko"?null:e.data;default:return null}}var Z$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z$[t.type]:e==="textarea"}function G1(t,e,s,n){gl?Al?Al.push(n):Al=[n]:gl=n,e=fm(e,"onChange"),0<e.length&&(s=new rp("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var gu=null,Vu=null;function eI(t){zk(t,0)}function lp(t){var e=ou(t);if(I1(e))return t}function nS(t,e){if(t==="change")return e}var K1=!1;if(aa){var $g;if(aa){var Ig="oninput"in document;if(!Ig){var iS=document.createElement("div");iS.setAttribute("oninput","return;"),Ig=typeof iS.oninput=="function"}$g=Ig}else $g=!1;K1=$g&&(!document.documentMode||9<document.documentMode)}function aS(){gu&&(gu.detachEvent("onpropertychange",X1),Vu=gu=null)}function X1(t){if(t.propertyName==="value"&&lp(Vu)){var e=[];G1(e,Vu,t,g_(t)),U1(eI,e)}}function tI(t,e,s){t==="focusin"?(aS(),gu=e,Vu=s,gu.attachEvent("onpropertychange",X1)):t==="focusout"&&aS()}function sI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lp(Vu)}function nI(t,e){if(t==="click")return lp(e)}function iI(t,e){if(t==="input"||t==="change")return lp(e)}function aI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:aI;function qu(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!pb.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function rS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oS(t,e){var s=rS(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rS(s)}}function Q1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J1(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Kf(t.document);e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Kf(t.document)}return e}function __(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var rI=aa&&"documentMode"in document&&11>=document.documentMode,bl=null,xb=null,yu=null,wb=!1;function lS(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;wb||bl==null||bl!==Kf(n)||(n=bl,"selectionStart"in n&&__(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yu&&qu(yu,n)||(yu=n,n=fm(xb,"onSelect"),0<n.length&&(e=new rp("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=bl)))}function Er(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var vl={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Bg={},Z1={};aa&&(Z1=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function xo(t){if(Bg[t])return Bg[t];if(!vl[t])return t;var e=vl[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Z1)return Bg[t]=e[s];return t}var eC=xo("animationend"),tC=xo("animationiteration"),sC=xo("animationstart"),oI=xo("transitionrun"),lI=xo("transitionstart"),cI=xo("transitioncancel"),nC=xo("transitionend"),iC=new Map,Sb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sb.push("scrollEnd");function ti(t,e){iC.set(t,e),vo(e,[t])}var cS=new WeakMap;function Cn(t,e){if(typeof t=="object"&&t!==null){var s=cS.get(t);return s!==void 0?s:(e={value:t,source:e,stack:Yw(e)},cS.set(t,e),e)}return{value:t,source:e,stack:Yw(e)}}var Sn=[],_l=0,x_=0;function cp(){for(var t=_l,e=x_=_l=0;e<t;){var s=Sn[e];Sn[e++]=null;var n=Sn[e];Sn[e++]=null;var i=Sn[e];Sn[e++]=null;var a=Sn[e];if(Sn[e++]=null,n!==null&&i!==null){var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}a!==0&&aC(s,i,a)}}function up(t,e,s,n){Sn[_l++]=t,Sn[_l++]=e,Sn[_l++]=s,Sn[_l++]=n,x_|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function w_(t,e,s,n){return up(t,e,s,n),Xf(t)}function gc(t,e){return up(t,null,null,e),Xf(t)}function aC(t,e,s){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s);for(var i=!1,a=t.return;a!==null;)a.childLanes|=s,n=a.alternate,n!==null&&(n.childLanes|=s),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-on(s),t=a.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=s|536870912),a):null}function Xf(t){if(50<Tu)throw Tu=0,Vb=null,Error(ce(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var xl={};function uI(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,s,n){return new uI(t,e,s,n)}function S_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ea(t,e){var s=t.alternate;return s===null?(s=tn(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function rC(t,e){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function _f(t,e,s,n,i,a){var r=0;if(n=t,typeof t=="function")S_(t)&&(r=1);else if(typeof t=="string")r=h3(t,s,vi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case db:return t=tn(31,s,e,i),t.elementType=db,t.lanes=a,t;case fl:return Kr(s.children,i,a,e);case E1:r=8,i|=24;break;case lb:return t=tn(12,s,e,i|2),t.elementType=lb,t.lanes=a,t;case cb:return t=tn(13,s,e,i),t.elementType=cb,t.lanes=a,t;case ub:return t=tn(19,s,e,i),t.elementType=ub,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case e$:case Gi:r=10;break e;case N1:r=9;break e;case c_:r=11;break e;case u_:r=14;break e;case Na:r=16,n=null;break e}r=29,s=Error(ce(130,t===null?"null":typeof t,"")),n=null}return e=tn(r,s,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Kr(t,e,s,n){return t=tn(7,t,n,e),t.lanes=s,t}function zg(t,e,s){return t=tn(6,t,null,e),t.lanes=s,t}function Hg(t,e,s){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var wl=[],Sl=0,Qf=null,Jf=0,En=[],Nn=0,Xr=null,Ki=1,Xi="";function Dr(t,e){wl[Sl++]=Jf,wl[Sl++]=Qf,Qf=t,Jf=e}function oC(t,e,s){En[Nn++]=Ki,En[Nn++]=Xi,En[Nn++]=Xr,Xr=t;var n=Ki;t=Xi;var i=32-on(n)-1;n&=~(1<<i),s+=1;var a=32-on(e)+i;if(30<a){var r=i-i%5;a=(n&(1<<r)-1).toString(32),n>>=r,i-=r,Ki=1<<32-on(e)+i|s<<i|n,Xi=a+t}else Ki=1<<a|s<<i|n,Xi=t}function j_(t){t.return!==null&&(Dr(t,1),oC(t,1,0))}function E_(t){for(;t===Qf;)Qf=wl[--Sl],wl[Sl]=null,Jf=wl[--Sl],wl[Sl]=null;for(;t===Xr;)Xr=En[--Nn],En[Nn]=null,Xi=En[--Nn],En[Nn]=null,Ki=En[--Nn],En[Nn]=null}var Cs=null,It=null,at=!1,Qr=null,pi=!1,jb=Error(ce(519));function ao(t){var e=Error(ce(418,""));throw Wu(Cn(e,t)),jb}function uS(t){var e=t.stateNode,s=t.type,n=t.memoizedProps;switch(e[bs]=t,e[Fs]=n,s){case"dialog":Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":case"embed":Ke("load",e);break;case"video":case"audio":for(s=0;s<Ku.length;s++)Ke(Ku[s],e);break;case"source":Ke("error",e);break;case"img":case"image":case"link":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"input":Ke("invalid",e),B1(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Gf(e);break;case"select":Ke("invalid",e);break;case"textarea":Ke("invalid",e),H1(e,n.value,n.defaultValue,n.children),Gf(e)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||e.textContent===""+s||n.suppressHydrationWarning===!0||Fk(e.textContent,s)?(n.popover!=null&&(Ke("beforetoggle",e),Ke("toggle",e)),n.onScroll!=null&&Ke("scroll",e),n.onScrollEnd!=null&&Ke("scrollend",e),n.onClick!=null&&(e.onclick=bp),e=!0):e=!1,e||ao(t)}function dS(t){for(Cs=t.return;Cs;)switch(Cs.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:Cs=Cs.return}}function Ic(t){if(t!==Cs)return!1;if(!at)return dS(t),at=!0,!1;var e=t.tag,s;if((s=e!==3&&e!==27)&&((s=e===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Xb(t.type,t.memoizedProps)),s=!s),s&&It&&ao(t),dS(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(e===0){It=Qn(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++;t=t.nextSibling}It=null}}else e===27?(e=It,lr(t.type)?(t=Zb,Zb=null,It=t):It=e):It=Cs?Qn(t.stateNode.nextSibling):null;return!0}function Cd(){It=Cs=null,at=!1}function hS(){var t=Qr;return t!==null&&(Is===null?Is=t:Is.push.apply(Is,t),Qr=null),t}function Wu(t){Qr===null?Qr=[t]:Qr.push(t)}var Eb=Ci(null),wo=null,Qi=null;function Aa(t,e,s){Ot(Eb,e._currentValue),e._currentValue=s}function ta(t){t._currentValue=Eb.current,rs(Eb)}function Nb(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function Tb(t,e,s,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var r=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){a.lanes|=s,l=a.alternate,l!==null&&(l.lanes|=s),Nb(a.return,s,t),n||(r=null);break e}a=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(ce(341));r.lanes|=s,a=r.alternate,a!==null&&(a.lanes|=s),Nb(r,s,t),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===t){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function kd(t,e,s,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(ce(387));if(r=r.memoizedProps,r!==null){var l=i.type;dn(i.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(i===Vf.current){if(r=i.alternate,r===null)throw Error(ce(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ju):t=[Ju])}i=i.return}t!==null&&Tb(e,t,s,n),e.flags|=262144}function Zf(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ro(t){wo=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vs(t){return lC(wo,t)}function Nh(t,e){return wo===null&&ro(t),lC(t,e)}function lC(t,e){var s=e._currentValue;if(e={context:e,memoizedValue:s,next:null},Qi===null){if(t===null)throw Error(ce(308));Qi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Qi=Qi.next=e;return s}var dI=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(s,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(s){return s()})}},hI=ts.unstable_scheduleCallback,fI=ts.unstable_NormalPriority,Jt={$$typeof:Gi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function N_(){return{controller:new dI,data:new Map,refCount:0}}function Ad(t){t.refCount--,t.refCount===0&&hI(fI,function(){t.controller.abort()})}var bu=null,Cb=0,Vl=0,Ol=null;function mI(t,e){if(bu===null){var s=bu=[];Cb=0,Vl=K_(),Ol={status:"pending",value:void 0,then:function(n){s.push(n)}}}return Cb++,e.then(fS,fS),e}function fS(){if(--Cb===0&&bu!==null){Ol!==null&&(Ol.status="fulfilled");var t=bu;bu=null,Vl=0,Ol=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function pI(t,e){var s=[],n={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<s.length;i++)(0,s[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),n}var mS=Pe.S;Pe.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&mI(t,e),mS!==null&&mS(t,e)};var Jr=Ci(null);function T_(){var t=Jr.current;return t!==null?t:Et.pooledCache}function xf(t,e){e===null?Ot(Jr,Jr.current):Ot(Jr,e.pool)}function cC(){var t=T_();return t===null?null:{parent:Jt._currentValue,pool:t}}var Od=Error(ce(460)),uC=Error(ce(474)),dp=Error(ce(542)),kb={then:function(){}};function pS(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Th(){}function dC(t,e,s){switch(s=t[s],s===void 0?t.push(e):s!==e&&(e.then(Th,Th),e=s),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yS(t),t;default:if(typeof e.status=="string")e.then(Th,Th);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(ce(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yS(t),t}throw vu=e,Od}}var vu=null;function gS(){if(vu===null)throw Error(ce(459));var t=vu;return vu=null,t}function yS(t){if(t===Od||t===dp)throw Error(ce(483))}var Ta=!1;function C_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ab(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qa(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Xf(t),aC(t,null,s),e}return up(t,n,e,s),Xf(t)}function _u(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,M1(t,s)}}function Fg(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var r={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};a===null?i=a=r:a=a.next=r,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}var Ob=!1;function xu(){if(Ob){var t=Ol;if(t!==null)throw t}}function wu(t,e,s,n){Ob=!1;var i=t.updateQueue;Ta=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,r===null?a=u:r.next=u,r=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==r&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;r=0,d=u=c=null,l=a;do{var f=l.lane&-536870913,m=f!==l.lane;if(m?(et&f)===f:(n&f)===f){f!==0&&f===Vl&&(Ob=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=t,_=l;f=e;var x=s;switch(_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(x,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(x,h,f):v,f==null)break e;h=Ct({},h,f);break e;case 2:Ta=!0}}f=l.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,r|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),er|=r,t.lanes=r,t.memoizedState=h}}function hC(t,e){if(typeof t!="function")throw Error(ce(191,t));t.call(e)}function fC(t,e){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)hC(s[t],e)}var ql=Ci(null),em=Ci(0);function bS(t,e){t=la,Ot(em,t),Ot(ql,e),la=t|e.baseLanes}function Db(){Ot(em,la),Ot(ql,ql.current)}function k_(){la=em.current,rs(ql),rs(em)}var Ja=0,We=null,bt=null,Wt=null,tm=!1,Dl=!1,oo=!1,sm=0,Yu=0,Ml=null,gI=0;function Ht(){throw Error(ce(321))}function A_(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!dn(t[s],e[s]))return!1;return!0}function O_(t,e,s,n,i,a){return Ja=a,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pe.H=t===null||t.memoizedState===null?VC:qC,oo=!1,a=s(n,i),oo=!1,Dl&&(a=pC(e,s,n,i)),mC(t),a}function mC(t){Pe.H=nm;var e=bt!==null&&bt.next!==null;if(Ja=0,Wt=bt=We=null,tm=!1,Yu=0,Ml=null,e)throw Error(ce(300));t===null||as||(t=t.dependencies,t!==null&&Zf(t)&&(as=!0))}function pC(t,e,s,n){We=t;var i=0;do{if(Dl&&(Ml=null),Yu=0,Dl=!1,25<=i)throw Error(ce(301));if(i+=1,Wt=bt=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Pe.H=SI,a=e(s,n)}while(Dl);return a}function yI(){var t=Pe.H,e=t.useState()[0];return e=typeof e.then=="function"?Dd(e):e,t=t.useState()[0],(bt!==null?bt.memoizedState:null)!==t&&(We.flags|=1024),e}function D_(){var t=sm!==0;return sm=0,t}function M_(t,e,s){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s}function R_(t){if(tm){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}tm=!1}Ja=0,Wt=bt=We=null,Dl=!1,Yu=sm=0,Ml=null}function Ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?We.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Gt(){if(bt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Wt===null?We.memoizedState:Wt.next;if(e!==null)Wt=e,bt=t;else{if(t===null)throw We.alternate===null?Error(ce(467)):Error(ce(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Wt===null?We.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function P_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dd(t){var e=Yu;return Yu+=1,Ml===null&&(Ml=[]),t=dC(Ml,t,e),e=We,(Wt===null?e.memoizedState:Wt.next)===null&&(e=e.alternate,Pe.H=e===null||e.memoizedState===null?VC:qC),t}function hp(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dd(t);if(t.$$typeof===Gi)return vs(t)}throw Error(ce(438,String(t)))}function L_(t){var e=null,s=We.updateQueue;if(s!==null&&(e=s.memoCache),e==null){var n=We.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),s===null&&(s=P_(),We.updateQueue=s),s.memoCache=e,s=e.data[e.index],s===void 0)for(s=e.data[e.index]=Array(t),n=0;n<t;n++)s[n]=t$;return e.index++,s}function ra(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=Gt();return $_(e,bt,t)}function $_(t,e,s){var n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=s;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var r=i.next;i.next=a.next,a.next=r}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var l=r=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(et&h)===h:(Ja&h)===h){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Vl&&(d=!0);else if((Ja&f)===f){u=u.next,f===Vl&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,r=a):c=c.next=h,We.lanes|=f,er|=f;h=u.action,oo&&s(a,h),a=u.hasEagerState?u.eagerState:s(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,r=a):c=c.next=f,We.lanes|=h,er|=h;u=u.next}while(u!==null&&u!==e);if(c===null?r=a:c.next=l,!dn(a,t.memoizedState)&&(as=!0,d&&(s=Ol,s!==null)))throw s;t.memoizedState=a,t.baseState=r,t.baseQueue=c,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Ug(t){var e=Gt(),s=e.queue;if(s===null)throw Error(ce(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var r=i=i.next;do a=t(a,r.action),r=r.next;while(r!==i);dn(a,e.memoizedState)||(as=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,n]}function gC(t,e,s){var n=We,i=Gt(),a=at;if(a){if(s===void 0)throw Error(ce(407));s=s()}else s=e();var r=!dn((bt||i).memoizedState,s);r&&(i.memoizedState=s,as=!0),i=i.queue;var l=vC.bind(null,n,i,t);if(Md(2048,8,l,[t]),i.getSnapshot!==e||r||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Wl(9,fp(),bC.bind(null,n,i,s,e),null),Et===null)throw Error(ce(349));a||Ja&124||yC(n,e,s)}return s}function yC(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=We.updateQueue,e===null?(e=P_(),We.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function bC(t,e,s,n){e.value=s,e.getSnapshot=n,_C(e)&&xC(t)}function vC(t,e,s){return s(function(){_C(e)&&xC(t)})}function _C(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!dn(t,s)}catch{return!0}}function xC(t){var e=gc(t,2);e!==null&&cn(e,t,2)}function Mb(t){var e=Ls();if(typeof t=="function"){var s=t;if(t=s(),oo){La(!0);try{s()}finally{La(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e}function wC(t,e,s,n){return t.baseState=s,$_(t,bt,typeof n=="function"?n:ra)}function bI(t,e,s,n,i){if(mp(t))throw Error(ce(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};Pe.T!==null?s(!0):a.isTransition=!1,n(a),s=e.pending,s===null?(a.next=e.pending=a,SC(e,a)):(a.next=s.next,e.pending=s.next=a)}}function SC(t,e){var s=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=Pe.T,r={};Pe.T=r;try{var l=s(i,n),c=Pe.S;c!==null&&c(r,l),vS(t,e,l)}catch(u){Rb(t,e,u)}finally{Pe.T=a}}else try{a=s(i,n),vS(t,e,a)}catch(u){Rb(t,e,u)}}function vS(t,e,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){_S(t,e,n)},function(n){return Rb(t,e,n)}):_S(t,e,s)}function _S(t,e,s){e.status="fulfilled",e.value=s,jC(e),t.state=s,e=t.pending,e!==null&&(s=e.next,s===e?t.pending=null:(s=s.next,e.next=s,SC(t,s)))}function Rb(t,e,s){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=s,jC(e),e=e.next;while(e!==n)}t.action=null}function jC(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function EC(t,e){return e}function xS(t,e){if(at){var s=Et.formState;if(s!==null){e:{var n=We;if(at){if(It){t:{for(var i=It,a=pi;i.nodeType!==8;){if(!a){i=null;break t}if(i=Qn(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){It=Qn(i.nextSibling),n=i.data==="F!";break e}}ao(n)}n=!1}n&&(e=s[0])}}return s=Ls(),s.memoizedState=s.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EC,lastRenderedState:e},s.queue=n,s=HC.bind(null,We,n),n.dispatch=s,n=Mb(!1),a=H_.bind(null,We,!1,n.queue),n=Ls(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,s=bI.bind(null,We,i,a,s),i.dispatch=s,n.memoizedState=t,[e,s,!1]}function wS(t){var e=Gt();return NC(e,bt,t)}function NC(t,e,s){if(e=$_(t,e,EC)[0],t=wf(ra)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Dd(e)}catch(r){throw r===Od?dp:r}else n=e;e=Gt();var i=e.queue,a=i.dispatch;return s!==e.memoizedState&&(We.flags|=2048,Wl(9,fp(),vI.bind(null,i,s),null)),[n,a,t]}function vI(t,e){t.action=e}function SS(t){var e=Gt(),s=bt;if(s!==null)return NC(e,s,t);Gt(),e=e.memoizedState,s=Gt();var n=s.queue.dispatch;return s.memoizedState=t,[e,n,!1]}function Wl(t,e,s,n){return t={tag:t,create:s,deps:n,inst:e,next:null},e=We.updateQueue,e===null&&(e=P_(),We.updateQueue=e),s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t),t}function fp(){return{destroy:void 0,resource:void 0}}function TC(){return Gt().memoizedState}function Sf(t,e,s,n){var i=Ls();n=n===void 0?null:n,We.flags|=t,i.memoizedState=Wl(1|e,fp(),s,n)}function Md(t,e,s,n){var i=Gt();n=n===void 0?null:n;var a=i.memoizedState.inst;bt!==null&&n!==null&&A_(n,bt.memoizedState.deps)?i.memoizedState=Wl(e,a,s,n):(We.flags|=t,i.memoizedState=Wl(1|e,a,s,n))}function jS(t,e){Sf(8390656,8,t,e)}function CC(t,e){Md(2048,8,t,e)}function kC(t,e){return Md(4,2,t,e)}function AC(t,e){return Md(4,4,t,e)}function OC(t,e){if(typeof e=="function"){t=t();var s=e(t);return function(){typeof s=="function"?s():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DC(t,e,s){s=s!=null?s.concat([t]):null,Md(4,4,OC.bind(null,e,t),s)}function I_(){}function MC(t,e){var s=Gt();e=e===void 0?null:e;var n=s.memoizedState;return e!==null&&A_(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function RC(t,e){var s=Gt();e=e===void 0?null:e;var n=s.memoizedState;if(e!==null&&A_(e,n[1]))return n[0];if(n=t(),oo){La(!0);try{t()}finally{La(!1)}}return s.memoizedState=[n,e],n}function B_(t,e,s){return s===void 0||Ja&1073741824?t.memoizedState=e:(t.memoizedState=s,t=jk(),We.lanes|=t,er|=t,s)}function PC(t,e,s,n){return dn(s,e)?s:ql.current!==null?(t=B_(t,s,n),dn(t,e)||(as=!0),t):Ja&42?(t=jk(),We.lanes|=t,er|=t,e):(as=!0,t.memoizedState=s)}function LC(t,e,s,n,i){var a=rt.p;rt.p=a!==0&&8>a?a:8;var r=Pe.T,l={};Pe.T=l,H_(t,!1,e,s);try{var c=i(),u=Pe.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=pI(c,n);Su(t,e,d,ln(t))}else Su(t,e,n,ln(t))}catch(h){Su(t,e,{then:function(){},status:"rejected",reason:h},ln())}finally{rt.p=a,Pe.T=r}}function _I(){}function Pb(t,e,s,n){if(t.tag!==5)throw Error(ce(476));var i=$C(t).queue;LC(t,i,e,Gr,s===null?_I:function(){return IC(t),s(n)})}function $C(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Gr,baseState:Gr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:Gr},next:null};var s={};return e.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function IC(t){var e=$C(t).next.queue;Su(t,e,{},ln())}function z_(){return vs(Ju)}function BC(){return Gt().memoizedState}function zC(){return Gt().memoizedState}function xI(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var s=ln();t=Va(s);var n=qa(e,t,s);n!==null&&(cn(n,e,s),_u(n,e,s)),e={cache:N_()},t.payload=e;return}e=e.return}}function wI(t,e,s){var n=ln();s={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},mp(t)?FC(e,s):(s=w_(t,e,s,n),s!==null&&(cn(s,t,n),UC(s,e,n)))}function HC(t,e,s){var n=ln();Su(t,e,s,n)}function Su(t,e,s,n){var i={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(mp(t))FC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,s);if(i.hasEagerState=!0,i.eagerState=l,dn(l,r))return up(t,e,i,0),Et===null&&cp(),!1}catch{}finally{}if(s=w_(t,e,i,n),s!==null)return cn(s,t,n),UC(s,e,n),!0}return!1}function H_(t,e,s,n){if(n={lane:2,revertLane:K_(),action:n,hasEagerState:!1,eagerState:null,next:null},mp(t)){if(e)throw Error(ce(479))}else e=w_(t,s,n,2),e!==null&&cn(e,t,2)}function mp(t){var e=t.alternate;return t===We||e!==null&&e===We}function FC(t,e){Dl=tm=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function UC(t,e,s){if(s&4194048){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,M1(t,s)}}var nm={readContext:vs,use:hp,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},VC={readContext:vs,use:hp,useCallback:function(t,e){return Ls().memoizedState=[t,e===void 0?null:e],t},useContext:vs,useEffect:jS,useImperativeHandle:function(t,e,s){s=s!=null?s.concat([t]):null,Sf(4194308,4,OC.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Sf(4194308,4,t,e)},useInsertionEffect:function(t,e){Sf(4,2,t,e)},useMemo:function(t,e){var s=Ls();e=e===void 0?null:e;var n=t();if(oo){La(!0);try{t()}finally{La(!1)}}return s.memoizedState=[n,e],n},useReducer:function(t,e,s){var n=Ls();if(s!==void 0){var i=s(e);if(oo){La(!0);try{s(e)}finally{La(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=wI.bind(null,We,t),[n.memoizedState,t]},useRef:function(t){var e=Ls();return t={current:t},e.memoizedState=t},useState:function(t){t=Mb(t);var e=t.queue,s=HC.bind(null,We,e);return e.dispatch=s,[t.memoizedState,s]},useDebugValue:I_,useDeferredValue:function(t,e){var s=Ls();return B_(s,t,e)},useTransition:function(){var t=Mb(!1);return t=LC.bind(null,We,t.queue,!0,!1),Ls().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,s){var n=We,i=Ls();if(at){if(s===void 0)throw Error(ce(407));s=s()}else{if(s=e(),Et===null)throw Error(ce(349));et&124||yC(n,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,jS(vC.bind(null,n,a,t),[t]),n.flags|=2048,Wl(9,fp(),bC.bind(null,n,a,s,e),null),s},useId:function(){var t=Ls(),e=Et.identifierPrefix;if(at){var s=Xi,n=Ki;s=(n&~(1<<32-on(n)-1)).toString(32)+s,e="Â«"+e+"R"+s,s=sm++,0<s&&(e+="H"+s.toString(32)),e+="Â»"}else s=gI++,e="Â«"+e+"r"+s.toString(32)+"Â»";return t.memoizedState=e},useHostTransitionStatus:z_,useFormState:xS,useActionState:xS,useOptimistic:function(t){var e=Ls();e.memoizedState=e.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=s,e=H_.bind(null,We,!0,s),s.dispatch=e,[t,e]},useMemoCache:L_,useCacheRefresh:function(){return Ls().memoizedState=xI.bind(null,We)}},qC={readContext:vs,use:hp,useCallback:MC,useContext:vs,useEffect:CC,useImperativeHandle:DC,useInsertionEffect:kC,useLayoutEffect:AC,useMemo:RC,useReducer:wf,useRef:TC,useState:function(){return wf(ra)},useDebugValue:I_,useDeferredValue:function(t,e){var s=Gt();return PC(s,bt.memoizedState,t,e)},useTransition:function(){var t=wf(ra)[0],e=Gt().memoizedState;return[typeof t=="boolean"?t:Dd(t),e]},useSyncExternalStore:gC,useId:BC,useHostTransitionStatus:z_,useFormState:wS,useActionState:wS,useOptimistic:function(t,e){var s=Gt();return wC(s,bt,t,e)},useMemoCache:L_,useCacheRefresh:zC},SI={readContext:vs,use:hp,useCallback:MC,useContext:vs,useEffect:CC,useImperativeHandle:DC,useInsertionEffect:kC,useLayoutEffect:AC,useMemo:RC,useReducer:Ug,useRef:TC,useState:function(){return Ug(ra)},useDebugValue:I_,useDeferredValue:function(t,e){var s=Gt();return bt===null?B_(s,t,e):PC(s,bt.memoizedState,t,e)},useTransition:function(){var t=Ug(ra)[0],e=Gt().memoizedState;return[typeof t=="boolean"?t:Dd(t),e]},useSyncExternalStore:gC,useId:BC,useHostTransitionStatus:z_,useFormState:SS,useActionState:SS,useOptimistic:function(t,e){var s=Gt();return bt!==null?wC(s,bt,t,e):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:L_,useCacheRefresh:zC},Rl=null,Gu=0;function Ch(t){var e=Gu;return Gu+=1,Rl===null&&(Rl=[]),dC(Rl,t,e)}function Bc(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function kh(t,e){throw e.$$typeof===ZL?Error(ce(525)):(t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ES(t){var e=t._init;return e(t._payload)}function WC(t){function e(y,g){if(t){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function s(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function n(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=ea(y,g),y.index=0,y.sibling=null,y}function a(y,g,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=67108866,g):b):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function r(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function l(y,g,b,w){return g===null||g.tag!==6?(g=zg(b,y.mode,w),g.return=y,g):(g=i(g,b),g.return=y,g)}function c(y,g,b,w){var E=b.type;return E===fl?d(y,g,b.props.children,w,b.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Na&&ES(E)===g.type)?(g=i(g,b.props),Bc(g,b),g.return=y,g):(g=_f(b.type,b.key,b.props,null,y.mode,w),Bc(g,b),g.return=y,g)}function u(y,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Hg(b,y.mode,w),g.return=y,g):(g=i(g,b.children||[]),g.return=y,g)}function d(y,g,b,w,E){return g===null||g.tag!==7?(g=Kr(b,y.mode,w,E),g.return=y,g):(g=i(g,b),g.return=y,g)}function h(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=zg(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xh:return b=_f(g.type,g.key,g.props,null,y.mode,b),Bc(b,g),b.return=y,b;case au:return g=Hg(g,y.mode,b),g.return=y,g;case Na:var w=g._init;return g=w(g._payload),h(y,g,b)}if(ru(g)||Pc(g))return g=Kr(g,y.mode,b,null),g.return=y,g;if(typeof g.then=="function")return h(y,Ch(g),b);if(g.$$typeof===Gi)return h(y,Nh(y,g),b);kh(y,g)}return null}function f(y,g,b,w){var E=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return E!==null?null:l(y,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xh:return b.key===E?c(y,g,b,w):null;case au:return b.key===E?u(y,g,b,w):null;case Na:return E=b._init,b=E(b._payload),f(y,g,b,w)}if(ru(b)||Pc(b))return E!==null?null:d(y,g,b,w,null);if(typeof b.then=="function")return f(y,g,Ch(b),w);if(b.$$typeof===Gi)return f(y,g,Nh(y,b),w);kh(y,b)}return null}function m(y,g,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(b)||null,l(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xh:return y=y.get(w.key===null?b:w.key)||null,c(g,y,w,E);case au:return y=y.get(w.key===null?b:w.key)||null,u(g,y,w,E);case Na:var C=w._init;return w=C(w._payload),m(y,g,b,w,E)}if(ru(w)||Pc(w))return y=y.get(b)||null,d(g,y,w,E,null);if(typeof w.then=="function")return m(y,g,b,Ch(w),E);if(w.$$typeof===Gi)return m(y,g,b,Nh(g,w),E);kh(g,w)}return null}function v(y,g,b,w){for(var E=null,C=null,T=g,N=g=0,A=null;T!==null&&N<b.length;N++){T.index>N?(A=T,T=null):A=T.sibling;var L=f(y,T,b[N],w);if(L===null){T===null&&(T=A);break}t&&T&&L.alternate===null&&e(y,T),g=a(L,g,N),C===null?E=L:C.sibling=L,C=L,T=A}if(N===b.length)return s(y,T),at&&Dr(y,N),E;if(T===null){for(;N<b.length;N++)T=h(y,b[N],w),T!==null&&(g=a(T,g,N),C===null?E=T:C.sibling=T,C=T);return at&&Dr(y,N),E}for(T=n(T);N<b.length;N++)A=m(T,y,N,b[N],w),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?N:A.key),g=a(A,g,N),C===null?E=A:C.sibling=A,C=A);return t&&T.forEach(function(D){return e(y,D)}),at&&Dr(y,N),E}function _(y,g,b,w){if(b==null)throw Error(ce(151));for(var E=null,C=null,T=g,N=g=0,A=null,L=b.next();T!==null&&!L.done;N++,L=b.next()){T.index>N?(A=T,T=null):A=T.sibling;var D=f(y,T,L.value,w);if(D===null){T===null&&(T=A);break}t&&T&&D.alternate===null&&e(y,T),g=a(D,g,N),C===null?E=D:C.sibling=D,C=D,T=A}if(L.done)return s(y,T),at&&Dr(y,N),E;if(T===null){for(;!L.done;N++,L=b.next())L=h(y,L.value,w),L!==null&&(g=a(L,g,N),C===null?E=L:C.sibling=L,C=L);return at&&Dr(y,N),E}for(T=n(T);!L.done;N++,L=b.next())L=m(T,y,N,L.value,w),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?N:L.key),g=a(L,g,N),C===null?E=L:C.sibling=L,C=L);return t&&T.forEach(function(I){return e(y,I)}),at&&Dr(y,N),E}function x(y,g,b,w){if(typeof b=="object"&&b!==null&&b.type===fl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xh:e:{for(var E=b.key;g!==null;){if(g.key===E){if(E=b.type,E===fl){if(g.tag===7){s(y,g.sibling),w=i(g,b.props.children),w.return=y,y=w;break e}}else if(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Na&&ES(E)===g.type){s(y,g.sibling),w=i(g,b.props),Bc(w,b),w.return=y,y=w;break e}s(y,g);break}else e(y,g);g=g.sibling}b.type===fl?(w=Kr(b.props.children,y.mode,w,b.key),w.return=y,y=w):(w=_f(b.type,b.key,b.props,null,y.mode,w),Bc(w,b),w.return=y,y=w)}return r(y);case au:e:{for(E=b.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){s(y,g.sibling),w=i(g,b.children||[]),w.return=y,y=w;break e}else{s(y,g);break}else e(y,g);g=g.sibling}w=Hg(b,y.mode,w),w.return=y,y=w}return r(y);case Na:return E=b._init,b=E(b._payload),x(y,g,b,w)}if(ru(b))return v(y,g,b,w);if(Pc(b)){if(E=Pc(b),typeof E!="function")throw Error(ce(150));return b=E.call(b),_(y,g,b,w)}if(typeof b.then=="function")return x(y,g,Ch(b),w);if(b.$$typeof===Gi)return x(y,g,Nh(y,b),w);kh(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,g!==null&&g.tag===6?(s(y,g.sibling),w=i(g,b),w.return=y,y=w):(s(y,g),w=zg(b,y.mode,w),w.return=y,y=w),r(y)):s(y,g)}return function(y,g,b,w){try{Gu=0;var E=x(y,g,b,w);return Rl=null,E}catch(T){if(T===Od||T===dp)throw T;var C=tn(29,T,null,y.mode);return C.lanes=w,C.return=y,C}finally{}}}var Yl=WC(!0),YC=WC(!1),Rn=Ci(null),xi=null;function Oa(t){var e=t.alternate;Ot(Zt,Zt.current&1),Ot(Rn,t),xi===null&&(e===null||ql.current!==null||e.memoizedState!==null)&&(xi=t)}function GC(t){if(t.tag===22){if(Ot(Zt,Zt.current),Ot(Rn,t),xi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(xi=t)}}else Da()}function Da(){Ot(Zt,Zt.current),Ot(Rn,Rn.current)}function Ji(t){rs(Rn),xi===t&&(xi=null),rs(Zt)}var Zt=Ci(0);function im(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Jb(s)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Vg(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:Ct({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Lb={enqueueSetState:function(t,e,s){t=t._reactInternals;var n=ln(),i=Va(n);i.payload=e,s!=null&&(i.callback=s),e=qa(t,i,n),e!==null&&(cn(e,t,n),_u(e,t,n))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=ln(),i=Va(n);i.tag=1,i.payload=e,s!=null&&(i.callback=s),e=qa(t,i,n),e!==null&&(cn(e,t,n),_u(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=ln(),n=Va(s);n.tag=2,e!=null&&(n.callback=e),e=qa(t,n,s),e!==null&&(cn(e,t,s),_u(e,t,s))}};function NS(t,e,s,n,i,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,r):e.prototype&&e.prototype.isPureReactComponent?!qu(s,n)||!qu(i,a):!0}function TS(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&Lb.enqueueReplaceState(e,e.state,null)}function lo(t,e){var s=e;if("ref"in e){s={};for(var n in e)n!=="ref"&&(s[n]=e[n])}if(t=t.defaultProps){s===e&&(s=Ct({},s));for(var i in t)s[i]===void 0&&(s[i]=t[i])}return s}var am=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function KC(t){am(t)}function XC(t){console.error(t)}function QC(t){am(t)}function rm(t,e){try{var s=t.onUncaughtError;s(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function CS(t,e,s){try{var n=t.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function $b(t,e,s){return s=Va(s),s.tag=3,s.payload={element:null},s.callback=function(){rm(t,e)},s}function JC(t){return t=Va(t),t.tag=3,t}function ZC(t,e,s,n){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){CS(e,s,n)}}var r=s.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){CS(e,s,n),typeof i!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function jI(t,e,s,n,i){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=s.alternate,e!==null&&kd(e,s,i,!0),s=Rn.current,s!==null){switch(s.tag){case 13:return xi===null?qb():s.alternate===null&&Bt===0&&(Bt=3),s.flags&=-257,s.flags|=65536,s.lanes=i,n===kb?s.flags|=16384:(e=s.updateQueue,e===null?s.updateQueue=new Set([n]):e.add(n),ty(t,n,i)),!1;case 22:return s.flags|=65536,n===kb?s.flags|=16384:(e=s.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=e):(s=e.retryQueue,s===null?e.retryQueue=new Set([n]):s.add(n)),ty(t,n,i)),!1}throw Error(ce(435,s.tag))}return ty(t,n,i),qb(),!1}if(at)return e=Rn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==jb&&(t=Error(ce(422),{cause:n}),Wu(Cn(t,s)))):(n!==jb&&(e=Error(ce(423),{cause:n}),Wu(Cn(e,s))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=Cn(n,s),i=$b(t.stateNode,n,i),Fg(t,i),Bt!==4&&(Bt=2)),!1;var a=Error(ce(520),{cause:n});if(a=Cn(a,s),Nu===null?Nu=[a]:Nu.push(a),Bt!==4&&(Bt=2),e===null)return!0;n=Cn(n,s),s=e;do{switch(s.tag){case 3:return s.flags|=65536,t=i&-i,s.lanes|=t,t=$b(s.stateNode,n,t),Fg(s,t),!1;case 1:if(e=s.type,a=s.stateNode,(s.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Wa===null||!Wa.has(a))))return s.flags|=65536,i&=-i,s.lanes|=i,i=JC(i),ZC(i,t,s,n),Fg(s,i),!1}s=s.return}while(s!==null);return!1}var ek=Error(ce(461)),as=!1;function ds(t,e,s,n){e.child=t===null?YC(e,null,s,n):Yl(e,t.child,s,n)}function kS(t,e,s,n,i){s=s.render;var a=e.ref;if("ref"in n){var r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}else r=n;return ro(e),n=O_(t,e,s,r,a,i),l=D_(),t!==null&&!as?(M_(t,e,i),oa(t,e,i)):(at&&l&&j_(e),e.flags|=1,ds(t,e,n,i),e.child)}function AS(t,e,s,n,i){if(t===null){var a=s.type;return typeof a=="function"&&!S_(a)&&a.defaultProps===void 0&&s.compare===null?(e.tag=15,e.type=a,tk(t,e,a,n,i)):(t=_f(s.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!F_(t,i)){var r=a.memoizedProps;if(s=s.compare,s=s!==null?s:qu,s(r,n)&&t.ref===e.ref)return oa(t,e,i)}return e.flags|=1,t=ea(a,n),t.ref=e.ref,t.return=e,e.child=t}function tk(t,e,s,n,i){if(t!==null){var a=t.memoizedProps;if(qu(a,n)&&t.ref===e.ref)if(as=!1,e.pendingProps=n=a,F_(t,i))t.flags&131072&&(as=!0);else return e.lanes=t.lanes,oa(t,e,i)}return Ib(t,e,s,n,i)}function sk(t,e,s){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if(e.flags&128){if(n=a!==null?a.baseLanes|s:s,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~n}else e.childLanes=0,e.child=null;return OS(t,e,n,s)}if(s&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&xf(e,a!==null?a.cachePool:null),a!==null?bS(e,a):Db(),GC(e);else return e.lanes=e.childLanes=536870912,OS(t,e,a!==null?a.baseLanes|s:s,s)}else a!==null?(xf(e,a.cachePool),bS(e,a),Da(),e.memoizedState=null):(t!==null&&xf(e,null),Db(),Da());return ds(t,e,i,s),e.child}function OS(t,e,s,n){var i=T_();return i=i===null?null:{parent:Jt._currentValue,pool:i},e.memoizedState={baseLanes:s,cachePool:i},t!==null&&xf(e,null),Db(),GC(e),t!==null&&kd(t,e,n,!0),null}function jf(t,e){var s=e.ref;if(s===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(ce(284));(t===null||t.ref!==s)&&(e.flags|=4194816)}}function Ib(t,e,s,n,i){return ro(e),s=O_(t,e,s,n,void 0,i),n=D_(),t!==null&&!as?(M_(t,e,i),oa(t,e,i)):(at&&n&&j_(e),e.flags|=1,ds(t,e,s,i),e.child)}function DS(t,e,s,n,i,a){return ro(e),e.updateQueue=null,s=pC(e,n,s,i),mC(t),n=D_(),t!==null&&!as?(M_(t,e,a),oa(t,e,a)):(at&&n&&j_(e),e.flags|=1,ds(t,e,s,a),e.child)}function MS(t,e,s,n,i){if(ro(e),e.stateNode===null){var a=xl,r=s.contextType;typeof r=="object"&&r!==null&&(a=vs(r)),a=new s(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lb,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},C_(e),r=s.contextType,a.context=typeof r=="object"&&r!==null?vs(r):xl,a.state=e.memoizedState,r=s.getDerivedStateFromProps,typeof r=="function"&&(Vg(e,s,r,n),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Lb.enqueueReplaceState(a,a.state,null),wu(e,n,a,i),xu(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,c=lo(s,l);a.props=c;var u=a.context,d=s.contextType;r=xl,typeof d=="object"&&d!==null&&(r=vs(d));var h=s.getDerivedStateFromProps;d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==r)&&TS(e,a,n,r),Ta=!1;var f=e.memoizedState;a.state=f,wu(e,n,a,i),xu(),u=e.memoizedState,l||f!==u||Ta?(typeof h=="function"&&(Vg(e,s,h,n),u=e.memoizedState),(c=Ta||NS(e,s,c,n,f,u,r))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=r,n=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ab(t,e),r=e.memoizedProps,d=lo(s,r),a.props=d,h=e.pendingProps,f=a.context,u=s.contextType,c=xl,typeof u=="object"&&u!==null&&(c=vs(u)),l=s.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==h||f!==c)&&TS(e,a,n,c),Ta=!1,f=e.memoizedState,a.state=f,wu(e,n,a,i),xu();var m=e.memoizedState;r!==h||f!==m||Ta||t!==null&&t.dependencies!==null&&Zf(t.dependencies)?(typeof l=="function"&&(Vg(e,s,l,n),m=e.memoizedState),(d=Ta||NS(e,s,d,n,f,m,c)||t!==null&&t.dependencies!==null&&Zf(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,jf(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=Yl(e,t.child,null,i),e.child=Yl(e,null,s,i)):ds(t,e,s,i),e.memoizedState=a.state,t=e.child):t=oa(t,e,i),t}function RS(t,e,s,n){return Cd(),e.flags|=256,ds(t,e,s,n),e.child}var qg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wg(t){return{baseLanes:t,cachePool:cC()}}function Yg(t,e,s){return t=t!==null?t.childLanes&~s:0,e&&(t|=kn),t}function nk(t,e,s){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),r&&(i=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(at){if(i?Oa(e):Da(),at){var l=It,c;if(c=l){e:{for(c=l,l=pi;c.nodeType!==8;){if(!l){l=null;break e}if(c=Qn(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(e.memoizedState={dehydrated:l,treeContext:Xr!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},c=tn(18,null,null,0),c.stateNode=l,c.return=e,e.child=c,Cs=e,It=null,c=!0):c=!1}c||ao(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Jb(l)?e.lanes=32:e.lanes=536870912,null;Ji(e)}return l=n.children,n=n.fallback,i?(Da(),i=e.mode,l=om({mode:"hidden",children:l},i),n=Kr(n,i,s,null),l.return=e,n.return=e,l.sibling=n,e.child=l,i=e.child,i.memoizedState=Wg(s),i.childLanes=Yg(t,r,s),e.memoizedState=qg,n):(Oa(e),Bb(e,l))}if(c=t.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(a)e.flags&256?(Oa(e),e.flags&=-257,e=Gg(t,e,s)):e.memoizedState!==null?(Da(),e.child=t.child,e.flags|=128,e=null):(Da(),i=n.fallback,l=e.mode,n=om({mode:"visible",children:n.children},l),i=Kr(i,l,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Yl(e,t.child,null,s),n=e.child,n.memoizedState=Wg(s),n.childLanes=Yg(t,r,s),e.memoizedState=qg,e=i);else if(Oa(e),Jb(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,n=Error(ce(419)),n.stack="",n.digest=r,Wu({value:n,source:null,stack:null}),e=Gg(t,e,s)}else if(as||kd(t,e,s,!1),r=(s&t.childLanes)!==0,as||r){if(r=Et,r!==null&&(n=s&-s,n=n&42?1:h_(n),n=n&(r.suspendedLanes|s)?0:n,n!==0&&n!==c.retryLane))throw c.retryLane=n,gc(t,n),cn(r,t,n),ek;l.data==="$?"||qb(),e=Gg(t,e,s)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,It=Qn(l.nextSibling),Cs=e,at=!0,Qr=null,pi=!1,t!==null&&(En[Nn++]=Ki,En[Nn++]=Xi,En[Nn++]=Xr,Ki=t.id,Xi=t.overflow,Xr=e),e=Bb(e,n.children),e.flags|=4096);return e}return i?(Da(),i=n.fallback,l=e.mode,c=t.child,u=c.sibling,n=ea(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=ea(u,i):(i=Kr(i,l,s,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=t.child.memoizedState,l===null?l=Wg(s):(c=l.cachePool,c!==null?(u=Jt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=cC(),l={baseLanes:l.baseLanes|s,cachePool:c}),i.memoizedState=l,i.childLanes=Yg(t,r,s),e.memoizedState=qg,n):(Oa(e),s=t.child,t=s.sibling,s=ea(s,{mode:"visible",children:n.children}),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s)}function Bb(t,e){return e=om({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function om(t,e){return t=tn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Gg(t,e,s){return Yl(e,t.child,null,s),t=Bb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PS(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Nb(t.return,e,s)}function Kg(t,e,s,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function ik(t,e,s){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ds(t,e,n.children,s),n=Zt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PS(t,s,e);else if(t.tag===19)PS(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(Ot(Zt,n),i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&im(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),Kg(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&im(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}Kg(e,!0,s,null,a);break;case"together":Kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oa(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(s&e.childLanes))if(t!==null){if(kd(t,e,s,!1),(s&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,s=ea(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=ea(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function F_(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Zf(t)))}function EI(t,e,s){switch(e.tag){case 3:qf(e,e.stateNode.containerInfo),Aa(e,Jt,t.memoizedState.cache),Cd();break;case 27:case 5:mb(e);break;case 4:qf(e,e.stateNode.containerInfo);break;case 10:Aa(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Oa(e),e.flags|=128,null):s&e.child.childLanes?nk(t,e,s):(Oa(e),t=oa(t,e,s),t!==null?t.sibling:null);Oa(e);break;case 19:var i=(t.flags&128)!==0;if(n=(s&e.childLanes)!==0,n||(kd(t,e,s,!1),n=(s&e.childLanes)!==0),i){if(n)return ik(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Zt,Zt.current),n)break;return null;case 22:case 23:return e.lanes=0,sk(t,e,s);case 24:Aa(e,Jt,t.memoizedState.cache)}return oa(t,e,s)}function ak(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps)as=!0;else{if(!F_(t,s)&&!(e.flags&128))return as=!1,EI(t,e,s);as=!!(t.flags&131072)}else as=!1,at&&e.flags&1048576&&oC(e,Jf,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")S_(n)?(t=lo(n,t),e.tag=1,e=MS(null,e,n,t,s)):(e.tag=0,e=Ib(null,e,n,t,s));else{if(n!=null){if(i=n.$$typeof,i===c_){e.tag=11,e=kS(null,e,n,t,s);break e}else if(i===u_){e.tag=14,e=AS(null,e,n,t,s);break e}}throw e=hb(n)||n,Error(ce(306,e,""))}}return e;case 0:return Ib(t,e,e.type,e.pendingProps,s);case 1:return n=e.type,i=lo(n,e.pendingProps),MS(t,e,n,i,s);case 3:e:{if(qf(e,e.stateNode.containerInfo),t===null)throw Error(ce(387));n=e.pendingProps;var a=e.memoizedState;i=a.element,Ab(t,e),wu(e,n,null,s);var r=e.memoizedState;if(n=r.cache,Aa(e,Jt,n),n!==a.cache&&Tb(e,[Jt],s,!0),xu(),n=r.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=RS(t,e,n,s);break e}else if(n!==i){i=Cn(Error(ce(424)),e),Wu(i),e=RS(t,e,n,s);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(It=Qn(t.firstChild),Cs=e,at=!0,Qr=null,pi=!0,s=YC(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Cd(),n===i){e=oa(t,e,s);break e}ds(t,e,n,s)}e=e.child}return e;case 26:return jf(t,e),t===null?(s=JS(e.type,null,e.pendingProps,null))?e.memoizedState=s:at||(s=e.type,t=e.pendingProps,n=mm(Ua.current).createElement(s),n[bs]=e,n[Fs]=t,fs(n,s,t),is(n),e.stateNode=n):e.memoizedState=JS(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return mb(e),t===null&&at&&(n=e.stateNode=qk(e.type,e.pendingProps,Ua.current),Cs=e,pi=!0,i=It,lr(e.type)?(Zb=i,It=Qn(n.firstChild)):It=i),ds(t,e,e.pendingProps.children,s),jf(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&at&&((i=n=It)&&(n=ZI(n,e.type,e.pendingProps,pi),n!==null?(e.stateNode=n,Cs=e,It=Qn(n.firstChild),pi=!1,i=!0):i=!1),i||ao(e)),mb(e),i=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,n=a.children,Xb(i,a)?n=null:r!==null&&Xb(i,r)&&(e.flags|=32),e.memoizedState!==null&&(i=O_(t,e,yI,null,null,s),Ju._currentValue=i),jf(t,e),ds(t,e,n,s),e.child;case 6:return t===null&&at&&((t=s=It)&&(s=e3(s,e.pendingProps,pi),s!==null?(e.stateNode=s,Cs=e,It=null,t=!0):t=!1),t||ao(e)),null;case 13:return nk(t,e,s);case 4:return qf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Yl(e,null,n,s):ds(t,e,n,s),e.child;case 11:return kS(t,e,e.type,e.pendingProps,s);case 7:return ds(t,e,e.pendingProps,s),e.child;case 8:return ds(t,e,e.pendingProps.children,s),e.child;case 12:return ds(t,e,e.pendingProps.children,s),e.child;case 10:return n=e.pendingProps,Aa(e,e.type,n.value),ds(t,e,n.children,s),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,ro(e),i=vs(i),n=n(i),e.flags|=1,ds(t,e,n,s),e.child;case 14:return AS(t,e,e.type,e.pendingProps,s);case 15:return tk(t,e,e.type,e.pendingProps,s);case 19:return ik(t,e,s);case 31:return n=e.pendingProps,s=e.mode,n={mode:n.mode,children:n.children},t===null?(s=om(n,s),s.ref=e.ref,e.child=s,s.return=e,e=s):(s=ea(t.child,n),s.ref=e.ref,e.child=s,s.return=e,e=s),e;case 22:return sk(t,e,s);case 24:return ro(e),n=vs(Jt),t===null?(i=T_(),i===null&&(i=Et,a=N_(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=s),i=a),e.memoizedState={parent:n,cache:i},C_(e),Aa(e,Jt,i)):(t.lanes&s&&(Ab(t,e),wu(e,null,null,s),xu()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Aa(e,Jt,n)):(n=a.cache,Aa(e,Jt,n),n!==i.cache&&Tb(e,[Jt],s,!0))),ds(t,e,e.pendingProps.children,s),e.child;case 29:throw e.pendingProps}throw Error(ce(156,e.tag))}function Pi(t){t.flags|=4}function LS(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Gk(e)){if(e=Rn.current,e!==null&&((et&4194048)===et?xi!==null:(et&62914560)!==et&&!(et&536870912)||e!==xi))throw vu=kb,uC;t.flags|=8192}}function Ah(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?O1():536870912,t.lanes|=e,Gl|=e)}function zc(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function NI(t,e,s){var n=e.pendingProps;switch(E_(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return Mt(e),null;case 3:return s=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ta(Jt),Hl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ic(e)?Pi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hS())),Mt(e),null;case 26:return s=e.memoizedState,t===null?(Pi(e),s!==null?(Mt(e),LS(e,s)):(Mt(e),e.flags&=-16777217)):s?s!==t.memoizedState?(Pi(e),Mt(e),LS(e,s)):(Mt(e),e.flags&=-16777217):(t.memoizedProps!==n&&Pi(e),Mt(e),e.flags&=-16777217),null;case 27:Wf(e),s=Ua.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Pi(e);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return Mt(e),null}t=vi.current,Ic(e)?uS(e):(t=qk(i,n,s),e.stateNode=t,Pi(e))}return Mt(e),null;case 5:if(Wf(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Pi(e);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return Mt(e),null}if(t=vi.current,Ic(e))uS(e);else{switch(i=mm(Ua.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(s,{is:n.is}):i.createElement(s)}}t[bs]=e,t[Fs]=n;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(fs(t,s,n),s){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Pi(e)}}return Mt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&Pi(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(t=Ua.current,Ic(e)){if(t=e.stateNode,s=e.memoizedProps,n=null,i=Cs,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[bs]=e,t=!!(t.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||Fk(t.nodeValue,s)),t||ao(e)}else t=mm(t).createTextNode(n),t[bs]=e,e.stateNode=t}return Mt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Ic(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[bs]=e}else Cd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else i=hS(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ji(e),e):(Ji(e),null)}if(Ji(e),e.flags&128)return e.lanes=s,e;if(s=n!==null,t=t!==null&&t.memoizedState!==null,s){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return s!==t&&s&&(e.child.flags|=8192),Ah(e,e.updateQueue),Mt(e),null;case 4:return Hl(),t===null&&X_(e.stateNode.containerInfo),Mt(e),null;case 10:return ta(e.type),Mt(e),null;case 19:if(rs(Zt),i=e.memoizedState,i===null)return Mt(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)zc(i,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=im(t),a!==null){for(e.flags|=128,zc(i,!1),t=a.updateQueue,e.updateQueue=t,Ah(e,t),e.subtreeFlags=0,t=s,s=e.child;s!==null;)rC(s,t),s=s.sibling;return Ot(Zt,Zt.current&1|2),e.child}t=t.sibling}i.tail!==null&&_i()>cm&&(e.flags|=128,n=!0,zc(i,!1),e.lanes=4194304)}else{if(!n)if(t=im(a),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,Ah(e,t),zc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!at)return Mt(e),null}else 2*_i()-i.renderingStartTime>cm&&s!==536870912&&(e.flags|=128,n=!0,zc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_i(),e.sibling=null,t=Zt.current,Ot(Zt,n?t&1|2:t&1),e):(Mt(e),null);case 22:case 23:return Ji(e),k_(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?s&536870912&&!(e.flags&128)&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),s=e.updateQueue,s!==null&&Ah(e,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==s&&(e.flags|=2048),t!==null&&rs(Jr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),ta(Jt),Mt(e),null;case 25:return null;case 30:return null}throw Error(ce(156,e.tag))}function TI(t,e){switch(E_(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ta(Jt),Hl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Wf(e),null;case 13:if(Ji(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Cd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rs(Zt),null;case 4:return Hl(),null;case 10:return ta(e.type),null;case 22:case 23:return Ji(e),k_(),t!==null&&rs(Jr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ta(Jt),null;case 25:return null;default:return null}}function rk(t,e){switch(E_(e),e.tag){case 3:ta(Jt),Hl();break;case 26:case 27:case 5:Wf(e);break;case 4:Hl();break;case 13:Ji(e);break;case 19:rs(Zt);break;case 10:ta(e.type);break;case 22:case 23:Ji(e),k_(),t!==null&&rs(Jr);break;case 24:ta(Jt)}}function Rd(t,e){try{var s=e.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&t)===t){n=void 0;var a=s.create,r=s.inst;n=a(),r.destroy=n}s=s.next}while(s!==i)}}catch(l){xt(e,e.return,l)}}function Za(t,e,s){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var r=n.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=e;var c=s,u=l;try{u()}catch(d){xt(i,c,d)}}}n=n.next}while(n!==a)}}catch(d){xt(e,e.return,d)}}function ok(t){var e=t.updateQueue;if(e!==null){var s=t.stateNode;try{fC(e,s)}catch(n){xt(t,t.return,n)}}}function lk(t,e,s){s.props=lo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(n){xt(t,e,n)}}function ju(t,e){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof s=="function"?t.refCleanup=s(n):s.current=n}}catch(i){xt(t,e,i)}}function gi(t,e){var s=t.ref,n=t.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(i){xt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){xt(t,e,i)}else s.current=null}function ck(t){var e=t.type,s=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(i){xt(t,t.return,i)}}function Xg(t,e,s){try{var n=t.stateNode;GI(n,t.type,s,e),n[Fs]=e}catch(i){xt(t,t.return,i)}}function uk(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Qg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zb(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,e):(e=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,e.appendChild(t),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=bp));else if(n!==4&&(n===27&&lr(t.type)&&(s=t.stateNode,e=null),t=t.child,t!==null))for(zb(t,e,s),t=t.sibling;t!==null;)zb(t,e,s),t=t.sibling}function lm(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(n===27&&lr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(lm(t,e,s),t=t.sibling;t!==null;)lm(t,e,s),t=t.sibling}function dk(t){var e=t.stateNode,s=t.memoizedProps;try{for(var n=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fs(e,n,s),e[bs]=t,e[Fs]=s}catch(a){xt(t,t.return,a)}}var Yi=!1,Ft=!1,Jg=!1,$S=typeof WeakSet=="function"?WeakSet:Set,ns=null;function CI(t,e){if(t=t.containerInfo,Gb=bm,t=J1(t),__(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var r=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==s||i!==0&&h.nodeType!==3||(l=r+i),h!==a||n!==0&&h.nodeType!==3||(c=r+n),h.nodeType===3&&(r+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===s&&++u===i&&(l=r),f===a&&++d===n&&(c=r),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kb={focusedElem:t,selectionRange:s},bm=!1,ns=e;ns!==null;)if(e=ns,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ns=t;else for(;ns!==null;){switch(e=ns,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,s=e,i=a.memoizedProps,a=a.memoizedState,n=s.stateNode;try{var v=lo(s.type,i,s.elementType===s.type);t=n.getSnapshotBeforeUpdate(v,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(_){xt(s,s.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,s=t.nodeType,s===9)Qb(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qb(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ce(163))}if(t=e.sibling,t!==null){t.return=e.return,ns=t;break}ns=e.return}}function hk(t,e,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:ba(t,s),n&4&&Rd(5,s);break;case 1:if(ba(t,s),n&4)if(t=s.stateNode,e===null)try{t.componentDidMount()}catch(r){xt(s,s.return,r)}else{var i=lo(s.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){xt(s,s.return,r)}}n&64&&ok(s),n&512&&ju(s,s.return);break;case 3:if(ba(t,s),n&64&&(t=s.updateQueue,t!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{fC(t,e)}catch(r){xt(s,s.return,r)}}break;case 27:e===null&&n&4&&dk(s);case 26:case 5:ba(t,s),e===null&&n&4&&ck(s),n&512&&ju(s,s.return);break;case 12:ba(t,s);break;case 13:ba(t,s),n&4&&pk(t,s),n&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=$I.bind(null,s),t3(t,s))));break;case 22:if(n=s.memoizedState!==null||Yi,!n){e=e!==null&&e.memoizedState!==null||Ft,i=Yi;var a=Ft;Yi=n,(Ft=e)&&!a?ja(t,s,(s.subtreeFlags&8772)!==0):ba(t,s),Yi=i,Ft=a}break;case 30:break;default:ba(t,s)}}function fk(t){var e=t.alternate;e!==null&&(t.alternate=null,fk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&m_(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,$s=!1;function Li(t,e,s){for(s=s.child;s!==null;)mk(t,e,s),s=s.sibling}function mk(t,e,s){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Sd,s)}catch{}switch(s.tag){case 26:Ft||gi(s,e),Li(t,e,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ft||gi(s,e);var n=kt,i=$s;lr(s.type)&&(kt=s.stateNode,$s=!1),Li(t,e,s),Cu(s.stateNode),kt=n,$s=i;break;case 5:Ft||gi(s,e);case 6:if(n=kt,i=$s,kt=null,Li(t,e,s),kt=n,$s=i,kt!==null)if($s)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(s.stateNode)}catch(a){xt(s,e,a)}else try{kt.removeChild(s.stateNode)}catch(a){xt(s,e,a)}break;case 18:kt!==null&&($s?(t=kt,KS(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),td(t)):KS(kt,s.stateNode));break;case 4:n=kt,i=$s,kt=s.stateNode.containerInfo,$s=!0,Li(t,e,s),kt=n,$s=i;break;case 0:case 11:case 14:case 15:Ft||Za(2,s,e),Ft||Za(4,s,e),Li(t,e,s);break;case 1:Ft||(gi(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"&&lk(s,e,n)),Li(t,e,s);break;case 21:Li(t,e,s);break;case 22:Ft=(n=Ft)||s.memoizedState!==null,Li(t,e,s),Ft=n;break;default:Li(t,e,s)}}function pk(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{td(t)}catch(s){xt(e,e.return,s)}}function kI(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new $S),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new $S),e;default:throw Error(ce(435,t.tag))}}function Zg(t,e){var s=kI(t);e.forEach(function(n){var i=II.bind(null,t,n);s.has(n)||(s.add(n),n.then(i,i))})}function Ks(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(lr(l.type)){kt=l.stateNode,$s=!1;break e}break;case 5:kt=l.stateNode,$s=!1;break e;case 3:case 4:kt=l.stateNode.containerInfo,$s=!0;break e}l=l.return}if(kt===null)throw Error(ce(160));mk(a,r,i),kt=null,$s=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)gk(e,t),e=e.sibling}var Wn=null;function gk(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ks(e,t),Xs(t),n&4&&(Za(3,t,t.return),Rd(3,t),Za(5,t,t.return));break;case 1:Ks(e,t),Xs(t),n&512&&(Ft||s===null||gi(s,s.return)),n&64&&Yi&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var i=Wn;if(Ks(e,t),Xs(t),n&512&&(Ft||s===null||gi(s,s.return)),n&4){var a=s!==null?s.memoizedState:null;if(n=t.memoizedState,s===null)if(n===null)if(t.stateNode===null){e:{n=t.type,s=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Nd]||a[bs]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),fs(a,n,s),a[bs]=t,is(a),n=a;break e;case"link":var r=ej("link","href",i).get(n+(s.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&a.getAttribute("rel")===(s.rel==null?null:s.rel)&&a.getAttribute("title")===(s.title==null?null:s.title)&&a.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){r.splice(l,1);break t}}a=i.createElement(n),fs(a,n,s),i.head.appendChild(a);break;case"meta":if(r=ej("meta","content",i).get(n+(s.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(s.content==null?null:""+s.content)&&a.getAttribute("name")===(s.name==null?null:s.name)&&a.getAttribute("property")===(s.property==null?null:s.property)&&a.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&a.getAttribute("charset")===(s.charSet==null?null:s.charSet)){r.splice(l,1);break t}}a=i.createElement(n),fs(a,n,s),i.head.appendChild(a);break;default:throw Error(ce(468,n))}a[bs]=t,is(a),n=a}t.stateNode=n}else tj(i,t.type,t.stateNode);else t.stateNode=ZS(i,n,t.memoizedProps);else a!==n?(a===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):a.count--,n===null?tj(i,t.type,t.stateNode):ZS(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Xg(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ks(e,t),Xs(t),n&512&&(Ft||s===null||gi(s,s.return)),s!==null&&n&4&&Xg(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ks(e,t),Xs(t),n&512&&(Ft||s===null||gi(s,s.return)),t.flags&32){i=t.stateNode;try{Ul(i,"")}catch(m){xt(t,t.return,m)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,Xg(t,i,s!==null?s.memoizedProps:i)),n&1024&&(Jg=!0);break;case 6:if(Ks(e,t),Xs(t),n&4){if(t.stateNode===null)throw Error(ce(162));n=t.memoizedProps,s=t.stateNode;try{s.nodeValue=n}catch(m){xt(t,t.return,m)}}break;case 3:if(Tf=null,i=Wn,Wn=pm(e.containerInfo),Ks(e,t),Wn=i,Xs(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{td(e.containerInfo)}catch(m){xt(t,t.return,m)}Jg&&(Jg=!1,yk(t));break;case 4:n=Wn,Wn=pm(t.stateNode.containerInfo),Ks(e,t),Xs(t),Wn=n;break;case 12:Ks(e,t),Xs(t);break;case 13:Ks(e,t),Xs(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Y_=_i()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Zg(t,n)));break;case 22:i=t.memoizedState!==null;var c=s!==null&&s.memoizedState!==null,u=Yi,d=Ft;if(Yi=u||i,Ft=d||c,Ks(e,t),Ft=d,Yi=u,Xs(t),n&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(s===null||c||Yi||Ft||Mr(t)),s=null,e=t;;){if(e.tag===5||e.tag===26){if(s===null){c=s=e;try{if(a=c.stateNode,i)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){xt(c,c.return,m)}}}else if(e.tag===6){if(s===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){xt(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;s===e&&(s=null),e=e.return}s===e&&(s=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,Zg(t,s))));break;case 19:Ks(e,t),Xs(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Zg(t,n)));break;case 30:break;case 21:break;default:Ks(e,t),Xs(t)}}function Xs(t){var e=t.flags;if(e&2){try{for(var s,n=t.return;n!==null;){if(uk(n)){s=n;break}n=n.return}if(s==null)throw Error(ce(160));switch(s.tag){case 27:var i=s.stateNode,a=Qg(t);lm(t,a,i);break;case 5:var r=s.stateNode;s.flags&32&&(Ul(r,""),s.flags&=-33);var l=Qg(t);lm(t,l,r);break;case 3:case 4:var c=s.stateNode.containerInfo,u=Qg(t);zb(t,u,c);break;default:throw Error(ce(161))}}catch(d){xt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yk(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;yk(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ba(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)hk(t,e.alternate,e),e=e.sibling}function Mr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Za(4,e,e.return),Mr(e);break;case 1:gi(e,e.return);var s=e.stateNode;typeof s.componentWillUnmount=="function"&&lk(e,e.return,s),Mr(e);break;case 27:Cu(e.stateNode);case 26:case 5:gi(e,e.return),Mr(e);break;case 22:e.memoizedState===null&&Mr(e);break;case 30:Mr(e);break;default:Mr(e)}t=t.sibling}}function ja(t,e,s){for(s=s&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:ja(i,a,s),Rd(4,a);break;case 1:if(ja(i,a,s),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){xt(n,n.return,u)}if(n=a,i=n.updateQueue,i!==null){var l=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)hC(c[i],l)}catch(u){xt(n,n.return,u)}}s&&r&64&&ok(a),ju(a,a.return);break;case 27:dk(a);case 26:case 5:ja(i,a,s),s&&n===null&&r&4&&ck(a),ju(a,a.return);break;case 12:ja(i,a,s);break;case 13:ja(i,a,s),s&&r&4&&pk(i,a);break;case 22:a.memoizedState===null&&ja(i,a,s),ju(a,a.return);break;case 30:break;default:ja(i,a,s)}e=e.sibling}}function U_(t,e){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ad(s))}function V_(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ad(t))}function li(t,e,s,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bk(t,e,s,n),e=e.sibling}function bk(t,e,s,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:li(t,e,s,n),i&2048&&Rd(9,e);break;case 1:li(t,e,s,n);break;case 3:li(t,e,s,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ad(t)));break;case 12:if(i&2048){li(t,e,s,n),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){xt(e,e.return,c)}}else li(t,e,s,n);break;case 13:li(t,e,s,n);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?li(t,e,s,n):Eu(t,e):a._visibility&2?li(t,e,s,n):(a._visibility|=2,il(t,e,s,n,(e.subtreeFlags&10256)!==0)),i&2048&&U_(r,e);break;case 24:li(t,e,s,n),i&2048&&V_(e.alternate,e);break;default:li(t,e,s,n)}}function il(t,e,s,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,r=e,l=s,c=n,u=r.flags;switch(r.tag){case 0:case 11:case 15:il(a,r,l,c,i),Rd(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?il(a,r,l,c,i):Eu(a,r):(d._visibility|=2,il(a,r,l,c,i)),i&&u&2048&&U_(r.alternate,r);break;case 24:il(a,r,l,c,i),i&&u&2048&&V_(r.alternate,r);break;default:il(a,r,l,c,i)}e=e.sibling}}function Eu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var s=t,n=e,i=n.flags;switch(n.tag){case 22:Eu(s,n),i&2048&&U_(n.alternate,n);break;case 24:Eu(s,n),i&2048&&V_(n.alternate,n);break;default:Eu(s,n)}e=e.sibling}}var lu=8192;function Bo(t){if(t.subtreeFlags&lu)for(t=t.child;t!==null;)vk(t),t=t.sibling}function vk(t){switch(t.tag){case 26:Bo(t),t.flags&lu&&t.memoizedState!==null&&m3(Wn,t.memoizedState,t.memoizedProps);break;case 5:Bo(t);break;case 3:case 4:var e=Wn;Wn=pm(t.stateNode.containerInfo),Bo(t),Wn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=lu,lu=16777216,Bo(t),lu=e):Bo(t));break;default:Bo(t)}}function _k(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Hc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var s=0;s<e.length;s++){var n=e[s];ns=n,wk(n,t)}_k(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xk(t),t=t.sibling}function xk(t){switch(t.tag){case 0:case 11:case 15:Hc(t),t.flags&2048&&Za(9,t,t.return);break;case 3:Hc(t);break;case 12:Hc(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ef(t)):Hc(t);break;default:Hc(t)}}function Ef(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var s=0;s<e.length;s++){var n=e[s];ns=n,wk(n,t)}_k(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Za(8,e,e.return),Ef(e);break;case 22:s=e.stateNode,s._visibility&2&&(s._visibility&=-3,Ef(e));break;default:Ef(e)}t=t.sibling}}function wk(t,e){for(;ns!==null;){var s=ns;switch(s.tag){case 0:case 11:case 15:Za(8,s,e);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ad(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,ns=n;else e:for(s=t;ns!==null;){n=ns;var i=n.sibling,a=n.return;if(fk(n),n===s){ns=null;break e}if(i!==null){i.return=a,ns=i;break e}ns=a}}}var AI={getCacheForType:function(t){var e=vs(Jt),s=e.data.get(t);return s===void 0&&(s=t(),e.data.set(t,s)),s}},OI=typeof WeakMap=="function"?WeakMap:Map,mt=0,Et=null,Xe=null,et=0,ht=0,Zs=null,Ia=!1,yc=!1,q_=!1,la=0,Bt=0,er=0,Zr=0,W_=0,kn=0,Gl=0,Nu=null,Is=null,Hb=!1,Y_=0,cm=1/0,um=null,Wa=null,hs=0,Ya=null,Kl=null,Pl=0,Fb=0,Ub=null,Sk=null,Tu=0,Vb=null;function ln(){if(mt&2&&et!==0)return et&-et;if(Pe.T!==null){var t=Vl;return t!==0?t:K_()}return R1()}function jk(){kn===0&&(kn=!(et&536870912)||at?A1():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),kn}function cn(t,e,s){(t===Et&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(Xl(t,0),Ba(t,et,kn,!1)),Ed(t,s),(!(mt&2)||t!==Et)&&(t===Et&&(!(mt&2)&&(Zr|=s),Bt===4&&Ba(t,et,kn,!1)),ki(t))}function Ek(t,e,s){if(mt&6)throw Error(ce(327));var n=!s&&(e&124)===0&&(e&t.expiredLanes)===0||jd(t,e),i=n?RI(t,e):ey(t,e,!0),a=n;do{if(i===0){yc&&!n&&Ba(t,e,0,!1);break}else{if(s=t.current.alternate,a&&!DI(s)){i=ey(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;i=Nu;var c=l.current.memoizedState.isDehydrated;if(c&&(Xl(l,r).flags|=256),r=ey(l,r,!1),r!==2){if(q_&&!c){l.errorRecoveryDisabledLanes|=a,Zr|=a,i=4;break e}a=Is,Is=i,a!==null&&(Is===null?Is=a:Is.push.apply(Is,a))}i=r}if(a=!1,i!==2)continue}}if(i===1){Xl(t,0),Ba(t,e,0,!0);break}e:{switch(n=t,a=i,a){case 0:case 1:throw Error(ce(345));case 4:if((e&4194048)!==e)break;case 6:Ba(n,e,kn,!Ia);break e;case 2:Is=null;break;case 3:case 5:break;default:throw Error(ce(329))}if((e&62914560)===e&&(i=Y_+300-_i(),10<i)){if(Ba(n,e,kn,!Ia),ap(n,0,!0)!==0)break e;n.timeoutHandle=Vk(IS.bind(null,n,s,Is,um,Hb,e,kn,Zr,Gl,Ia,a,2,-0,0),i);break e}IS(n,s,Is,um,Hb,e,kn,Zr,Gl,Ia,a,0,-0,0)}}break}while(!0);ki(t)}function IS(t,e,s,n,i,a,r,l,c,u,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:f3},vk(e),h=p3(),h!==null)){t.cancelPendingCommit=h(zS.bind(null,t,e,a,s,n,i,r,l,c,d,1,f,m)),Ba(t,a,r,!u);return}zS(t,e,a,s,n,i,r,l,c)}function DI(t){for(var e=t;;){var s=e.tag;if((s===0||s===11||s===15)&&e.flags&16384&&(s=e.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!dn(a(),i))return!1}catch{return!1}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e,s,n){e&=~W_,e&=~Zr,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var a=31-on(i),r=1<<a;n[a]=-1,i&=~r}s!==0&&D1(t,s,e)}function pp(){return mt&6?!0:(Pd(0),!1)}function G_(){if(Xe!==null){if(ht===0)var t=Xe.return;else t=Xe,Qi=wo=null,R_(t),Rl=null,Gu=0,t=Xe;for(;t!==null;)rk(t.alternate,t),t=t.return;Xe=null}}function Xl(t,e){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,XI(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),G_(),Et=t,Xe=s=ea(t.current,null),et=e,ht=0,Zs=null,Ia=!1,yc=jd(t,e),q_=!1,Gl=kn=W_=Zr=er=Bt=0,Is=Nu=null,Hb=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-on(n),a=1<<i;e|=t[i],n&=~a}return la=e,cp(),s}function Nk(t,e){We=null,Pe.H=nm,e===Od||e===dp?(e=gS(),ht=3):e===uC?(e=gS(),ht=4):ht=e===ek?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Zs=e,Xe===null&&(Bt=1,rm(t,Cn(e,t.current)))}function Tk(){var t=Pe.H;return Pe.H=nm,t===null?nm:t}function Ck(){var t=Pe.A;return Pe.A=AI,t}function qb(){Bt=4,Ia||(et&4194048)!==et&&Rn.current!==null||(yc=!0),!(er&134217727)&&!(Zr&134217727)||Et===null||Ba(Et,et,kn,!1)}function ey(t,e,s){var n=mt;mt|=2;var i=Tk(),a=Ck();(Et!==t||et!==e)&&(um=null,Xl(t,e)),e=!1;var r=Bt;e:do try{if(ht!==0&&Xe!==null){var l=Xe,c=Zs;switch(ht){case 8:G_(),r=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(e=!0);var u=ht;if(ht=0,Zs=null,jl(t,l,c,u),s&&yc){r=0;break e}break;default:u=ht,ht=0,Zs=null,jl(t,l,c,u)}}MI(),r=Bt;break}catch(d){Nk(t,d)}while(!0);return e&&t.shellSuspendCounter++,Qi=wo=null,mt=n,Pe.H=i,Pe.A=a,Xe===null&&(Et=null,et=0,cp()),r}function MI(){for(;Xe!==null;)kk(Xe)}function RI(t,e){var s=mt;mt|=2;var n=Tk(),i=Ck();Et!==t||et!==e?(um=null,cm=_i()+500,Xl(t,e)):yc=jd(t,e);e:do try{if(ht!==0&&Xe!==null){e=Xe;var a=Zs;t:switch(ht){case 1:ht=0,Zs=null,jl(t,e,a,1);break;case 2:case 9:if(pS(a)){ht=0,Zs=null,BS(e);break}e=function(){ht!==2&&ht!==9||Et!==t||(ht=7),ki(t)},a.then(e,e);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:pS(a)?(ht=0,Zs=null,BS(e)):(ht=0,Zs=null,jl(t,e,a,7));break;case 5:var r=null;switch(Xe.tag){case 26:r=Xe.memoizedState;case 5:case 27:var l=Xe;if(!r||Gk(r)){ht=0,Zs=null;var c=l.sibling;if(c!==null)Xe=c;else{var u=l.return;u!==null?(Xe=u,gp(u)):Xe=null}break t}}ht=0,Zs=null,jl(t,e,a,5);break;case 6:ht=0,Zs=null,jl(t,e,a,6);break;case 8:G_(),Bt=6;break e;default:throw Error(ce(462))}}PI();break}catch(d){Nk(t,d)}while(!0);return Qi=wo=null,Pe.H=n,Pe.A=i,mt=s,Xe!==null?0:(Et=null,et=0,cp(),Bt)}function PI(){for(;Xe!==null&&!n$();)kk(Xe)}function kk(t){var e=ak(t.alternate,t,la);t.memoizedProps=t.pendingProps,e===null?gp(t):Xe=e}function BS(t){var e=t,s=e.alternate;switch(e.tag){case 15:case 0:e=DS(s,e,e.pendingProps,e.type,void 0,et);break;case 11:e=DS(s,e,e.pendingProps,e.type.render,e.ref,et);break;case 5:R_(e);default:rk(s,e),e=Xe=rC(e,la),e=ak(s,e,la)}t.memoizedProps=t.pendingProps,e===null?gp(t):Xe=e}function jl(t,e,s,n){Qi=wo=null,R_(e),Rl=null,Gu=0;var i=e.return;try{if(jI(t,i,e,s,et)){Bt=1,rm(t,Cn(s,t.current)),Xe=null;return}}catch(a){if(i!==null)throw Xe=i,a;Bt=1,rm(t,Cn(s,t.current)),Xe=null;return}e.flags&32768?(at||n===1?t=!0:yc||et&536870912?t=!1:(Ia=t=!0,(n===2||n===9||n===3||n===6)&&(n=Rn.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ak(e,t)):gp(e)}function gp(t){var e=t;do{if(e.flags&32768){Ak(e,Ia);return}t=e.return;var s=NI(e.alternate,e,la);if(s!==null){Xe=s;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);Bt===0&&(Bt=5)}function Ak(t,e){do{var s=TI(t.alternate,t);if(s!==null){s.flags&=32767,Xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!e&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=s}while(t!==null);Bt=6,Xe=null}function zS(t,e,s,n,i,a,r,l,c){t.cancelPendingCommit=null;do yp();while(hs!==0);if(mt&6)throw Error(ce(327));if(e!==null){if(e===t.current)throw Error(ce(177));if(a=e.lanes|e.childLanes,a|=x_,f$(t,s,a,r,l,c),t===Et&&(Xe=Et=null,et=0),Kl=e,Ya=t,Pl=s,Fb=a,Ub=i,Sk=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,BI(Yf,function(){return Pk(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=Pe.T,Pe.T=null,i=rt.p,rt.p=2,r=mt,mt|=4;try{CI(t,e,s)}finally{mt=r,rt.p=i,Pe.T=n}}hs=1,Ok(),Dk(),Mk()}}function Ok(){if(hs===1){hs=0;var t=Ya,e=Kl,s=(e.flags&13878)!==0;if(e.subtreeFlags&13878||s){s=Pe.T,Pe.T=null;var n=rt.p;rt.p=2;var i=mt;mt|=4;try{gk(e,t);var a=Kb,r=J1(t.containerInfo),l=a.focusedElem,c=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&Q1(l.ownerDocument.documentElement,l)){if(c!==null&&__(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),v=l.textContent.length,_=Math.min(c.start,v),x=c.end===void 0?_:Math.min(c.end,v);!m.extend&&_>x&&(r=x,x=_,_=r);var y=oS(l,_),g=oS(l,x);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var b=h.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),_>x?(m.addRange(b),m.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),m.addRange(b))}}}}for(h=[],m=l;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var w=h[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bm=!!Gb,Kb=Gb=null}finally{mt=i,rt.p=n,Pe.T=s}}t.current=e,hs=2}}function Dk(){if(hs===2){hs=0;var t=Ya,e=Kl,s=(e.flags&8772)!==0;if(e.subtreeFlags&8772||s){s=Pe.T,Pe.T=null;var n=rt.p;rt.p=2;var i=mt;mt|=4;try{hk(t,e.alternate,e)}finally{mt=i,rt.p=n,Pe.T=s}}hs=3}}function Mk(){if(hs===4||hs===3){hs=0,i$();var t=Ya,e=Kl,s=Pl,n=Sk;e.subtreeFlags&10256||e.flags&10256?hs=5:(hs=0,Kl=Ya=null,Rk(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Wa=null),f_(s),e=e.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Sd,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=Pe.T,i=rt.p,rt.p=2,Pe.T=null;try{for(var a=t.onRecoverableError,r=0;r<n.length;r++){var l=n[r];a(l.value,{componentStack:l.stack})}}finally{Pe.T=e,rt.p=i}}Pl&3&&yp(),ki(t),i=t.pendingLanes,s&4194090&&i&42?t===Vb?Tu++:(Tu=0,Vb=t):Tu=0,Pd(0)}}function Rk(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ad(e)))}function yp(t){return Ok(),Dk(),Mk(),Pk()}function Pk(){if(hs!==5)return!1;var t=Ya,e=Fb;Fb=0;var s=f_(Pl),n=Pe.T,i=rt.p;try{rt.p=32>s?32:s,Pe.T=null,s=Ub,Ub=null;var a=Ya,r=Pl;if(hs=0,Kl=Ya=null,Pl=0,mt&6)throw Error(ce(331));var l=mt;if(mt|=4,xk(a.current),bk(a,a.current,r,s),mt=l,Pd(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Sd,a)}catch{}return!0}finally{rt.p=i,Pe.T=n,Rk(t,e)}}function HS(t,e,s){e=Cn(s,e),e=$b(t.stateNode,e,2),t=qa(t,e,2),t!==null&&(Ed(t,2),ki(t))}function xt(t,e,s){if(t.tag===3)HS(t,t,s);else for(;e!==null;){if(e.tag===3){HS(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wa===null||!Wa.has(n))){t=Cn(s,t),s=JC(2),n=qa(e,s,2),n!==null&&(ZC(s,n,e,t),Ed(n,2),ki(n));break}}e=e.return}}function ty(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new OI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(s)||(q_=!0,i.add(s),t=LI.bind(null,t,e,s),e.then(t,t))}function LI(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Et===t&&(et&s)===s&&(Bt===4||Bt===3&&(et&62914560)===et&&300>_i()-Y_?!(mt&2)&&Xl(t,0):W_|=s,Gl===et&&(Gl=0)),ki(t)}function Lk(t,e){e===0&&(e=O1()),t=gc(t,e),t!==null&&(Ed(t,e),ki(t))}function $I(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Lk(t,s)}function II(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(ce(314))}n!==null&&n.delete(e),Lk(t,s)}function BI(t,e){return d_(t,e)}var dm=null,al=null,Wb=!1,hm=!1,sy=!1,eo=0;function ki(t){t!==al&&t.next===null&&(al===null?dm=al=t:al=al.next=t),hm=!0,Wb||(Wb=!0,HI())}function Pd(t,e){if(!sy&&hm){sy=!0;do for(var s=!1,n=dm;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var r=n.suspendedLanes,l=n.pingedLanes;a=(1<<31-on(42|t)+1)-1,a&=i&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(s=!0,FS(n,a))}else a=et,a=ap(n,n===Et?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||jd(n,a)||(s=!0,FS(n,a));n=n.next}while(s);sy=!1}}function zI(){$k()}function $k(){hm=Wb=!1;var t=0;eo!==0&&(KI()&&(t=eo),eo=0);for(var e=_i(),s=null,n=dm;n!==null;){var i=n.next,a=Ik(n,e);a===0?(n.next=null,s===null?dm=i:s.next=i,i===null&&(al=s)):(s=n,(t!==0||a&3)&&(hm=!0)),n=i}Pd(t)}function Ik(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-on(a),l=1<<r,c=i[r];c===-1?(!(l&s)||l&n)&&(i[r]=h$(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}if(e=Et,s=et,s=ap(t,t===e?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,s===0||t===e&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Cg(n),t.callbackNode=null,t.callbackPriority=0;if(!(s&3)||jd(t,s)){if(e=s&-s,e===t.callbackPriority)return e;switch(n!==null&&Cg(n),f_(s)){case 2:case 8:s=C1;break;case 32:s=Yf;break;case 268435456:s=k1;break;default:s=Yf}return n=Bk.bind(null,t),s=d_(s,n),t.callbackPriority=e,t.callbackNode=s,e}return n!==null&&n!==null&&Cg(n),t.callbackPriority=2,t.callbackNode=null,2}function Bk(t,e){if(hs!==0&&hs!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(yp()&&t.callbackNode!==s)return null;var n=et;return n=ap(t,t===Et?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(Ek(t,n,e),Ik(t,_i()),t.callbackNode!=null&&t.callbackNode===s?Bk.bind(null,t):null)}function FS(t,e){if(yp())return null;Ek(t,e,!0)}function HI(){QI(function(){mt&6?d_(T1,zI):$k()})}function K_(){return eo===0&&(eo=A1()),eo}function US(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yf(""+t)}function VS(t,e){var s=e.ownerDocument.createElement("input");return s.name=e.name,s.value=e.value,t.id&&s.setAttribute("form",t.id),e.parentNode.insertBefore(s,e),t=new FormData(t),s.parentNode.removeChild(s),t}function FI(t,e,s,n,i){if(e==="submit"&&s&&s.stateNode===i){var a=US((i[Fs]||null).action),r=n.submitter;r&&(e=(e=r[Fs]||null)?US(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new rp("action","action",null,n,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(eo!==0){var c=r?VS(i,r):new FormData(i);Pb(s,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(l.preventDefault(),c=r?VS(i,r):new FormData(i),Pb(s,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var ny=0;ny<Sb.length;ny++){var iy=Sb[ny],UI=iy.toLowerCase(),VI=iy[0].toUpperCase()+iy.slice(1);ti(UI,"on"+VI)}ti(eC,"onAnimationEnd");ti(tC,"onAnimationIteration");ti(sC,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(oI,"onTransitionRun");ti(lI,"onTransitionStart");ti(cI,"onTransitionCancel");ti(nC,"onTransitionEnd");Fl("onMouseEnter",["mouseout","mouseover"]);Fl("onMouseLeave",["mouseout","mouseover"]);Fl("onPointerEnter",["pointerout","pointerover"]);Fl("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function zk(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var r=n.length-1;0<=r;r--){var l=n[r],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){am(d)}i.currentTarget=null,a=c}else for(r=0;r<n.length;r++){if(l=n[r],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){am(d)}i.currentTarget=null,a=c}}}}function Ke(t,e){var s=e[gb];s===void 0&&(s=e[gb]=new Set);var n=t+"__bubble";s.has(n)||(Hk(e,t,2,!1),s.add(n))}function ay(t,e,s){var n=0;e&&(n|=4),Hk(s,t,n,e)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function X_(t){if(!t[Oh]){t[Oh]=!0,P1.forEach(function(s){s!=="selectionchange"&&(qI.has(s)||ay(s,!1,t),ay(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oh]||(e[Oh]=!0,ay("selectionchange",!1,e))}}function Hk(t,e,s,n){switch(Zk(e)){case 2:var i=b3;break;case 8:i=v3;break;default:i=ex}s=i.bind(null,e,s,t),i=void 0,!_b||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function ry(t,e,s,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var l=n.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=n.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=pl(l),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){n=a=r;continue e}l=l.parentNode}}n=n.return}U1(function(){var u=a,d=g_(s),h=[];e:{var f=iC.get(t);if(f!==void 0){var m=rp,v=t;switch(t){case"keypress":if(vf(s)===0)break e;case"keydown":case"keyup":m=B$;break;case"focusin":v="focus",m=Lg;break;case"focusout":v="blur",m=Lg;break;case"beforeblur":case"afterblur":m=Lg;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=T$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=F$;break;case eC:case tC:case sC:m=A$;break;case nC:m=V$;break;case"scroll":case"scrollend":m=E$;break;case"wheel":m=W$;break;case"copy":case"cut":case"paste":m=D$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zw;break;case"toggle":case"beforetoggle":m=G$}var _=(e&4)!==0,x=!_&&(t==="scroll"||t==="scrollend"),y=_?f!==null?f+"Capture":null:f;_=[];for(var g=u,b;g!==null;){var w=g;if(b=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||b===null||y===null||(w=Uu(g,y),w!=null&&_.push(Xu(g,w,b))),x)break;g=g.return}0<_.length&&(f=new m(f,v,null,s,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&s!==vb&&(v=s.relatedTarget||s.fromElement)&&(pl(v)||v[mc]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=s.relatedTarget||s.toElement,m=u,v=v?pl(v):null,v!==null&&(x=wd(v),_=v.tag,v!==x||_!==5&&_!==27&&_!==6)&&(v=null)):(m=null,v=u),m!==v)){if(_=Qw,w="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Zw,w="onPointerLeave",y="onPointerEnter",g="pointer"),x=m==null?f:ou(m),b=v==null?f:ou(v),f=new _(w,g+"leave",m,s,d),f.target=x,f.relatedTarget=b,w=null,pl(d)===u&&(_=new _(y,g+"enter",v,s,d),_.target=b,_.relatedTarget=x,w=_),x=w,m&&v)t:{for(_=m,y=v,g=0,b=_;b;b=zo(b))g++;for(b=0,w=y;w;w=zo(w))b++;for(;0<g-b;)_=zo(_),g--;for(;0<b-g;)y=zo(y),b--;for(;g--;){if(_===y||y!==null&&_===y.alternate)break t;_=zo(_),y=zo(y)}_=null}else _=null;m!==null&&qS(h,f,m,_,!1),v!==null&&x!==null&&qS(h,x,v,_,!0)}}e:{if(f=u?ou(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=nS;else if(sS(f))if(K1)E=iI;else{E=sI;var C=tI}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&p_(u.elementType)&&(E=nS):E=nI;if(E&&(E=E(t,u))){G1(h,E,s,d);break e}C&&C(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&bb(f,"number",f.value)}switch(C=u?ou(u):window,t){case"focusin":(sS(C)||C.contentEditable==="true")&&(bl=C,xb=u,yu=null);break;case"focusout":yu=xb=bl=null;break;case"mousedown":wb=!0;break;case"contextmenu":case"mouseup":case"dragend":wb=!1,lS(h,s,d);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":lS(h,s,d)}var T;if(v_)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else yl?W1(t,s)&&(N="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(N="onCompositionStart");N&&(q1&&s.locale!=="ko"&&(yl||N!=="onCompositionStart"?N==="onCompositionEnd"&&yl&&(T=V1()):($a=d,y_="value"in $a?$a.value:$a.textContent,yl=!0)),C=fm(u,N),0<C.length&&(N=new Jw(N,t,null,s,d),h.push({event:N,listeners:C}),T?N.data=T:(T=Y1(s),T!==null&&(N.data=T)))),(T=X$?Q$(t,s):J$(t,s))&&(N=fm(u,"onBeforeInput"),0<N.length&&(C=new Jw("onBeforeInput","beforeinput",null,s,d),h.push({event:C,listeners:N}),C.data=T)),FI(h,t,u,s,d)}zk(h,e)})}function Xu(t,e,s){return{instance:t,listener:e,currentTarget:s}}function fm(t,e){for(var s=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Uu(t,s),i!=null&&n.unshift(Xu(t,i,a)),i=Uu(t,e),i!=null&&n.push(Xu(t,i,a))),t.tag===3)return n;t=t.return}return[]}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qS(t,e,s,n,i){for(var a=e._reactName,r=[];s!==null&&s!==n;){var l=s,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===n)break;l!==5&&l!==26&&l!==27||u===null||(c=u,i?(u=Uu(s,a),u!=null&&r.unshift(Xu(s,u,c))):i||(u=Uu(s,a),u!=null&&r.push(Xu(s,u,c)))),s=s.return}r.length!==0&&t.push({event:e,listeners:r})}var WI=/\r\n?/g,YI=/\u0000|\uFFFD/g;function WS(t){return(typeof t=="string"?t:""+t).replace(WI,`
`).replace(YI,"")}function Fk(t,e){return e=WS(e),WS(t)===e}function bp(){}function yt(t,e,s,n,i,a){switch(s){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Ul(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Ul(t,""+n);break;case"className":jh(t,"class",n);break;case"tabIndex":jh(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":jh(t,s,n);break;case"style":F1(t,n,a);break;case"data":if(e!=="object"){jh(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||s!=="href")){t.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=yf(""+n),t.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(s==="formAction"?(e!=="input"&&yt(t,e,"name",i.name,i,null),yt(t,e,"formEncType",i.formEncType,i,null),yt(t,e,"formMethod",i.formMethod,i,null),yt(t,e,"formTarget",i.formTarget,i,null)):(yt(t,e,"encType",i.encType,i,null),yt(t,e,"method",i.method,i,null),yt(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=yf(""+n),t.setAttribute(s,n);break;case"onClick":n!=null&&(t.onclick=bp);break;case"onScroll":n!=null&&Ke("scroll",t);break;case"onScrollEnd":n!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ce(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(ce(60));t.innerHTML=s}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}s=yf(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""+n):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":n===!0?t.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,n):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(s,n):t.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(s):t.setAttribute(s,n);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),gf(t,"popover",n);break;case"xlinkActuate":Ri(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Ri(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Ri(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Ri(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Ri(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Ri(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Ri(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Ri(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Ri(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":gf(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=S$.get(s)||s,gf(t,s,n))}}function Yb(t,e,s,n,i,a){switch(s){case"style":F1(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ce(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(ce(60));t.innerHTML=s}}break;case"children":typeof n=="string"?Ul(t,n):(typeof n=="number"||typeof n=="bigint")&&Ul(t,""+n);break;case"onScroll":n!=null&&Ke("scroll",t);break;case"onScrollEnd":n!=null&&Ke("scrollend",t);break;case"onClick":n!=null&&(t.onclick=bp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L1.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),e=s.slice(2,i?s.length-7:void 0),a=t[Fs]||null,a=a!=null?a[s]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(e,n,i);break e}s in t?t[s]=n:n===!0?t.setAttribute(s,""):gf(t,s,n)}}}function fs(t,e,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var n=!1,i=!1,a;for(a in s)if(s.hasOwnProperty(a)){var r=s[a];if(r!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ce(137,e));default:yt(t,e,a,r,s,null)}}i&&yt(t,e,"srcSet",s.srcSet,s,null),n&&yt(t,e,"src",s.src,s,null);return;case"input":Ke("invalid",t);var l=a=r=i=null,c=null,u=null;for(n in s)if(s.hasOwnProperty(n)){var d=s[n];if(d!=null)switch(n){case"name":i=d;break;case"type":r=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ce(137,e));break;default:yt(t,e,n,d,s,null)}}B1(t,a,l,c,u,r,i,!1),Gf(t);return;case"select":Ke("invalid",t),n=r=a=null;for(i in s)if(s.hasOwnProperty(i)&&(l=s[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":n=l;default:yt(t,e,i,l,s,null)}e=a,s=r,t.multiple=!!n,e!=null?kl(t,!!n,e,!1):s!=null&&kl(t,!!n,s,!0);return;case"textarea":Ke("invalid",t),a=i=n=null;for(r in s)if(s.hasOwnProperty(r)&&(l=s[r],l!=null))switch(r){case"value":n=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(ce(91));break;default:yt(t,e,r,l,s,null)}H1(t,n,i,a),Gf(t);return;case"option":for(c in s)if(s.hasOwnProperty(c)&&(n=s[c],n!=null))switch(c){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:yt(t,e,c,n,s,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Ke(Ku[n],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in s)if(s.hasOwnProperty(u)&&(n=s[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ce(137,e));default:yt(t,e,u,n,s,null)}return;default:if(p_(e)){for(d in s)s.hasOwnProperty(d)&&(n=s[d],n!==void 0&&Yb(t,e,d,n,s,void 0));return}}for(l in s)s.hasOwnProperty(l)&&(n=s[l],n!=null&&yt(t,e,l,n,s,null))}function GI(t,e,s,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,r=null,l=null,c=null,u=null,d=null;for(m in s){var h=s[m];if(s.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(m)||yt(t,e,m,null,n,h)}}for(var f in n){var m=n[f];if(h=s[f],n.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ce(137,e));break;default:m!==h&&yt(t,e,f,m,n,h)}}yb(t,r,l,c,u,d,a,i);return;case"select":m=r=l=f=null;for(a in s)if(c=s[a],s.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(a)||yt(t,e,a,null,n,c)}for(i in n)if(a=n[i],c=s[i],n.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==c&&yt(t,e,i,a,n,c)}e=l,s=r,n=m,f!=null?kl(t,!!s,f,!1):!!n!=!!s&&(e!=null?kl(t,!!s,e,!0):kl(t,!!s,s?[]:"",!1));return;case"textarea":m=f=null;for(l in s)if(i=s[l],s.hasOwnProperty(l)&&i!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:yt(t,e,l,null,n,i)}for(r in n)if(i=n[r],a=s[r],n.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ce(91));break;default:i!==a&&yt(t,e,r,i,n,a)}z1(t,f,m);return;case"option":for(var v in s)if(f=s[v],s.hasOwnProperty(v)&&f!=null&&!n.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:yt(t,e,v,null,n,f)}for(c in n)if(f=n[c],m=s[c],n.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:yt(t,e,c,f,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in s)f=s[_],s.hasOwnProperty(_)&&f!=null&&!n.hasOwnProperty(_)&&yt(t,e,_,null,n,f);for(u in n)if(f=n[u],m=s[u],n.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ce(137,e));break;default:yt(t,e,u,f,n,m)}return;default:if(p_(e)){for(var x in s)f=s[x],s.hasOwnProperty(x)&&f!==void 0&&!n.hasOwnProperty(x)&&Yb(t,e,x,void 0,n,f);for(d in n)f=n[d],m=s[d],!n.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Yb(t,e,d,f,n,m);return}}for(var y in s)f=s[y],s.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y)&&yt(t,e,y,null,n,f);for(h in n)f=n[h],m=s[h],!n.hasOwnProperty(h)||f===m||f==null&&m==null||yt(t,e,h,f,n,m)}var Gb=null,Kb=null;function mm(t){return t.nodeType===9?t:t.ownerDocument}function YS(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uk(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Xb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oy=null;function KI(){var t=window.event;return t&&t.type==="popstate"?t===oy?!1:(oy=t,!0):(oy=null,!1)}var Vk=typeof setTimeout=="function"?setTimeout:void 0,XI=typeof clearTimeout=="function"?clearTimeout:void 0,GS=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof GS<"u"?function(t){return GS.resolve(null).then(t).catch(JI)}:Vk;function JI(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function KS(t,e){var s=e,n=0,i=0;do{var a=s.nextSibling;if(t.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(0<n&&8>n){s=n;var r=t.ownerDocument;if(s&1&&Cu(r.documentElement),s&2&&Cu(r.body),s&4)for(s=r.head,Cu(s),r=s.firstChild;r;){var l=r.nextSibling,c=r.nodeName;r[Nd]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||s.removeChild(r),r=l}}if(i===0){t.removeChild(a),td(e);return}i--}else s==="$"||s==="$?"||s==="$!"?i++:n=s.charCodeAt(0)-48;else n=0;s=a}while(s);td(e)}function Qb(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var s=e;switch(e=e.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qb(s),m_(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ZI(t,e,s,n){for(;t.nodeType===1;){var i=s;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Nd])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function e3(t,e,s){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Qn(t.nextSibling),t===null))return null;return t}function Jb(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function t3(t,e){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")e();else{var n=function(){e(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Zb=null;function XS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}function qk(t,e,s){switch(e=mm(s),t){case"html":if(t=e.documentElement,!t)throw Error(ce(452));return t;case"head":if(t=e.head,!t)throw Error(ce(453));return t;case"body":if(t=e.body,!t)throw Error(ce(454));return t;default:throw Error(ce(451))}}function Cu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);m_(t)}var Pn=new Map,QS=new Set;function pm(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var da=rt.d;rt.d={f:s3,r:n3,D:i3,C:a3,L:r3,m:o3,X:c3,S:l3,M:u3};function s3(){var t=da.f(),e=pp();return t||e}function n3(t){var e=pc(t);e!==null&&e.tag===5&&e.type==="form"?IC(e):da.r(t)}var bc=typeof document>"u"?null:document;function Wk(t,e,s){var n=bc;if(n&&typeof e=="string"&&e){var i=Tn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),QS.has(i)||(QS.add(i),t={rel:t,crossOrigin:s,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),fs(e,"link",t),is(e),n.head.appendChild(e)))}}function i3(t){da.D(t),Wk("dns-prefetch",t,null)}function a3(t,e){da.C(t,e),Wk("preconnect",t,e)}function r3(t,e,s){da.L(t,e,s);var n=bc;if(n&&t&&e){var i='link[rel="preload"][as="'+Tn(e)+'"]';e==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+Tn(s.imageSizes)+'"]')):i+='[href="'+Tn(t)+'"]';var a=i;switch(e){case"style":a=Ql(t);break;case"script":a=vc(t)}Pn.has(a)||(t=Ct({rel:"preload",href:e==="image"&&s&&s.imageSrcSet?void 0:t,as:e},s),Pn.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(Ld(a))||e==="script"&&n.querySelector($d(a))||(e=n.createElement("link"),fs(e,"link",t),is(e),n.head.appendChild(e)))}}function o3(t,e){da.m(t,e);var s=bc;if(s&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Tn(n)+'"][href="'+Tn(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=vc(t)}if(!Pn.has(a)&&(t=Ct({rel:"modulepreload",href:t},e),Pn.set(a,t),s.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($d(a)))return}n=s.createElement("link"),fs(n,"link",t),is(n),s.head.appendChild(n)}}}function l3(t,e,s){da.S(t,e,s);var n=bc;if(n&&t){var i=Cl(n).hoistableStyles,a=Ql(t);e=e||"default";var r=i.get(a);if(!r){var l={loading:0,preload:null};if(r=n.querySelector(Ld(a)))l.loading=5;else{t=Ct({rel:"stylesheet",href:t,"data-precedence":e},s),(s=Pn.get(a))&&Q_(t,s);var c=r=n.createElement("link");is(c),fs(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Nf(r,e,n)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(a,r)}}}function c3(t,e){da.X(t,e);var s=bc;if(s&&t){var n=Cl(s).hoistableScripts,i=vc(t),a=n.get(i);a||(a=s.querySelector($d(i)),a||(t=Ct({src:t,async:!0},e),(e=Pn.get(i))&&J_(t,e),a=s.createElement("script"),is(a),fs(a,"link",t),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function u3(t,e){da.M(t,e);var s=bc;if(s&&t){var n=Cl(s).hoistableScripts,i=vc(t),a=n.get(i);a||(a=s.querySelector($d(i)),a||(t=Ct({src:t,async:!0,type:"module"},e),(e=Pn.get(i))&&J_(t,e),a=s.createElement("script"),is(a),fs(a,"link",t),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function JS(t,e,s,n){var i=(i=Ua.current)?pm(i):null;if(!i)throw Error(ce(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(e=Ql(s.href),s=Cl(i).hoistableStyles,n=s.get(e),n||(n={type:"style",instance:null,count:0,state:null},s.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ql(s.href);var a=Cl(i).hoistableStyles,r=a.get(t);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=i.querySelector(Ld(t)))&&!a._p&&(r.instance=a,r.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),a||d3(i,t,s,r.state))),e&&n===null)throw Error(ce(528,""));return r}if(e&&n!==null)throw Error(ce(529,""));return null;case"script":return e=s.async,s=s.src,typeof s=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=vc(s),s=Cl(i).hoistableScripts,n=s.get(e),n||(n={type:"script",instance:null,count:0,state:null},s.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(ce(444,t))}}function Ql(t){return'href="'+Tn(t)+'"'}function Ld(t){return'link[rel="stylesheet"]['+t+"]"}function Yk(t){return Ct({},t,{"data-precedence":t.precedence,precedence:null})}function d3(t,e,s,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),fs(e,"link",s),is(e),t.head.appendChild(e))}function vc(t){return'[src="'+Tn(t)+'"]'}function $d(t){return"script[async]"+t}function ZS(t,e,s){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(n)return e.instance=n,is(n),n;var i=Ct({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),is(n),fs(n,"style",i),Nf(n,s.precedence,t),e.instance=n;case"stylesheet":i=Ql(s.href);var a=t.querySelector(Ld(i));if(a)return e.state.loading|=4,e.instance=a,is(a),a;n=Yk(s),(i=Pn.get(i))&&Q_(n,i),a=(t.ownerDocument||t).createElement("link"),is(a);var r=a;return r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),fs(a,"link",n),e.state.loading|=4,Nf(a,s.precedence,t),e.instance=a;case"script":return a=vc(s.src),(i=t.querySelector($d(a)))?(e.instance=i,is(i),i):(n=s,(i=Pn.get(a))&&(n=Ct({},s),J_(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),is(i),fs(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ce(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,Nf(n,s.precedence,t));return e.instance}function Nf(t,e,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,r=0;r<n.length;r++){var l=n[r];if(l.dataset.precedence===e)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=s.nodeType===9?s.head:s,e.insertBefore(t,e.firstChild))}function Q_(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function J_(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Tf=null;function ej(t,e,s){if(Tf===null){var n=new Map,i=Tf=new Map;i.set(s,n)}else i=Tf,n=i.get(s),n||(n=new Map,i.set(s,n));if(n.has(t))return n;for(n.set(t,null),s=s.getElementsByTagName(t),i=0;i<s.length;i++){var a=s[i];if(!(a[Nd]||a[bs]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=n.get(r);l?l.push(a):n.set(r,[a])}}return n}function tj(t,e,s){t=t.ownerDocument||t,t.head.insertBefore(s,e==="title"?t.querySelector("head > title"):null)}function h3(t,e,s){if(s===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Gk(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Qu=null;function f3(){}function m3(t,e,s){if(Qu===null)throw Error(ce(475));var n=Qu;if(e.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Ql(s.href),a=t.querySelector(Ld(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=gm.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=a,is(a);return}a=t.ownerDocument||t,s=Yk(s),(i=Pn.get(i))&&Q_(s,i),a=a.createElement("link"),is(a);var r=a;r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),fs(a,"link",s),e.instance=a}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(n.count++,e=gm.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function p3(){if(Qu===null)throw Error(ce(475));var t=Qu;return t.stylesheets&&t.count===0&&ev(t,t.stylesheets),0<t.count?function(e){var s=setTimeout(function(){if(t.stylesheets&&ev(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(s)}}:null}function gm(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ym=null;function ev(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ym=new Map,e.forEach(g3,t),ym=null,gm.call(t))}function g3(t,e){if(!(e.state.loading&4)){var s=ym.get(t);if(s)var n=s.get(null);else{s=new Map,ym.set(t,s);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var r=i[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(s.set(r.dataset.precedence,r),n=r)}n&&s.set(null,n)}i=e.instance,r=i.getAttribute("data-precedence"),a=s.get(r)||n,a===n&&s.set(null,i),s.set(r,i),this.count++,n=gm.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Ju={$$typeof:Gi,Provider:null,Consumer:null,_currentValue:Gr,_currentValue2:Gr,_threadCount:0};function y3(t,e,s,n,i,a,r,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kg(0),this.hiddenUpdates=kg(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Kk(t,e,s,n,i,a,r,l,c,u,d,h){return t=new y3(t,e,s,r,l,c,u,h),e=1,a===!0&&(e|=24),a=tn(3,null,null,e),t.current=a,a.stateNode=t,e=N_(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:s,cache:e},C_(a),t}function Xk(t){return t?(t=xl,t):xl}function Qk(t,e,s,n,i,a){i=Xk(i),n.context===null?n.context=i:n.pendingContext=i,n=Va(e),n.payload={element:s},a=a===void 0?null:a,a!==null&&(n.callback=a),s=qa(t,n,e),s!==null&&(cn(s,t,e),_u(s,t,e))}function sj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Z_(t,e){sj(t,e),(t=t.alternate)&&sj(t,e)}function Jk(t){if(t.tag===13){var e=gc(t,67108864);e!==null&&cn(e,t,67108864),Z_(t,67108864)}}var bm=!0;function b3(t,e,s,n){var i=Pe.T;Pe.T=null;var a=rt.p;try{rt.p=2,ex(t,e,s,n)}finally{rt.p=a,Pe.T=i}}function v3(t,e,s,n){var i=Pe.T;Pe.T=null;var a=rt.p;try{rt.p=8,ex(t,e,s,n)}finally{rt.p=a,Pe.T=i}}function ex(t,e,s,n){if(bm){var i=tv(n);if(i===null)ry(t,e,n,vm,s),nj(t,n);else if(x3(i,t,e,s,n))n.stopPropagation();else if(nj(t,n),e&4&&-1<_3.indexOf(t)){for(;i!==null;){var a=pc(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Or(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var c=1<<31-on(r);l.entanglements[1]|=c,r&=~c}ki(a),!(mt&6)&&(cm=_i()+500,Pd(0))}}break;case 13:l=gc(a,2),l!==null&&cn(l,a,2),pp(),Z_(a,2)}if(a=tv(n),a===null&&ry(t,e,n,vm,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else ry(t,e,n,null,s)}}function tv(t){return t=g_(t),tx(t)}var vm=null;function tx(t){if(vm=null,t=pl(t),t!==null){var e=wd(t);if(e===null)t=null;else{var s=e.tag;if(s===13){if(t=S1(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return vm=t,null}function Zk(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a$()){case T1:return 2;case C1:return 8;case Yf:case r$:return 32;case k1:return 268435456;default:return 32}default:return 32}}var sv=!1,Ga=null,Ka=null,Xa=null,Zu=new Map,ed=new Map,Ma=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nj(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(e.pointerId)}}function Fc(t,e,s,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=pc(e),e!==null&&Jk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x3(t,e,s,n,i){switch(e){case"focusin":return Ga=Fc(Ga,t,e,s,n,i),!0;case"dragenter":return Ka=Fc(Ka,t,e,s,n,i),!0;case"mouseover":return Xa=Fc(Xa,t,e,s,n,i),!0;case"pointerover":var a=i.pointerId;return Zu.set(a,Fc(Zu.get(a)||null,t,e,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ed.set(a,Fc(ed.get(a)||null,t,e,s,n,i)),!0}return!1}function eA(t){var e=pl(t.target);if(e!==null){var s=wd(e);if(s!==null){if(e=s.tag,e===13){if(e=S1(s),e!==null){t.blockedOn=e,m$(t.priority,function(){if(s.tag===13){var n=ln();n=h_(n);var i=gc(s,n);i!==null&&cn(i,s,n),Z_(s,n)}});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=tv(t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);vb=n,s.target.dispatchEvent(n),vb=null}else return e=pc(s),e!==null&&Jk(e),t.blockedOn=s,!1;e.shift()}return!0}function ij(t,e,s){Cf(t)&&s.delete(e)}function w3(){sv=!1,Ga!==null&&Cf(Ga)&&(Ga=null),Ka!==null&&Cf(Ka)&&(Ka=null),Xa!==null&&Cf(Xa)&&(Xa=null),Zu.forEach(ij),ed.forEach(ij)}function Dh(t,e){t.blockedOn===e&&(t.blockedOn=null,sv||(sv=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,w3)))}var Mh=null;function aj(t){Mh!==t&&(Mh=t,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,function(){Mh===t&&(Mh=null);for(var e=0;e<t.length;e+=3){var s=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(tx(n||s)===null)continue;break}var a=pc(s);a!==null&&(t.splice(e,3),e-=3,Pb(a,{pending:!0,data:i,method:s.method,action:n},n,i))}}))}function td(t){function e(c){return Dh(c,t)}Ga!==null&&Dh(Ga,t),Ka!==null&&Dh(Ka,t),Xa!==null&&Dh(Xa,t),Zu.forEach(e),ed.forEach(e);for(var s=0;s<Ma.length;s++){var n=Ma[s];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Ma.length&&(s=Ma[0],s.blockedOn===null);)eA(s),s.blockedOn===null&&Ma.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var i=s[n],a=s[n+1],r=i[Fs]||null;if(typeof a=="function")r||aj(s);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,r=a[Fs]||null)l=r.formAction;else if(tx(i)!==null)continue}else l=r.action;typeof l=="function"?s[n+1]=l:(s.splice(n,3),n-=3),aj(s)}}}function sx(t){this._internalRoot=t}vp.prototype.render=sx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));var s=e.current,n=ln();Qk(s,n,t,e,null,null)};vp.prototype.unmount=sx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qk(t.current,2,null,t,null,null),pp(),e[mc]=null}};function vp(t){this._internalRoot=t}vp.prototype.unstable_scheduleHydration=function(t){if(t){var e=R1();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Ma.length&&e!==0&&e<Ma[s].priority;s++);Ma.splice(s,0,t),s===0&&eA(t)}};var rj=x1.version;if(rj!=="19.1.0")throw Error(ce(527,rj,"19.1.0"));rt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=JL(e),t=t!==null?j1(t):null,t=t===null?null:t.stateNode,t};var S3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Pe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{Sd=Rh.inject(S3),rn=Rh}catch{}}ip.createRoot=function(t,e){if(!w1(t))throw Error(ce(299));var s=!1,n="",i=KC,a=XC,r=QC,l=null;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=Kk(t,1,!1,null,null,s,n,i,a,r,l,null),t[mc]=e.current,X_(t),new sx(e)};ip.hydrateRoot=function(t,e,s){if(!w1(t))throw Error(ce(299));var n=!1,i="",a=KC,r=XC,l=QC,c=null,u=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(a=s.onUncaughtError),s.onCaughtError!==void 0&&(r=s.onCaughtError),s.onRecoverableError!==void 0&&(l=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(c=s.unstable_transitionCallbacks),s.formState!==void 0&&(u=s.formState)),e=Kk(t,1,!0,e,s??null,n,i,a,r,l,c,u),e.context=Xk(null),s=e.current,n=ln(),n=h_(n),i=Va(n),i.callback=null,qa(s,i,n),s=n,e.current.lanes=s,Ed(e,s),ki(e),t[mc]=e.current,X_(t),new vp(e)};ip.version="19.1.0";function tA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tA)}catch(t){console.error(t)}}tA(),b1.exports=ip;var j3=b1.exports;const E3=Zm(j3);/*! js-cookie v3.0.5 | MIT */function Ph(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)t[n]=s[n]}return t}var N3={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function nv(t,e){function s(i,a,r){if(!(typeof document>"u")){r=Ph({},e,r),typeof r.expires=="number"&&(r.expires=new Date(Date.now()+r.expires*864e5)),r.expires&&(r.expires=r.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in r)r[c]&&(l+="; "+c,r[c]!==!0&&(l+="="+r[c].split(";")[0]));return document.cookie=i+"="+t.write(a,i)+l}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],r={},l=0;l<a.length;l++){var c=a[l].split("="),u=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(r[d]=t.read(u,d),i===d)break}catch{}}return i?r[i]:r}}return Object.create({set:s,get:n,remove:function(i,a){s(i,"",Ph({},a,{expires:-1}))},withAttributes:function(i){return nv(this.converter,Ph({},this.attributes,i))},withConverter:function(i){return nv(Ph({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var _t=nv(N3,{path:"/"});function sA(t,e){return function(){return t.apply(e,arguments)}}const{toString:T3}=Object.prototype,{getPrototypeOf:nx}=Object,_p=(t=>e=>{const s=T3.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),si=t=>(t=t.toLowerCase(),e=>_p(e)===t),xp=t=>e=>typeof e===t,{isArray:_c}=Array,sd=xp("undefined");function C3(t){return t!==null&&!sd(t)&&t.constructor!==null&&!sd(t.constructor)&&un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nA=si("ArrayBuffer");function k3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nA(t.buffer),e}const A3=xp("string"),un=xp("function"),iA=xp("number"),wp=t=>t!==null&&typeof t=="object",O3=t=>t===!0||t===!1,kf=t=>{if(_p(t)!=="object")return!1;const e=nx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},D3=si("Date"),M3=si("File"),R3=si("Blob"),P3=si("FileList"),L3=t=>wp(t)&&un(t.pipe),$3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||un(t.append)&&((e=_p(t))==="formdata"||e==="object"&&un(t.toString)&&t.toString()==="[object FormData]"))},I3=si("URLSearchParams"),[B3,z3,H3,F3]=["ReadableStream","Request","Response","Headers"].map(si),U3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Id(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),_c(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=s?Object.getOwnPropertyNames(t):Object.keys(t),r=a.length;let l;for(n=0;n<r;n++)l=a[n],e.call(null,t[l],l,t)}}function aA(t,e){e=e.toLowerCase();const s=Object.keys(t);let n=s.length,i;for(;n-- >0;)if(i=s[n],e===i.toLowerCase())return i;return null}const zr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rA=t=>!sd(t)&&t!==zr;function iv(){const{caseless:t}=rA(this)&&this||{},e={},s=(n,i)=>{const a=t&&aA(e,i)||i;kf(e[a])&&kf(n)?e[a]=iv(e[a],n):kf(n)?e[a]=iv({},n):_c(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Id(arguments[n],s);return e}const V3=(t,e,s,{allOwnKeys:n}={})=>(Id(e,(i,a)=>{s&&un(i)?t[a]=sA(i,s):t[a]=i},{allOwnKeys:n}),t),q3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),W3=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Y3=(t,e,s,n)=>{let i,a,r;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)r=i[a],(!n||n(r,t,e))&&!l[r]&&(e[r]=t[r],l[r]=!0);t=s!==!1&&nx(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},G3=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},K3=t=>{if(!t)return null;if(_c(t))return t;let e=t.length;if(!iA(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},X3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nx(Uint8Array)),Q3=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},J3=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},Z3=si("HTMLFormElement"),eB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),oj=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),tB=si("RegExp"),oA=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};Id(s,(i,a)=>{let r;(r=e(i,a,t))!==!1&&(n[a]=r||i)}),Object.defineProperties(t,n)},sB=t=>{oA(t,(e,s)=>{if(un(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(un(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},nB=(t,e)=>{const s={},n=i=>{i.forEach(a=>{s[a]=!0})};return _c(t)?n(t):n(String(t).split(e)),s},iB=()=>{},aB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rB(t){return!!(t&&un(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const oB=t=>{const e=new Array(10),s=(n,i)=>{if(wp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=_c(n)?[]:{};return Id(n,(r,l)=>{const c=s(r,i+1);!sd(c)&&(a[l]=c)}),e[i]=void 0,a}}return n};return s(t,0)},lB=si("AsyncFunction"),cB=t=>t&&(wp(t)||un(t))&&un(t.then)&&un(t.catch),lA=((t,e)=>t?setImmediate:e?((s,n)=>(zr.addEventListener("message",({source:i,data:a})=>{i===zr&&a===s&&n.length&&n.shift()()},!1),i=>{n.push(i),zr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",un(zr.postMessage)),uB=typeof queueMicrotask<"u"?queueMicrotask.bind(zr):typeof process<"u"&&process.nextTick||lA,te={isArray:_c,isArrayBuffer:nA,isBuffer:C3,isFormData:$3,isArrayBufferView:k3,isString:A3,isNumber:iA,isBoolean:O3,isObject:wp,isPlainObject:kf,isReadableStream:B3,isRequest:z3,isResponse:H3,isHeaders:F3,isUndefined:sd,isDate:D3,isFile:M3,isBlob:R3,isRegExp:tB,isFunction:un,isStream:L3,isURLSearchParams:I3,isTypedArray:X3,isFileList:P3,forEach:Id,merge:iv,extend:V3,trim:U3,stripBOM:q3,inherits:W3,toFlatObject:Y3,kindOf:_p,kindOfTest:si,endsWith:G3,toArray:K3,forEachEntry:Q3,matchAll:J3,isHTMLForm:Z3,hasOwnProperty:oj,hasOwnProp:oj,reduceDescriptors:oA,freezeMethods:sB,toObjectSet:nB,toCamelCase:eB,noop:iB,toFiniteNumber:aB,findKey:aA,global:zr,isContextDefined:rA,isSpecCompliantForm:rB,toJSONObject:oB,isAsyncFn:lB,isThenable:cB,setImmediate:lA,asap:uB};function Fe(t,e,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const cA=Fe.prototype,uA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uA[t]={value:t}});Object.defineProperties(Fe,uA);Object.defineProperty(cA,"isAxiosError",{value:!0});Fe.from=(t,e,s,n,i,a)=>{const r=Object.create(cA);return te.toFlatObject(t,r,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Fe.call(r,t.message,e,s,n,i),r.cause=t,r.name=t.name,a&&Object.assign(r,a),r};const dB=null;function av(t){return te.isPlainObject(t)||te.isArray(t)}function dA(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function lj(t,e,s){return t?t.concat(e).map(function(i,a){return i=dA(i),!s&&a?"["+i+"]":i}).join(s?".":""):e}function hB(t){return te.isArray(t)&&!t.some(av)}const fB=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function Sp(t,e,s){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=te.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!te.isUndefined(x[_])});const n=s.metaTokens,i=s.visitor||d,a=s.dots,r=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(te.isDate(v))return v.toISOString();if(!c&&te.isBlob(v))throw new Fe("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(v)||te.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,_,x){let y=v;if(v&&!x&&typeof v=="object"){if(te.endsWith(_,"{}"))_=n?_:_.slice(0,-2),v=JSON.stringify(v);else if(te.isArray(v)&&hB(v)||(te.isFileList(v)||te.endsWith(_,"[]"))&&(y=te.toArray(v)))return _=dA(_),y.forEach(function(b,w){!(te.isUndefined(b)||b===null)&&e.append(r===!0?lj([_],w,a):r===null?_:_+"[]",u(b))}),!1}return av(v)?!0:(e.append(lj(x,_,a),u(v)),!1)}const h=[],f=Object.assign(fB,{defaultVisitor:d,convertValue:u,isVisitable:av});function m(v,_){if(!te.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(v),te.forEach(v,function(y,g){(!(te.isUndefined(y)||y===null)&&i.call(e,y,te.isString(g)?g.trim():g,_,f))===!0&&m(y,_?_.concat(g):[g])}),h.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return m(t),e}function cj(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ix(t,e){this._pairs=[],t&&Sp(t,this,e)}const hA=ix.prototype;hA.append=function(e,s){this._pairs.push([e,s])};hA.toString=function(e){const s=e?function(n){return e.call(this,n,cj)}:cj;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function mB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fA(t,e,s){if(!e)return t;const n=s&&s.encode||mB;te.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(e,s):a=te.isURLSearchParams(e)?e.toString():new ix(e,s).toString(n),a){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class uj{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const mA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pB=typeof URLSearchParams<"u"?URLSearchParams:ix,gB=typeof FormData<"u"?FormData:null,yB=typeof Blob<"u"?Blob:null,bB={isBrowser:!0,classes:{URLSearchParams:pB,FormData:gB,Blob:yB},protocols:["http","https","file","blob","url","data"]},ax=typeof window<"u"&&typeof document<"u",rv=typeof navigator=="object"&&navigator||void 0,vB=ax&&(!rv||["ReactNative","NativeScript","NS"].indexOf(rv.product)<0),_B=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xB=ax&&window.location.href||"http://localhost",wB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ax,hasStandardBrowserEnv:vB,hasStandardBrowserWebWorkerEnv:_B,navigator:rv,origin:xB},Symbol.toStringTag,{value:"Module"})),ys={...wB,...bB};function SB(t,e){return Sp(t,new ys.classes.URLSearchParams,Object.assign({visitor:function(s,n,i,a){return ys.isNode&&te.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function jB(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function EB(t){const e={},s=Object.keys(t);let n;const i=s.length;let a;for(n=0;n<i;n++)a=s[n],e[a]=t[a];return e}function pA(t){function e(s,n,i,a){let r=s[a++];if(r==="__proto__")return!0;const l=Number.isFinite(+r),c=a>=s.length;return r=!r&&te.isArray(i)?i.length:r,c?(te.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!l):((!i[r]||!te.isObject(i[r]))&&(i[r]=[]),e(s,n,i[r],a)&&te.isArray(i[r])&&(i[r]=EB(i[r])),!l)}if(te.isFormData(t)&&te.isFunction(t.entries)){const s={};return te.forEachEntry(t,(n,i)=>{e(jB(n),i,s,0)}),s}return null}function NB(t,e,s){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const Bd={transitional:mA,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,a=te.isObject(e);if(a&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(pA(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return SB(e,this.formSerializer).toString();if((l=te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Sp(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),NB(e)):e}],transformResponse:[function(e){const s=this.transitional||Bd.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||i)){const r=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(r)throw l.name==="SyntaxError"?Fe.from(l,Fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ys.classes.FormData,Blob:ys.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{Bd.headers[t]={}});const TB=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CB=t=>{const e={};let s,n,i;return t&&t.split(`
`).forEach(function(r){i=r.indexOf(":"),s=r.substring(0,i).trim().toLowerCase(),n=r.substring(i+1).trim(),!(!s||e[s]&&TB[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},dj=Symbol("internals");function Uc(t){return t&&String(t).trim().toLowerCase()}function Af(t){return t===!1||t==null?t:te.isArray(t)?t.map(Af):String(t)}function kB(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const AB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ly(t,e,s,n,i){if(te.isFunction(n))return n.call(this,e,s);if(i&&(e=s),!!te.isString(e)){if(te.isString(n))return e.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(e)}}function OB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function DB(t,e){const s=te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(i,a,r){return this[n].call(this,e,i,a,r)},configurable:!0})})}let Hs=class{constructor(e){e&&this.set(e)}set(e,s,n){const i=this;function a(l,c,u){const d=Uc(c);if(!d)throw new Error("header name must be a non-empty string");const h=te.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Af(l))}const r=(l,c)=>te.forEach(l,(u,d)=>a(u,d,c));if(te.isPlainObject(e)||e instanceof this.constructor)r(e,s);else if(te.isString(e)&&(e=e.trim())&&!AB(e))r(CB(e),s);else if(te.isHeaders(e))for(const[l,c]of e.entries())a(c,l,n);else e!=null&&a(s,e,n);return this}get(e,s){if(e=Uc(e),e){const n=te.findKey(this,e);if(n){const i=this[n];if(!s)return i;if(s===!0)return kB(i);if(te.isFunction(s))return s.call(this,i,n);if(te.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Uc(e),e){const n=te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||ly(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let i=!1;function a(r){if(r=Uc(r),r){const l=te.findKey(n,r);l&&(!s||ly(n,n[l],l,s))&&(delete n[l],i=!0)}}return te.isArray(e)?e.forEach(a):a(e),i}clear(e){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const a=s[n];(!e||ly(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const s=this,n={};return te.forEach(this,(i,a)=>{const r=te.findKey(n,a);if(r){s[r]=Af(i),delete s[a];return}const l=e?OB(a):String(a).trim();l!==a&&delete s[a],s[l]=Af(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return te.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=e&&te.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[dj]=this[dj]={accessors:{}}).accessors,i=this.prototype;function a(r){const l=Uc(r);n[l]||(DB(i,r),n[l]=!0)}return te.isArray(e)?e.forEach(a):a(e),this}};Hs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Hs.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});te.freezeMethods(Hs);function cy(t,e){const s=this||Bd,n=e||s,i=Hs.from(n.headers);let a=n.data;return te.forEach(t,function(l){a=l.call(s,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function gA(t){return!!(t&&t.__CANCEL__)}function xc(t,e,s){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,s),this.name="CanceledError"}te.inherits(xc,Fe,{__CANCEL__:!0});function yA(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new Fe("Request failed with status code "+s.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function MB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function RB(t,e){t=t||10;const s=new Array(t),n=new Array(t);let i=0,a=0,r;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[a];r||(r=u),s[i]=c,n[i]=u;let h=a,f=0;for(;h!==i;)f+=s[h++],h=h%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-r<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function PB(t,e){let s=0,n=1e3/e,i,a;const r=(u,d=Date.now())=>{s=d,i=null,a&&(clearTimeout(a),a=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-s;h>=n?r(u,d):(i=u,a||(a=setTimeout(()=>{a=null,r(i)},n-h)))},()=>i&&r(i)]}const _m=(t,e,s=3)=>{let n=0;const i=RB(50,250);return PB(a=>{const r=a.loaded,l=a.lengthComputable?a.total:void 0,c=r-n,u=i(c),d=r<=l;n=r;const h={loaded:r,total:l,progress:l?r/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-r)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},s)},hj=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},fj=t=>(...e)=>te.asap(()=>t(...e)),LB=ys.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,ys.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(ys.origin),ys.navigator&&/(msie|trident)/i.test(ys.navigator.userAgent)):()=>!0,$B=ys.hasStandardBrowserEnv?{write(t,e,s,n,i,a){const r=[t+"="+encodeURIComponent(e)];te.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),te.isString(n)&&r.push("path="+n),te.isString(i)&&r.push("domain="+i),a===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function BB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function bA(t,e,s){let n=!IB(e);return t&&(n||s==!1)?BB(t,e):e}const mj=t=>t instanceof Hs?{...t}:t;function co(t,e){e=e||{};const s={};function n(u,d,h,f){return te.isPlainObject(u)&&te.isPlainObject(d)?te.merge.call({caseless:f},u,d):te.isPlainObject(d)?te.merge({},d):te.isArray(d)?d.slice():d}function i(u,d,h,f){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function a(u,d){if(!te.isUndefined(d))return n(void 0,d)}function r(u,d){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(u,d,h)=>i(mj(u),mj(d),h,!0)};return te.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=c[d]||i,f=h(t[d],e[d],d);te.isUndefined(f)&&h!==l||(s[d]=f)}),s}const vA=t=>{const e=co({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:r,auth:l}=e;e.headers=r=Hs.from(r),e.url=fA(bA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&r.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(te.isFormData(s)){if(ys.hasStandardBrowserEnv||ys.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((c=r.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];r.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ys.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(e)),n||n!==!1&&LB(e.url))){const u=i&&a&&$B.read(a);u&&r.set(i,u)}return e},zB=typeof XMLHttpRequest<"u",HB=zB&&function(t){return new Promise(function(s,n){const i=vA(t);let a=i.data;const r=Hs.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,f,m,v;function _(){m&&m(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function y(){if(!x)return;const b=Hs.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:t,request:x};yA(function(T){s(T),_()},function(T){n(T),_()},E),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(n(new Fe("Request aborted",Fe.ECONNABORTED,t,x)),x=null)},x.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||mA;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Fe(w,E.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,x)),x=null},a===void 0&&r.setContentType(null),"setRequestHeader"in x&&te.forEach(r.toJSON(),function(w,E){x.setRequestHeader(E,w)}),te.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),u&&([f,v]=_m(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,m]=_m(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=b=>{x&&(n(!b||b.type?new xc(null,t,x):b),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const g=MB(i.url);if(g&&ys.protocols.indexOf(g)===-1){n(new Fe("Unsupported protocol "+g+":",Fe.ERR_BAD_REQUEST,t));return}x.send(a||null)})},FB=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Fe?d:new xc(d instanceof Error?d.message:d))}};let r=e&&setTimeout(()=>{r=null,a(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const l=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>te.asap(l),c}},UB=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,i;for(;n<s;)i=n+e,yield t.slice(n,i),n=i},VB=async function*(t,e){for await(const s of qB(t))yield*UB(s,e)},qB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},pj=(t,e,s,n)=>{const i=VB(t,e);let a=0,r,l=c=>{r||(r=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(s){let f=a+=h;s(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},jp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_A=jp&&typeof ReadableStream=="function",WB=jp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),xA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},YB=_A&&xA(()=>{let t=!1;const e=new Request(ys.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),gj=64*1024,ov=_A&&xA(()=>te.isReadableStream(new Response("").body)),xm={stream:ov&&(t=>t.body)};jp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xm[e]&&(xm[e]=te.isFunction(t[e])?s=>s[e]():(s,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const GB=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(ys.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await WB(t)).byteLength},KB=async(t,e)=>{const s=te.toFiniteNumber(t.getContentLength());return s??GB(e)},XB=jp&&(async t=>{let{url:e,method:s,data:n,signal:i,cancelToken:a,timeout:r,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=vA(t);u=u?(u+"").toLowerCase():"text";let m=FB([i,a&&a.toAbortSignal()],r),v;const _=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(c&&YB&&s!=="get"&&s!=="head"&&(x=await KB(d,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(te.isFormData(n)&&(C=E.headers.get("content-type"))&&d.setContentType(C),E.body){const[T,N]=hj(x,_m(fj(c)));n=pj(E.body,gj,T,N)}}te.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;v=new Request(e,{...f,signal:m,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?h:void 0});let g=await fetch(v);const b=ov&&(u==="stream"||u==="response");if(ov&&(l||b&&_)){const E={};["status","statusText","headers"].forEach(A=>{E[A]=g[A]});const C=te.toFiniteNumber(g.headers.get("content-length")),[T,N]=l&&hj(C,_m(fj(l),!0))||[];g=new Response(pj(g.body,gj,T,()=>{N&&N(),_&&_()}),E)}u=u||"text";let w=await xm[te.findKey(xm,u)||"text"](g,t);return!b&&_&&_(),await new Promise((E,C)=>{yA(E,C,{data:w,headers:Hs.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:v})})}catch(y){throw _&&_(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,t,v),{cause:y.cause||y}):Fe.from(y,y&&y.code,t,v)}}),lv={http:dB,xhr:HB,fetch:XB};te.forEach(lv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yj=t=>`- ${t}`,QB=t=>te.isFunction(t)||t===null||t===!1,wA={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let s,n;const i={};for(let a=0;a<e;a++){s=t[a];let r;if(n=s,!QB(s)&&(n=lv[(r=String(s)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${r}'`);if(n)break;i[r||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let r=e?a.length>1?`since :
`+a.map(yj).join(`
`):" "+yj(a[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:lv};function uy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xc(null,t)}function bj(t){return uy(t),t.headers=Hs.from(t.headers),t.data=cy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wA.getAdapter(t.adapter||Bd.adapter)(t).then(function(n){return uy(t),n.data=cy.call(t,t.transformResponse,n),n.headers=Hs.from(n.headers),n},function(n){return gA(n)||(uy(t),n&&n.response&&(n.response.data=cy.call(t,t.transformResponse,n.response),n.response.headers=Hs.from(n.response.headers))),Promise.reject(n)})}const SA="1.8.4",Ep={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ep[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const vj={};Ep.transitional=function(e,s,n){function i(a,r){return"[Axios v"+SA+"] Transitional option '"+a+"'"+r+(n?". "+n:"")}return(a,r,l)=>{if(e===!1)throw new Fe(i(r," has been removed"+(s?" in "+s:"")),Fe.ERR_DEPRECATED);return s&&!vj[r]&&(vj[r]=!0,console.warn(i(r," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(a,r,l):!0}};Ep.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function JB(t,e,s){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],r=e[a];if(r){const l=t[a],c=l===void 0||r(l,a,t);if(c!==!0)throw new Fe("option "+a+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Fe("Unknown option "+a,Fe.ERR_BAD_OPTION)}}const Of={assertOptions:JB,validators:Ep},ci=Of.validators;let to=class{constructor(e){this.defaults=e,this.interceptors={request:new uj,response:new uj}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=co(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:a}=s;n!==void 0&&Of.assertOptions(n,{silentJSONParsing:ci.transitional(ci.boolean),forcedJSONParsing:ci.transitional(ci.boolean),clarifyTimeoutError:ci.transitional(ci.boolean)},!1),i!=null&&(te.isFunction(i)?s.paramsSerializer={serialize:i}:Of.assertOptions(i,{encode:ci.function,serialize:ci.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Of.assertOptions(s,{baseUrl:ci.spelling("baseURL"),withXsrfToken:ci.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r=a&&te.merge(a.common,a[s.method]);a&&te.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),s.headers=Hs.concat(r,a);const l=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(c=c&&_.synchronous,l.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let d,h=0,f;if(!c){const v=[bj.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,u),f=v.length,d=Promise.resolve(s);h<f;)d=d.then(v[h++],v[h++]);return d}f=l.length;let m=s;for(h=0;h<f;){const v=l[h++],_=l[h++];try{m=v(m)}catch(x){_.call(this,x);break}}try{d=bj.call(this,m)}catch(v){return Promise.reject(v)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=co(this.defaults,e);const s=bA(e.baseURL,e.url,e.allowAbsoluteUrls);return fA(s,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){to.prototype[e]=function(s,n){return this.request(co(n||{},{method:e,url:s,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(e){function s(n){return function(a,r,l){return this.request(co(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:r}))}}to.prototype[e]=s(),to.prototype[e+"Form"]=s(!0)});let ZB=class jA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const r=new Promise(l=>{n.subscribe(l),a=l}).then(i);return r.cancel=function(){n.unsubscribe(a)},r},e(function(a,r,l){n.reason||(n.reason=new xc(a,r,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new jA(function(i){e=i}),cancel:e}}};function ez(t){return function(s){return t.apply(null,s)}}function tz(t){return te.isObject(t)&&t.isAxiosError===!0}const cv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cv).forEach(([t,e])=>{cv[e]=t});function EA(t){const e=new to(t),s=sA(to.prototype.request,e);return te.extend(s,to.prototype,e,{allOwnKeys:!0}),te.extend(s,e,null,{allOwnKeys:!0}),s.create=function(i){return EA(co(t,i))},s}const oe=EA(Bd);oe.Axios=to;oe.CanceledError=xc;oe.CancelToken=ZB;oe.isCancel=gA;oe.VERSION=SA;oe.toFormData=Sp;oe.AxiosError=Fe;oe.Cancel=oe.CanceledError;oe.all=function(e){return Promise.all(e)};oe.spread=ez;oe.isAxiosError=tz;oe.mergeConfig=co;oe.AxiosHeaders=Hs;oe.formToJSON=t=>pA(te.isHTMLForm(t)?new FormData(t):t);oe.getAdapter=wA.getAdapter;oe.HttpStatusCode=cv;oe.default=oe;const{Axios:kJ,AxiosError:AJ,CanceledError:OJ,isCancel:DJ,CancelToken:MJ,VERSION:RJ,all:PJ,Cancel:LJ,isAxiosError:$J,spread:IJ,toFormData:BJ,AxiosHeaders:zJ,HttpStatusCode:HJ,formToJSON:FJ,getAdapter:UJ,mergeConfig:VJ}=oe,ms=S.createContext(),sz=({children:t})=>{const[e,s]=S.useState(null),[n,i]=S.useState(_t.get("auth_token")||""),[a,r]=S.useState(!0);S.useEffect(()=>{const f=_t.get("user"),m=_t.get("auth_token");if(f&&m)try{const v=JSON.parse(f);s(v),i(m),oe.defaults.headers.common.Authorization=`Bearer ${m}`,_t.set("user",f,{expires:30}),_t.set("auth_token",m,{expires:30})}catch(v){console.error("Error parsing stored user:",v),_t.remove("user"),_t.remove("auth_token"),s(null),i(""),delete oe.defaults.headers.common.Authorization}r(!1)},[]);const l=(f,m)=>{const v={...f,avatar:f.avatar||"/images/Dat/avatar/default.png"};s(v),i(m),_t.set("user",JSON.stringify(v),{expires:30}),_t.set("auth_token",m,{expires:30,path:"/",sameSite:"lax",secure:!1}),oe.defaults.headers.common.Authorization=`Bearer ${m}`},c=()=>{s(null),i(""),_t.remove("user"),_t.remove("auth_token"),delete oe.defaults.headers.common.Authorization,console.log("User and token removed from cookie")},u=f=>{if(!f)throw new Error("Updated user data is undefined");s(m=>{const v={...m,...f,avatar:f.avatar!==void 0?f.avatar||"/images/Dat/avatar/default.png":m==null?void 0:m.avatar};return _t.set("user",JSON.stringify(v),{expires:30}),v})},d=()=>e&&e.role==="admin",h=()=>e&&e.role==="staff"&&e.status==="active";return o.jsx(ms.Provider,{value:{user:e,token:n,login:l,logout:c,updateUser:u,isAdmin:d,isStaff:h,loading:a},children:t})};var nz={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(s,n){t.exports=n()})(hl,function(){const s=new Map,n={set(k,p,j){s.has(k)||s.set(k,new Map);const O=s.get(k);O.has(p)||O.size===0?O.set(p,j):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(O.keys())[0]}.`)},get:(k,p)=>s.has(k)&&s.get(k).get(p)||null,remove(k,p){if(!s.has(k))return;const j=s.get(k);j.delete(p),j.size===0&&s.delete(k)}},i="transitionend",a=k=>(k&&window.CSS&&window.CSS.escape&&(k=k.replace(/#([^\s"#']+)/g,(p,j)=>`#${CSS.escape(j)}`)),k),r=k=>{k.dispatchEvent(new Event(i))},l=k=>!(!k||typeof k!="object")&&(k.jquery!==void 0&&(k=k[0]),k.nodeType!==void 0),c=k=>l(k)?k.jquery?k[0]:k:typeof k=="string"&&k.length>0?document.querySelector(a(k)):null,u=k=>{if(!l(k)||k.getClientRects().length===0)return!1;const p=getComputedStyle(k).getPropertyValue("visibility")==="visible",j=k.closest("details:not([open])");if(!j)return p;if(j!==k){const O=k.closest("summary");if(O&&O.parentNode!==j||O===null)return!1}return p},d=k=>!k||k.nodeType!==Node.ELEMENT_NODE||!!k.classList.contains("disabled")||(k.disabled!==void 0?k.disabled:k.hasAttribute("disabled")&&k.getAttribute("disabled")!=="false"),h=k=>{if(!document.documentElement.attachShadow)return null;if(typeof k.getRootNode=="function"){const p=k.getRootNode();return p instanceof ShadowRoot?p:null}return k instanceof ShadowRoot?k:k.parentNode?h(k.parentNode):null},f=()=>{},m=k=>{k.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_=[],x=()=>document.documentElement.dir==="rtl",y=k=>{var p;p=()=>{const j=v();if(j){const O=k.NAME,W=j.fn[O];j.fn[O]=k.jQueryInterface,j.fn[O].Constructor=k,j.fn[O].noConflict=()=>(j.fn[O]=W,k.jQueryInterface)}},document.readyState==="loading"?(_.length||document.addEventListener("DOMContentLoaded",()=>{for(const j of _)j()}),_.push(p)):p()},g=(k,p=[],j=k)=>typeof k=="function"?k.call(...p):j,b=(k,p,j=!0)=>{if(!j)return void g(k);const O=(ee=>{if(!ee)return 0;let{transitionDuration:ue,transitionDelay:ve}=window.getComputedStyle(ee);const je=Number.parseFloat(ue),Ne=Number.parseFloat(ve);return je||Ne?(ue=ue.split(",")[0],ve=ve.split(",")[0],1e3*(Number.parseFloat(ue)+Number.parseFloat(ve))):0})(p)+5;let W=!1;const K=({target:ee})=>{ee===p&&(W=!0,p.removeEventListener(i,K),g(k))};p.addEventListener(i,K),setTimeout(()=>{W||r(p)},O)},w=(k,p,j,O)=>{const W=k.length;let K=k.indexOf(p);return K===-1?!j&&O?k[W-1]:k[0]:(K+=j?1:-1,O&&(K=(K+W)%W),k[Math.max(0,Math.min(K,W-1))])},E=/[^.]*(?=\..*)\.|.*/,C=/\..*/,T=/::\d+$/,N={};let A=1;const L={mouseenter:"mouseover",mouseleave:"mouseout"},D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function I(k,p){return p&&`${p}::${A++}`||k.uidEvent||A++}function q(k){const p=I(k);return k.uidEvent=p,N[p]=N[p]||{},N[p]}function B(k,p,j=null){return Object.values(k).find(O=>O.callable===p&&O.delegationSelector===j)}function z(k,p,j){const O=typeof p=="string",W=O?j:p||j;let K=V(k);return D.has(K)||(K=k),[O,W,K]}function M(k,p,j,O,W){if(typeof p!="string"||!k)return;let[K,ee,ue]=z(p,j,O);p in L&&(ee=(ze=>function(Ie){if(!Ie.relatedTarget||Ie.relatedTarget!==Ie.delegateTarget&&!Ie.delegateTarget.contains(Ie.relatedTarget))return ze.call(this,Ie)})(ee));const ve=q(k),je=ve[ue]||(ve[ue]={}),Ne=B(je,ee,K?j:null);if(Ne)return void(Ne.oneOff=Ne.oneOff&&W);const xe=I(ee,p.replace(E,"")),Ue=K?function(Re,ze,Ie){return function He(pt){const St=Re.querySelectorAll(ze);for(let{target:Ge}=pt;Ge&&Ge!==this;Ge=Ge.parentNode)for(const it of St)if(it===Ge)return se(pt,{delegateTarget:Ge}),He.oneOff&&P.off(Re,pt.type,ze,Ie),Ie.apply(Ge,[pt])}}(k,j,ee):function(Re,ze){return function Ie(He){return se(He,{delegateTarget:Re}),Ie.oneOff&&P.off(Re,He.type,ze),ze.apply(Re,[He])}}(k,ee);Ue.delegationSelector=K?j:null,Ue.callable=ee,Ue.oneOff=W,Ue.uidEvent=xe,je[xe]=Ue,k.addEventListener(ue,Ue,K)}function H(k,p,j,O,W){const K=B(p[j],O,W);K&&(k.removeEventListener(j,K,!!W),delete p[j][K.uidEvent])}function R(k,p,j,O){const W=p[j]||{};for(const[K,ee]of Object.entries(W))K.includes(O)&&H(k,p,j,ee.callable,ee.delegationSelector)}function V(k){return k=k.replace(C,""),L[k]||k}const P={on(k,p,j,O){M(k,p,j,O,!1)},one(k,p,j,O){M(k,p,j,O,!0)},off(k,p,j,O){if(typeof p!="string"||!k)return;const[W,K,ee]=z(p,j,O),ue=ee!==p,ve=q(k),je=ve[ee]||{},Ne=p.startsWith(".");if(K===void 0){if(Ne)for(const xe of Object.keys(ve))R(k,ve,xe,p.slice(1));for(const[xe,Ue]of Object.entries(je)){const Re=xe.replace(T,"");ue&&!p.includes(Re)||H(k,ve,ee,Ue.callable,Ue.delegationSelector)}}else{if(!Object.keys(je).length)return;H(k,ve,ee,K,W?j:null)}},trigger(k,p,j){if(typeof p!="string"||!k)return null;const O=v();let W=null,K=!0,ee=!0,ue=!1;p!==V(p)&&O&&(W=O.Event(p,j),O(k).trigger(W),K=!W.isPropagationStopped(),ee=!W.isImmediatePropagationStopped(),ue=W.isDefaultPrevented());const ve=se(new Event(p,{bubbles:K,cancelable:!0}),j);return ue&&ve.preventDefault(),ee&&k.dispatchEvent(ve),ve.defaultPrevented&&W&&W.preventDefault(),ve}};function se(k,p={}){for(const[j,O]of Object.entries(p))try{k[j]=O}catch{Object.defineProperty(k,j,{configurable:!0,get:()=>O})}return k}function de(k){if(k==="true")return!0;if(k==="false")return!1;if(k===Number(k).toString())return Number(k);if(k===""||k==="null")return null;if(typeof k!="string")return k;try{return JSON.parse(decodeURIComponent(k))}catch{return k}}function fe(k){return k.replace(/[A-Z]/g,p=>`-${p.toLowerCase()}`)}const ae={setDataAttribute(k,p,j){k.setAttribute(`data-bs-${fe(p)}`,j)},removeDataAttribute(k,p){k.removeAttribute(`data-bs-${fe(p)}`)},getDataAttributes(k){if(!k)return{};const p={},j=Object.keys(k.dataset).filter(O=>O.startsWith("bs")&&!O.startsWith("bsConfig"));for(const O of j){let W=O.replace(/^bs/,"");W=W.charAt(0).toLowerCase()+W.slice(1),p[W]=de(k.dataset[O])}return p},getDataAttribute:(k,p)=>de(k.getAttribute(`data-bs-${fe(p)}`))};class F{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(p){return p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p}_mergeConfigObj(p,j){const O=l(j)?ae.getDataAttribute(j,"config"):{};return{...this.constructor.Default,...typeof O=="object"?O:{},...l(j)?ae.getDataAttributes(j):{},...typeof p=="object"?p:{}}}_typeCheckConfig(p,j=this.constructor.DefaultType){for(const[W,K]of Object.entries(j)){const ee=p[W],ue=l(ee)?"element":(O=ee)==null?`${O}`:Object.prototype.toString.call(O).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(K).test(ue))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${W}" provided type "${ue}" but expected type "${K}".`)}var O}}class ne extends F{constructor(p,j){super(),(p=c(p))&&(this._element=p,this._config=this._getConfig(j),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const p of Object.getOwnPropertyNames(this))this[p]=null}_queueCallback(p,j,O=!0){b(p,j,O)}_getConfig(p){return p=this._mergeConfigObj(p,this._element),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}static getInstance(p){return n.get(c(p),this.DATA_KEY)}static getOrCreateInstance(p,j={}){return this.getInstance(p)||new this(p,typeof j=="object"?j:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(p){return`${p}${this.EVENT_KEY}`}}const X=k=>{let p=k.getAttribute("data-bs-target");if(!p||p==="#"){let j=k.getAttribute("href");if(!j||!j.includes("#")&&!j.startsWith("."))return null;j.includes("#")&&!j.startsWith("#")&&(j=`#${j.split("#")[1]}`),p=j&&j!=="#"?j.trim():null}return p?p.split(",").map(j=>a(j)).join(","):null},G={find:(k,p=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(p,k)),findOne:(k,p=document.documentElement)=>Element.prototype.querySelector.call(p,k),children:(k,p)=>[].concat(...k.children).filter(j=>j.matches(p)),parents(k,p){const j=[];let O=k.parentNode.closest(p);for(;O;)j.push(O),O=O.parentNode.closest(p);return j},prev(k,p){let j=k.previousElementSibling;for(;j;){if(j.matches(p))return[j];j=j.previousElementSibling}return[]},next(k,p){let j=k.nextElementSibling;for(;j;){if(j.matches(p))return[j];j=j.nextElementSibling}return[]},focusableChildren(k){const p=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(j=>`${j}:not([tabindex^="-"])`).join(",");return this.find(p,k).filter(j=>!d(j)&&u(j))},getSelectorFromElement(k){const p=X(k);return p&&G.findOne(p)?p:null},getElementFromSelector(k){const p=X(k);return p?G.findOne(p):null},getMultipleElementsFromSelector(k){const p=X(k);return p?G.find(p):[]}},re=(k,p="hide")=>{const j=`click.dismiss${k.EVENT_KEY}`,O=k.NAME;P.on(document,j,`[data-bs-dismiss="${O}"]`,function(W){if(["A","AREA"].includes(this.tagName)&&W.preventDefault(),d(this))return;const K=G.getElementFromSelector(this)||this.closest(`.${O}`);k.getOrCreateInstance(K)[p]()})},ge=".bs.alert",pe=`close${ge}`,be=`closed${ge}`;class Ee extends ne{static get NAME(){return"alert"}close(){if(P.trigger(this._element,pe).defaultPrevented)return;this._element.classList.remove("show");const p=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,p)}_destroyElement(){this._element.remove(),P.trigger(this._element,be),this.dispose()}static jQueryInterface(p){return this.each(function(){const j=Ee.getOrCreateInstance(this);if(typeof p=="string"){if(j[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);j[p](this)}})}}re(Ee,"close"),y(Ee);const Te='[data-bs-toggle="button"]';class Le extends ne{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(p){return this.each(function(){const j=Le.getOrCreateInstance(this);p==="toggle"&&j[p]()})}}P.on(document,"click.bs.button.data-api",Te,k=>{k.preventDefault();const p=k.target.closest(Te);Le.getOrCreateInstance(p).toggle()}),y(Le);const lt=".bs.swipe",wt=`touchstart${lt}`,he=`touchmove${lt}`,Se=`touchend${lt}`,$=`pointerdown${lt}`,Y=`pointerup${lt}`,U={endCallback:null,leftCallback:null,rightCallback:null},J={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Q extends F{constructor(p,j){super(),this._element=p,p&&Q.isSupported()&&(this._config=this._getConfig(j),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return U}static get DefaultType(){return J}static get NAME(){return"swipe"}dispose(){P.off(this._element,lt)}_start(p){this._supportPointerEvents?this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX):this._deltaX=p.touches[0].clientX}_end(p){this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(p){this._deltaX=p.touches&&p.touches.length>1?0:p.touches[0].clientX-this._deltaX}_handleSwipe(){const p=Math.abs(this._deltaX);if(p<=40)return;const j=p/this._deltaX;this._deltaX=0,j&&g(j>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,$,p=>this._start(p)),P.on(this._element,Y,p=>this._end(p)),this._element.classList.add("pointer-event")):(P.on(this._element,wt,p=>this._start(p)),P.on(this._element,he,p=>this._move(p)),P.on(this._element,Se,p=>this._end(p)))}_eventIsPointerPenTouch(p){return this._supportPointerEvents&&(p.pointerType==="pen"||p.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ie=".bs.carousel",_e=".data-api",Z="ArrowLeft",ye="ArrowRight",$e="next",Ye="prev",tt="left",Vs="right",Nc=`slide${ie}`,fr=`slid${ie}`,qp=`keydown${ie}`,Zd=`mouseenter${ie}`,Wp=`mouseleave${ie}`,eh=`dragstart${ie}`,UM=`load${ie}${_e}`,VM=`click${ie}${_e}`,e0="carousel",th="active",t0=".active",s0=".carousel-item",qM=t0+s0,WM={[Z]:Vs,[ye]:tt},YM={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},GM={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class No extends ne{constructor(p,j){super(p,j),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=G.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===e0&&this.cycle()}static get Default(){return YM}static get DefaultType(){return GM}static get NAME(){return"carousel"}next(){this._slide($e)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(Ye)}pause(){this._isSliding&&r(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,fr,()=>this.cycle()):this.cycle())}to(p){const j=this._getItems();if(p>j.length-1||p<0)return;if(this._isSliding)return void P.one(this._element,fr,()=>this.to(p));const O=this._getItemIndex(this._getActive());if(O===p)return;const W=p>O?$e:Ye;this._slide(W,j[p])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(p){return p.defaultInterval=p.interval,p}_addEventListeners(){this._config.keyboard&&P.on(this._element,qp,p=>this._keydown(p)),this._config.pause==="hover"&&(P.on(this._element,Zd,()=>this.pause()),P.on(this._element,Wp,()=>this._maybeEnableCycle())),this._config.touch&&Q.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const j of G.find(".carousel-item img",this._element))P.on(j,eh,O=>O.preventDefault());const p={leftCallback:()=>this._slide(this._directionToOrder(tt)),rightCallback:()=>this._slide(this._directionToOrder(Vs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Q(this._element,p)}_keydown(p){if(/input|textarea/i.test(p.target.tagName))return;const j=WM[p.key];j&&(p.preventDefault(),this._slide(this._directionToOrder(j)))}_getItemIndex(p){return this._getItems().indexOf(p)}_setActiveIndicatorElement(p){if(!this._indicatorsElement)return;const j=G.findOne(t0,this._indicatorsElement);j.classList.remove(th),j.removeAttribute("aria-current");const O=G.findOne(`[data-bs-slide-to="${p}"]`,this._indicatorsElement);O&&(O.classList.add(th),O.setAttribute("aria-current","true"))}_updateInterval(){const p=this._activeElement||this._getActive();if(!p)return;const j=Number.parseInt(p.getAttribute("data-bs-interval"),10);this._config.interval=j||this._config.defaultInterval}_slide(p,j=null){if(this._isSliding)return;const O=this._getActive(),W=p===$e,K=j||w(this._getItems(),O,W,this._config.wrap);if(K===O)return;const ee=this._getItemIndex(K),ue=xe=>P.trigger(this._element,xe,{relatedTarget:K,direction:this._orderToDirection(p),from:this._getItemIndex(O),to:ee});if(ue(Nc).defaultPrevented||!O||!K)return;const ve=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ee),this._activeElement=K;const je=W?"carousel-item-start":"carousel-item-end",Ne=W?"carousel-item-next":"carousel-item-prev";K.classList.add(Ne),m(K),O.classList.add(je),K.classList.add(je),this._queueCallback(()=>{K.classList.remove(je,Ne),K.classList.add(th),O.classList.remove(th,Ne,je),this._isSliding=!1,ue(fr)},O,this._isAnimated()),ve&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return G.findOne(qM,this._element)}_getItems(){return G.find(s0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(p){return x()?p===tt?Ye:$e:p===tt?$e:Ye}_orderToDirection(p){return x()?p===Ye?tt:Vs:p===Ye?Vs:tt}static jQueryInterface(p){return this.each(function(){const j=No.getOrCreateInstance(this,p);if(typeof p!="number"){if(typeof p=="string"){if(j[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);j[p]()}}else j.to(p)})}}P.on(document,VM,"[data-bs-slide], [data-bs-slide-to]",function(k){const p=G.getElementFromSelector(this);if(!p||!p.classList.contains(e0))return;k.preventDefault();const j=No.getOrCreateInstance(p),O=this.getAttribute("data-bs-slide-to");return O?(j.to(O),void j._maybeEnableCycle()):ae.getDataAttribute(this,"slide")==="next"?(j.next(),void j._maybeEnableCycle()):(j.prev(),void j._maybeEnableCycle())}),P.on(window,UM,()=>{const k=G.find('[data-bs-ride="carousel"]');for(const p of k)No.getOrCreateInstance(p)}),y(No);const Tc=".bs.collapse",KM=`show${Tc}`,XM=`shown${Tc}`,QM=`hide${Tc}`,JM=`hidden${Tc}`,ZM=`click${Tc}.data-api`,Yp="show",To="collapse",sh="collapsing",eR=`:scope .${To} .${To}`,Gp='[data-bs-toggle="collapse"]',tR={parent:null,toggle:!0},sR={parent:"(null|element)",toggle:"boolean"};class Co extends ne{constructor(p,j){super(p,j),this._isTransitioning=!1,this._triggerArray=[];const O=G.find(Gp);for(const W of O){const K=G.getSelectorFromElement(W),ee=G.find(K).filter(ue=>ue===this._element);K!==null&&ee.length&&this._triggerArray.push(W)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tR}static get DefaultType(){return sR}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let p=[];if(this._config.parent&&(p=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>Co.getOrCreateInstance(W,{toggle:!1}))),p.length&&p[0]._isTransitioning||P.trigger(this._element,KM).defaultPrevented)return;for(const W of p)W.hide();const j=this._getDimension();this._element.classList.remove(To),this._element.classList.add(sh),this._element.style[j]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const O=`scroll${j[0].toUpperCase()+j.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(sh),this._element.classList.add(To,Yp),this._element.style[j]="",P.trigger(this._element,XM)},this._element,!0),this._element.style[j]=`${this._element[O]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,QM).defaultPrevented)return;const p=this._getDimension();this._element.style[p]=`${this._element.getBoundingClientRect()[p]}px`,m(this._element),this._element.classList.add(sh),this._element.classList.remove(To,Yp);for(const j of this._triggerArray){const O=G.getElementFromSelector(j);O&&!this._isShown(O)&&this._addAriaAndCollapsedClass([j],!1)}this._isTransitioning=!0,this._element.style[p]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(sh),this._element.classList.add(To),P.trigger(this._element,JM)},this._element,!0)}_isShown(p=this._element){return p.classList.contains(Yp)}_configAfterMerge(p){return p.toggle=!!p.toggle,p.parent=c(p.parent),p}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const p=this._getFirstLevelChildren(Gp);for(const j of p){const O=G.getElementFromSelector(j);O&&this._addAriaAndCollapsedClass([j],this._isShown(O))}}_getFirstLevelChildren(p){const j=G.find(eR,this._config.parent);return G.find(p,this._config.parent).filter(O=>!j.includes(O))}_addAriaAndCollapsedClass(p,j){if(p.length)for(const O of p)O.classList.toggle("collapsed",!j),O.setAttribute("aria-expanded",j)}static jQueryInterface(p){const j={};return typeof p=="string"&&/show|hide/.test(p)&&(j.toggle=!1),this.each(function(){const O=Co.getOrCreateInstance(this,j);if(typeof p=="string"){if(O[p]===void 0)throw new TypeError(`No method named "${p}"`);O[p]()}})}}P.on(document,ZM,Gp,function(k){(k.target.tagName==="A"||k.delegateTarget&&k.delegateTarget.tagName==="A")&&k.preventDefault();for(const p of G.getMultipleElementsFromSelector(this))Co.getOrCreateInstance(p,{toggle:!1}).toggle()}),y(Co);var xs="top",qs="bottom",Ws="right",ws="left",nh="auto",ko=[xs,qs,Ws,ws],mr="start",Ao="end",n0="clippingParents",Kp="viewport",Oo="popper",i0="reference",Xp=ko.reduce(function(k,p){return k.concat([p+"-"+mr,p+"-"+Ao])},[]),Qp=[].concat(ko,[nh]).reduce(function(k,p){return k.concat([p,p+"-"+mr,p+"-"+Ao])},[]),a0="beforeRead",r0="read",o0="afterRead",l0="beforeMain",c0="main",u0="afterMain",d0="beforeWrite",h0="write",f0="afterWrite",m0=[a0,r0,o0,l0,c0,u0,d0,h0,f0];function ii(k){return k?(k.nodeName||"").toLowerCase():null}function Ys(k){if(k==null)return window;if(k.toString()!=="[object Window]"){var p=k.ownerDocument;return p&&p.defaultView||window}return k}function pr(k){return k instanceof Ys(k).Element||k instanceof Element}function yn(k){return k instanceof Ys(k).HTMLElement||k instanceof HTMLElement}function Jp(k){return typeof ShadowRoot<"u"&&(k instanceof Ys(k).ShadowRoot||k instanceof ShadowRoot)}const Zp={name:"applyStyles",enabled:!0,phase:"write",fn:function(k){var p=k.state;Object.keys(p.elements).forEach(function(j){var O=p.styles[j]||{},W=p.attributes[j]||{},K=p.elements[j];yn(K)&&ii(K)&&(Object.assign(K.style,O),Object.keys(W).forEach(function(ee){var ue=W[ee];ue===!1?K.removeAttribute(ee):K.setAttribute(ee,ue===!0?"":ue)}))})},effect:function(k){var p=k.state,j={popper:{position:p.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(p.elements.popper.style,j.popper),p.styles=j,p.elements.arrow&&Object.assign(p.elements.arrow.style,j.arrow),function(){Object.keys(p.elements).forEach(function(O){var W=p.elements[O],K=p.attributes[O]||{},ee=Object.keys(p.styles.hasOwnProperty(O)?p.styles[O]:j[O]).reduce(function(ue,ve){return ue[ve]="",ue},{});yn(W)&&ii(W)&&(Object.assign(W.style,ee),Object.keys(K).forEach(function(ue){W.removeAttribute(ue)}))})}},requires:["computeStyles"]};function ai(k){return k.split("-")[0]}var gr=Math.max,ih=Math.min,Do=Math.round;function eg(){var k=navigator.userAgentData;return k!=null&&k.brands&&Array.isArray(k.brands)?k.brands.map(function(p){return p.brand+"/"+p.version}).join(" "):navigator.userAgent}function p0(){return!/^((?!chrome|android).)*safari/i.test(eg())}function Mo(k,p,j){p===void 0&&(p=!1),j===void 0&&(j=!1);var O=k.getBoundingClientRect(),W=1,K=1;p&&yn(k)&&(W=k.offsetWidth>0&&Do(O.width)/k.offsetWidth||1,K=k.offsetHeight>0&&Do(O.height)/k.offsetHeight||1);var ee=(pr(k)?Ys(k):window).visualViewport,ue=!p0()&&j,ve=(O.left+(ue&&ee?ee.offsetLeft:0))/W,je=(O.top+(ue&&ee?ee.offsetTop:0))/K,Ne=O.width/W,xe=O.height/K;return{width:Ne,height:xe,top:je,right:ve+Ne,bottom:je+xe,left:ve,x:ve,y:je}}function tg(k){var p=Mo(k),j=k.offsetWidth,O=k.offsetHeight;return Math.abs(p.width-j)<=1&&(j=p.width),Math.abs(p.height-O)<=1&&(O=p.height),{x:k.offsetLeft,y:k.offsetTop,width:j,height:O}}function g0(k,p){var j=p.getRootNode&&p.getRootNode();if(k.contains(p))return!0;if(j&&Jp(j)){var O=p;do{if(O&&k.isSameNode(O))return!0;O=O.parentNode||O.host}while(O)}return!1}function Oi(k){return Ys(k).getComputedStyle(k)}function nR(k){return["table","td","th"].indexOf(ii(k))>=0}function ma(k){return((pr(k)?k.ownerDocument:k.document)||window.document).documentElement}function ah(k){return ii(k)==="html"?k:k.assignedSlot||k.parentNode||(Jp(k)?k.host:null)||ma(k)}function y0(k){return yn(k)&&Oi(k).position!=="fixed"?k.offsetParent:null}function Cc(k){for(var p=Ys(k),j=y0(k);j&&nR(j)&&Oi(j).position==="static";)j=y0(j);return j&&(ii(j)==="html"||ii(j)==="body"&&Oi(j).position==="static")?p:j||function(O){var W=/firefox/i.test(eg());if(/Trident/i.test(eg())&&yn(O)&&Oi(O).position==="fixed")return null;var K=ah(O);for(Jp(K)&&(K=K.host);yn(K)&&["html","body"].indexOf(ii(K))<0;){var ee=Oi(K);if(ee.transform!=="none"||ee.perspective!=="none"||ee.contain==="paint"||["transform","perspective"].indexOf(ee.willChange)!==-1||W&&ee.willChange==="filter"||W&&ee.filter&&ee.filter!=="none")return K;K=K.parentNode}return null}(k)||p}function sg(k){return["top","bottom"].indexOf(k)>=0?"x":"y"}function kc(k,p,j){return gr(k,ih(p,j))}function b0(k){return Object.assign({},{top:0,right:0,bottom:0,left:0},k)}function v0(k,p){return p.reduce(function(j,O){return j[O]=k,j},{})}const _0={name:"arrow",enabled:!0,phase:"main",fn:function(k){var p,j=k.state,O=k.name,W=k.options,K=j.elements.arrow,ee=j.modifiersData.popperOffsets,ue=ai(j.placement),ve=sg(ue),je=[ws,Ws].indexOf(ue)>=0?"height":"width";if(K&&ee){var Ne=function(gt,ut){return b0(typeof(gt=typeof gt=="function"?gt(Object.assign({},ut.rects,{placement:ut.placement})):gt)!="number"?gt:v0(gt,ko))}(W.padding,j),xe=tg(K),Ue=ve==="y"?xs:ws,Re=ve==="y"?qs:Ws,ze=j.rects.reference[je]+j.rects.reference[ve]-ee[ve]-j.rects.popper[je],Ie=ee[ve]-j.rects.reference[ve],He=Cc(K),pt=He?ve==="y"?He.clientHeight||0:He.clientWidth||0:0,St=ze/2-Ie/2,Ge=Ne[Ue],it=pt-xe[je]-Ne[Re],Ve=pt/2-xe[je]/2+St,Qe=kc(Ge,Ve,it),ct=ve;j.modifiersData[O]=((p={})[ct]=Qe,p.centerOffset=Qe-Ve,p)}},effect:function(k){var p=k.state,j=k.options.element,O=j===void 0?"[data-popper-arrow]":j;O!=null&&(typeof O!="string"||(O=p.elements.popper.querySelector(O)))&&g0(p.elements.popper,O)&&(p.elements.arrow=O)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ro(k){return k.split("-")[1]}var iR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function x0(k){var p,j=k.popper,O=k.popperRect,W=k.placement,K=k.variation,ee=k.offsets,ue=k.position,ve=k.gpuAcceleration,je=k.adaptive,Ne=k.roundOffsets,xe=k.isFixed,Ue=ee.x,Re=Ue===void 0?0:Ue,ze=ee.y,Ie=ze===void 0?0:ze,He=typeof Ne=="function"?Ne({x:Re,y:Ie}):{x:Re,y:Ie};Re=He.x,Ie=He.y;var pt=ee.hasOwnProperty("x"),St=ee.hasOwnProperty("y"),Ge=ws,it=xs,Ve=window;if(je){var Qe=Cc(j),ct="clientHeight",gt="clientWidth";Qe===Ys(j)&&Oi(Qe=ma(j)).position!=="static"&&ue==="absolute"&&(ct="scrollHeight",gt="scrollWidth"),(W===xs||(W===ws||W===Ws)&&K===Ao)&&(it=qs,Ie-=(xe&&Qe===Ve&&Ve.visualViewport?Ve.visualViewport.height:Qe[ct])-O.height,Ie*=ve?1:-1),W!==ws&&(W!==xs&&W!==qs||K!==Ao)||(Ge=Ws,Re-=(xe&&Qe===Ve&&Ve.visualViewport?Ve.visualViewport.width:Qe[gt])-O.width,Re*=ve?1:-1)}var ut,zt=Object.assign({position:ue},je&&iR),Gs=Ne===!0?function(Fn,Ss){var vn=Fn.x,_n=Fn.y,Lt=Ss.devicePixelRatio||1;return{x:Do(vn*Lt)/Lt||0,y:Do(_n*Lt)/Lt||0}}({x:Re,y:Ie},Ys(j)):{x:Re,y:Ie};return Re=Gs.x,Ie=Gs.y,ve?Object.assign({},zt,((ut={})[it]=St?"0":"",ut[Ge]=pt?"0":"",ut.transform=(Ve.devicePixelRatio||1)<=1?"translate("+Re+"px, "+Ie+"px)":"translate3d("+Re+"px, "+Ie+"px, 0)",ut)):Object.assign({},zt,((p={})[it]=St?Ie+"px":"",p[Ge]=pt?Re+"px":"",p.transform="",p))}const ng={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(k){var p=k.state,j=k.options,O=j.gpuAcceleration,W=O===void 0||O,K=j.adaptive,ee=K===void 0||K,ue=j.roundOffsets,ve=ue===void 0||ue,je={placement:ai(p.placement),variation:Ro(p.placement),popper:p.elements.popper,popperRect:p.rects.popper,gpuAcceleration:W,isFixed:p.options.strategy==="fixed"};p.modifiersData.popperOffsets!=null&&(p.styles.popper=Object.assign({},p.styles.popper,x0(Object.assign({},je,{offsets:p.modifiersData.popperOffsets,position:p.options.strategy,adaptive:ee,roundOffsets:ve})))),p.modifiersData.arrow!=null&&(p.styles.arrow=Object.assign({},p.styles.arrow,x0(Object.assign({},je,{offsets:p.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ve})))),p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-placement":p.placement})},data:{}};var rh={passive:!0};const ig={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(k){var p=k.state,j=k.instance,O=k.options,W=O.scroll,K=W===void 0||W,ee=O.resize,ue=ee===void 0||ee,ve=Ys(p.elements.popper),je=[].concat(p.scrollParents.reference,p.scrollParents.popper);return K&&je.forEach(function(Ne){Ne.addEventListener("scroll",j.update,rh)}),ue&&ve.addEventListener("resize",j.update,rh),function(){K&&je.forEach(function(Ne){Ne.removeEventListener("scroll",j.update,rh)}),ue&&ve.removeEventListener("resize",j.update,rh)}},data:{}};var aR={left:"right",right:"left",bottom:"top",top:"bottom"};function oh(k){return k.replace(/left|right|bottom|top/g,function(p){return aR[p]})}var rR={start:"end",end:"start"};function w0(k){return k.replace(/start|end/g,function(p){return rR[p]})}function ag(k){var p=Ys(k);return{scrollLeft:p.pageXOffset,scrollTop:p.pageYOffset}}function rg(k){return Mo(ma(k)).left+ag(k).scrollLeft}function og(k){var p=Oi(k),j=p.overflow,O=p.overflowX,W=p.overflowY;return/auto|scroll|overlay|hidden/.test(j+W+O)}function S0(k){return["html","body","#document"].indexOf(ii(k))>=0?k.ownerDocument.body:yn(k)&&og(k)?k:S0(ah(k))}function Ac(k,p){var j;p===void 0&&(p=[]);var O=S0(k),W=O===((j=k.ownerDocument)==null?void 0:j.body),K=Ys(O),ee=W?[K].concat(K.visualViewport||[],og(O)?O:[]):O,ue=p.concat(ee);return W?ue:ue.concat(Ac(ah(ee)))}function lg(k){return Object.assign({},k,{left:k.x,top:k.y,right:k.x+k.width,bottom:k.y+k.height})}function j0(k,p,j){return p===Kp?lg(function(O,W){var K=Ys(O),ee=ma(O),ue=K.visualViewport,ve=ee.clientWidth,je=ee.clientHeight,Ne=0,xe=0;if(ue){ve=ue.width,je=ue.height;var Ue=p0();(Ue||!Ue&&W==="fixed")&&(Ne=ue.offsetLeft,xe=ue.offsetTop)}return{width:ve,height:je,x:Ne+rg(O),y:xe}}(k,j)):pr(p)?function(O,W){var K=Mo(O,!1,W==="fixed");return K.top=K.top+O.clientTop,K.left=K.left+O.clientLeft,K.bottom=K.top+O.clientHeight,K.right=K.left+O.clientWidth,K.width=O.clientWidth,K.height=O.clientHeight,K.x=K.left,K.y=K.top,K}(p,j):lg(function(O){var W,K=ma(O),ee=ag(O),ue=(W=O.ownerDocument)==null?void 0:W.body,ve=gr(K.scrollWidth,K.clientWidth,ue?ue.scrollWidth:0,ue?ue.clientWidth:0),je=gr(K.scrollHeight,K.clientHeight,ue?ue.scrollHeight:0,ue?ue.clientHeight:0),Ne=-ee.scrollLeft+rg(O),xe=-ee.scrollTop;return Oi(ue||K).direction==="rtl"&&(Ne+=gr(K.clientWidth,ue?ue.clientWidth:0)-ve),{width:ve,height:je,x:Ne,y:xe}}(ma(k)))}function E0(k){var p,j=k.reference,O=k.element,W=k.placement,K=W?ai(W):null,ee=W?Ro(W):null,ue=j.x+j.width/2-O.width/2,ve=j.y+j.height/2-O.height/2;switch(K){case xs:p={x:ue,y:j.y-O.height};break;case qs:p={x:ue,y:j.y+j.height};break;case Ws:p={x:j.x+j.width,y:ve};break;case ws:p={x:j.x-O.width,y:ve};break;default:p={x:j.x,y:j.y}}var je=K?sg(K):null;if(je!=null){var Ne=je==="y"?"height":"width";switch(ee){case mr:p[je]=p[je]-(j[Ne]/2-O[Ne]/2);break;case Ao:p[je]=p[je]+(j[Ne]/2-O[Ne]/2)}}return p}function Po(k,p){p===void 0&&(p={});var j=p,O=j.placement,W=O===void 0?k.placement:O,K=j.strategy,ee=K===void 0?k.strategy:K,ue=j.boundary,ve=ue===void 0?n0:ue,je=j.rootBoundary,Ne=je===void 0?Kp:je,xe=j.elementContext,Ue=xe===void 0?Oo:xe,Re=j.altBoundary,ze=Re!==void 0&&Re,Ie=j.padding,He=Ie===void 0?0:Ie,pt=b0(typeof He!="number"?He:v0(He,ko)),St=Ue===Oo?i0:Oo,Ge=k.rects.popper,it=k.elements[ze?St:Ue],Ve=function(Ss,vn,_n,Lt){var ri=vn==="clippingParents"?function(vt){var js=Ac(ah(vt)),xn=["absolute","fixed"].indexOf(Oi(vt).position)>=0&&yn(vt)?Cc(vt):vt;return pr(xn)?js.filter(function(ga){return pr(ga)&&g0(ga,xn)&&ii(ga)!=="body"}):[]}(Ss):[].concat(vn),oi=[].concat(ri,[_n]),Io=oi[0],ss=oi.reduce(function(vt,js){var xn=j0(Ss,js,Lt);return vt.top=gr(xn.top,vt.top),vt.right=ih(xn.right,vt.right),vt.bottom=ih(xn.bottom,vt.bottom),vt.left=gr(xn.left,vt.left),vt},j0(Ss,Io,Lt));return ss.width=ss.right-ss.left,ss.height=ss.bottom-ss.top,ss.x=ss.left,ss.y=ss.top,ss}(pr(it)?it:it.contextElement||ma(k.elements.popper),ve,Ne,ee),Qe=Mo(k.elements.reference),ct=E0({reference:Qe,element:Ge,placement:W}),gt=lg(Object.assign({},Ge,ct)),ut=Ue===Oo?gt:Qe,zt={top:Ve.top-ut.top+pt.top,bottom:ut.bottom-Ve.bottom+pt.bottom,left:Ve.left-ut.left+pt.left,right:ut.right-Ve.right+pt.right},Gs=k.modifiersData.offset;if(Ue===Oo&&Gs){var Fn=Gs[W];Object.keys(zt).forEach(function(Ss){var vn=[Ws,qs].indexOf(Ss)>=0?1:-1,_n=[xs,qs].indexOf(Ss)>=0?"y":"x";zt[Ss]+=Fn[_n]*vn})}return zt}function oR(k,p){p===void 0&&(p={});var j=p,O=j.placement,W=j.boundary,K=j.rootBoundary,ee=j.padding,ue=j.flipVariations,ve=j.allowedAutoPlacements,je=ve===void 0?Qp:ve,Ne=Ro(O),xe=Ne?ue?Xp:Xp.filter(function(ze){return Ro(ze)===Ne}):ko,Ue=xe.filter(function(ze){return je.indexOf(ze)>=0});Ue.length===0&&(Ue=xe);var Re=Ue.reduce(function(ze,Ie){return ze[Ie]=Po(k,{placement:Ie,boundary:W,rootBoundary:K,padding:ee})[ai(Ie)],ze},{});return Object.keys(Re).sort(function(ze,Ie){return Re[ze]-Re[Ie]})}const N0={name:"flip",enabled:!0,phase:"main",fn:function(k){var p=k.state,j=k.options,O=k.name;if(!p.modifiersData[O]._skip){for(var W=j.mainAxis,K=W===void 0||W,ee=j.altAxis,ue=ee===void 0||ee,ve=j.fallbackPlacements,je=j.padding,Ne=j.boundary,xe=j.rootBoundary,Ue=j.altBoundary,Re=j.flipVariations,ze=Re===void 0||Re,Ie=j.allowedAutoPlacements,He=p.options.placement,pt=ai(He),St=ve||(pt!==He&&ze?function(vt){if(ai(vt)===nh)return[];var js=oh(vt);return[w0(vt),js,w0(js)]}(He):[oh(He)]),Ge=[He].concat(St).reduce(function(vt,js){return vt.concat(ai(js)===nh?oR(p,{placement:js,boundary:Ne,rootBoundary:xe,padding:je,flipVariations:ze,allowedAutoPlacements:Ie}):js)},[]),it=p.rects.reference,Ve=p.rects.popper,Qe=new Map,ct=!0,gt=Ge[0],ut=0;ut<Ge.length;ut++){var zt=Ge[ut],Gs=ai(zt),Fn=Ro(zt)===mr,Ss=[xs,qs].indexOf(Gs)>=0,vn=Ss?"width":"height",_n=Po(p,{placement:zt,boundary:Ne,rootBoundary:xe,altBoundary:Ue,padding:je}),Lt=Ss?Fn?Ws:ws:Fn?qs:xs;it[vn]>Ve[vn]&&(Lt=oh(Lt));var ri=oh(Lt),oi=[];if(K&&oi.push(_n[Gs]<=0),ue&&oi.push(_n[Lt]<=0,_n[ri]<=0),oi.every(function(vt){return vt})){gt=zt,ct=!1;break}Qe.set(zt,oi)}if(ct)for(var Io=function(vt){var js=Ge.find(function(xn){var ga=Qe.get(xn);if(ga)return ga.slice(0,vt).every(function(gh){return gh})});if(js)return gt=js,"break"},ss=ze?3:1;ss>0&&Io(ss)!=="break";ss--);p.placement!==gt&&(p.modifiersData[O]._skip=!0,p.placement=gt,p.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function T0(k,p,j){return j===void 0&&(j={x:0,y:0}),{top:k.top-p.height-j.y,right:k.right-p.width+j.x,bottom:k.bottom-p.height+j.y,left:k.left-p.width-j.x}}function C0(k){return[xs,Ws,qs,ws].some(function(p){return k[p]>=0})}const k0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(k){var p=k.state,j=k.name,O=p.rects.reference,W=p.rects.popper,K=p.modifiersData.preventOverflow,ee=Po(p,{elementContext:"reference"}),ue=Po(p,{altBoundary:!0}),ve=T0(ee,O),je=T0(ue,W,K),Ne=C0(ve),xe=C0(je);p.modifiersData[j]={referenceClippingOffsets:ve,popperEscapeOffsets:je,isReferenceHidden:Ne,hasPopperEscaped:xe},p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-reference-hidden":Ne,"data-popper-escaped":xe})}},A0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(k){var p=k.state,j=k.options,O=k.name,W=j.offset,K=W===void 0?[0,0]:W,ee=Qp.reduce(function(Ne,xe){return Ne[xe]=function(Ue,Re,ze){var Ie=ai(Ue),He=[ws,xs].indexOf(Ie)>=0?-1:1,pt=typeof ze=="function"?ze(Object.assign({},Re,{placement:Ue})):ze,St=pt[0],Ge=pt[1];return St=St||0,Ge=(Ge||0)*He,[ws,Ws].indexOf(Ie)>=0?{x:Ge,y:St}:{x:St,y:Ge}}(xe,p.rects,K),Ne},{}),ue=ee[p.placement],ve=ue.x,je=ue.y;p.modifiersData.popperOffsets!=null&&(p.modifiersData.popperOffsets.x+=ve,p.modifiersData.popperOffsets.y+=je),p.modifiersData[O]=ee}},cg={name:"popperOffsets",enabled:!0,phase:"read",fn:function(k){var p=k.state,j=k.name;p.modifiersData[j]=E0({reference:p.rects.reference,element:p.rects.popper,placement:p.placement})},data:{}},O0={name:"preventOverflow",enabled:!0,phase:"main",fn:function(k){var p=k.state,j=k.options,O=k.name,W=j.mainAxis,K=W===void 0||W,ee=j.altAxis,ue=ee!==void 0&&ee,ve=j.boundary,je=j.rootBoundary,Ne=j.altBoundary,xe=j.padding,Ue=j.tether,Re=Ue===void 0||Ue,ze=j.tetherOffset,Ie=ze===void 0?0:ze,He=Po(p,{boundary:ve,rootBoundary:je,padding:xe,altBoundary:Ne}),pt=ai(p.placement),St=Ro(p.placement),Ge=!St,it=sg(pt),Ve=it==="x"?"y":"x",Qe=p.modifiersData.popperOffsets,ct=p.rects.reference,gt=p.rects.popper,ut=typeof Ie=="function"?Ie(Object.assign({},p.rects,{placement:p.placement})):Ie,zt=typeof ut=="number"?{mainAxis:ut,altAxis:ut}:Object.assign({mainAxis:0,altAxis:0},ut),Gs=p.modifiersData.offset?p.modifiersData.offset[p.placement]:null,Fn={x:0,y:0};if(Qe){if(K){var Ss,vn=it==="y"?xs:ws,_n=it==="y"?qs:Ws,Lt=it==="y"?"height":"width",ri=Qe[it],oi=ri+He[vn],Io=ri-He[_n],ss=Re?-gt[Lt]/2:0,vt=St===mr?ct[Lt]:gt[Lt],js=St===mr?-gt[Lt]:-ct[Lt],xn=p.elements.arrow,ga=Re&&xn?tg(xn):{width:0,height:0},gh=p.modifiersData["arrow#persistent"]?p.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},yw=gh[vn],bw=gh[_n],yh=kc(0,ct[Lt],ga[Lt]),B2=Ge?ct[Lt]/2-ss-yh-yw-zt.mainAxis:vt-yh-yw-zt.mainAxis,z2=Ge?-ct[Lt]/2+ss+yh+bw+zt.mainAxis:js+yh+bw+zt.mainAxis,wg=p.elements.arrow&&Cc(p.elements.arrow),H2=wg?it==="y"?wg.clientTop||0:wg.clientLeft||0:0,vw=(Ss=Gs==null?void 0:Gs[it])!=null?Ss:0,F2=ri+z2-vw,_w=kc(Re?ih(oi,ri+B2-vw-H2):oi,ri,Re?gr(Io,F2):Io);Qe[it]=_w,Fn[it]=_w-ri}if(ue){var xw,U2=it==="x"?xs:ws,V2=it==="x"?qs:Ws,jr=Qe[Ve],bh=Ve==="y"?"height":"width",ww=jr+He[U2],Sw=jr-He[V2],Sg=[xs,ws].indexOf(pt)!==-1,jw=(xw=Gs==null?void 0:Gs[Ve])!=null?xw:0,Ew=Sg?ww:jr-ct[bh]-gt[bh]-jw+zt.altAxis,Nw=Sg?jr+ct[bh]+gt[bh]-jw-zt.altAxis:Sw,Tw=Re&&Sg?function(q2,W2,jg){var Cw=kc(q2,W2,jg);return Cw>jg?jg:Cw}(Ew,jr,Nw):kc(Re?Ew:ww,jr,Re?Nw:Sw);Qe[Ve]=Tw,Fn[Ve]=Tw-jr}p.modifiersData[O]=Fn}},requiresIfExists:["offset"]};function lR(k,p,j){j===void 0&&(j=!1);var O,W,K=yn(p),ee=yn(p)&&function(xe){var Ue=xe.getBoundingClientRect(),Re=Do(Ue.width)/xe.offsetWidth||1,ze=Do(Ue.height)/xe.offsetHeight||1;return Re!==1||ze!==1}(p),ue=ma(p),ve=Mo(k,ee,j),je={scrollLeft:0,scrollTop:0},Ne={x:0,y:0};return(K||!K&&!j)&&((ii(p)!=="body"||og(ue))&&(je=(O=p)!==Ys(O)&&yn(O)?{scrollLeft:(W=O).scrollLeft,scrollTop:W.scrollTop}:ag(O)),yn(p)?((Ne=Mo(p,!0)).x+=p.clientLeft,Ne.y+=p.clientTop):ue&&(Ne.x=rg(ue))),{x:ve.left+je.scrollLeft-Ne.x,y:ve.top+je.scrollTop-Ne.y,width:ve.width,height:ve.height}}function cR(k){var p=new Map,j=new Set,O=[];function W(K){j.add(K.name),[].concat(K.requires||[],K.requiresIfExists||[]).forEach(function(ee){if(!j.has(ee)){var ue=p.get(ee);ue&&W(ue)}}),O.push(K)}return k.forEach(function(K){p.set(K.name,K)}),k.forEach(function(K){j.has(K.name)||W(K)}),O}var D0={placement:"bottom",modifiers:[],strategy:"absolute"};function M0(){for(var k=arguments.length,p=new Array(k),j=0;j<k;j++)p[j]=arguments[j];return!p.some(function(O){return!(O&&typeof O.getBoundingClientRect=="function")})}function lh(k){k===void 0&&(k={});var p=k,j=p.defaultModifiers,O=j===void 0?[]:j,W=p.defaultOptions,K=W===void 0?D0:W;return function(ee,ue,ve){ve===void 0&&(ve=K);var je,Ne,xe={placement:"bottom",orderedModifiers:[],options:Object.assign({},D0,K),modifiersData:{},elements:{reference:ee,popper:ue},attributes:{},styles:{}},Ue=[],Re=!1,ze={state:xe,setOptions:function(He){var pt=typeof He=="function"?He(xe.options):He;Ie(),xe.options=Object.assign({},K,xe.options,pt),xe.scrollParents={reference:pr(ee)?Ac(ee):ee.contextElement?Ac(ee.contextElement):[],popper:Ac(ue)};var St,Ge,it=function(Ve){var Qe=cR(Ve);return m0.reduce(function(ct,gt){return ct.concat(Qe.filter(function(ut){return ut.phase===gt}))},[])}((St=[].concat(O,xe.options.modifiers),Ge=St.reduce(function(Ve,Qe){var ct=Ve[Qe.name];return Ve[Qe.name]=ct?Object.assign({},ct,Qe,{options:Object.assign({},ct.options,Qe.options),data:Object.assign({},ct.data,Qe.data)}):Qe,Ve},{}),Object.keys(Ge).map(function(Ve){return Ge[Ve]})));return xe.orderedModifiers=it.filter(function(Ve){return Ve.enabled}),xe.orderedModifiers.forEach(function(Ve){var Qe=Ve.name,ct=Ve.options,gt=ct===void 0?{}:ct,ut=Ve.effect;if(typeof ut=="function"){var zt=ut({state:xe,name:Qe,instance:ze,options:gt});Ue.push(zt||function(){})}}),ze.update()},forceUpdate:function(){if(!Re){var He=xe.elements,pt=He.reference,St=He.popper;if(M0(pt,St)){xe.rects={reference:lR(pt,Cc(St),xe.options.strategy==="fixed"),popper:tg(St)},xe.reset=!1,xe.placement=xe.options.placement,xe.orderedModifiers.forEach(function(ut){return xe.modifiersData[ut.name]=Object.assign({},ut.data)});for(var Ge=0;Ge<xe.orderedModifiers.length;Ge++)if(xe.reset!==!0){var it=xe.orderedModifiers[Ge],Ve=it.fn,Qe=it.options,ct=Qe===void 0?{}:Qe,gt=it.name;typeof Ve=="function"&&(xe=Ve({state:xe,options:ct,name:gt,instance:ze})||xe)}else xe.reset=!1,Ge=-1}}},update:(je=function(){return new Promise(function(He){ze.forceUpdate(),He(xe)})},function(){return Ne||(Ne=new Promise(function(He){Promise.resolve().then(function(){Ne=void 0,He(je())})})),Ne}),destroy:function(){Ie(),Re=!0}};if(!M0(ee,ue))return ze;function Ie(){Ue.forEach(function(He){return He()}),Ue=[]}return ze.setOptions(ve).then(function(He){!Re&&ve.onFirstUpdate&&ve.onFirstUpdate(He)}),ze}}var uR=lh(),dR=lh({defaultModifiers:[ig,cg,ng,Zp]}),ug=lh({defaultModifiers:[ig,cg,ng,Zp,A0,N0,O0,_0,k0]});const R0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:u0,afterRead:o0,afterWrite:f0,applyStyles:Zp,arrow:_0,auto:nh,basePlacements:ko,beforeMain:l0,beforeRead:a0,beforeWrite:d0,bottom:qs,clippingParents:n0,computeStyles:ng,createPopper:ug,createPopperBase:uR,createPopperLite:dR,detectOverflow:Po,end:Ao,eventListeners:ig,flip:N0,hide:k0,left:ws,main:c0,modifierPhases:m0,offset:A0,placements:Qp,popper:Oo,popperGenerator:lh,popperOffsets:cg,preventOverflow:O0,read:r0,reference:i0,right:Ws,start:mr,top:xs,variationPlacements:Xp,viewport:Kp,write:h0},Symbol.toStringTag,{value:"Module"})),P0="dropdown",yr=".bs.dropdown",dg=".data-api",hR="ArrowUp",L0="ArrowDown",fR=`hide${yr}`,mR=`hidden${yr}`,pR=`show${yr}`,gR=`shown${yr}`,$0=`click${yr}${dg}`,I0=`keydown${yr}${dg}`,yR=`keyup${yr}${dg}`,Lo="show",br='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',bR=`${br}.${Lo}`,ch=".dropdown-menu",vR=x()?"top-end":"top-start",_R=x()?"top-start":"top-end",xR=x()?"bottom-end":"bottom-start",wR=x()?"bottom-start":"bottom-end",SR=x()?"left-start":"right-start",jR=x()?"right-start":"left-start",ER={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},NR={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Hn extends ne{constructor(p,j){super(p,j),this._popper=null,this._parent=this._element.parentNode,this._menu=G.next(this._element,ch)[0]||G.prev(this._element,ch)[0]||G.findOne(ch,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ER}static get DefaultType(){return NR}static get NAME(){return P0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const p={relatedTarget:this._element};if(!P.trigger(this._element,pR,p).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const j of[].concat(...document.body.children))P.on(j,"mouseover",f);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Lo),this._element.classList.add(Lo),P.trigger(this._element,gR,p)}}hide(){if(d(this._element)||!this._isShown())return;const p={relatedTarget:this._element};this._completeHide(p)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(p){if(!P.trigger(this._element,fR,p).defaultPrevented){if("ontouchstart"in document.documentElement)for(const j of[].concat(...document.body.children))P.off(j,"mouseover",f);this._popper&&this._popper.destroy(),this._menu.classList.remove(Lo),this._element.classList.remove(Lo),this._element.setAttribute("aria-expanded","false"),ae.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,mR,p),this._element.focus()}}_getConfig(p){if(typeof(p=super._getConfig(p)).reference=="object"&&!l(p.reference)&&typeof p.reference.getBoundingClientRect!="function")throw new TypeError(`${P0.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return p}_createPopper(){if(R0===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let p=this._element;this._config.reference==="parent"?p=this._parent:l(this._config.reference)?p=c(this._config.reference):typeof this._config.reference=="object"&&(p=this._config.reference);const j=this._getPopperConfig();this._popper=ug(p,this._menu,j)}_isShown(){return this._menu.classList.contains(Lo)}_getPlacement(){const p=this._parent;if(p.classList.contains("dropend"))return SR;if(p.classList.contains("dropstart"))return jR;if(p.classList.contains("dropup-center"))return"top";if(p.classList.contains("dropdown-center"))return"bottom";const j=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains("dropup")?j?_R:vR:j?wR:xR}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(j=>Number.parseInt(j,10)):typeof p=="function"?j=>p(j,this._element):p}_getPopperConfig(){const p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ae.setDataAttribute(this._menu,"popper","static"),p.modifiers=[{name:"applyStyles",enabled:!1}]),{...p,...g(this._config.popperConfig,[void 0,p])}}_selectMenuItem({key:p,target:j}){const O=G.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(W=>u(W));O.length&&w(O,j,p===L0,!O.includes(j)).focus()}static jQueryInterface(p){return this.each(function(){const j=Hn.getOrCreateInstance(this,p);if(typeof p=="string"){if(j[p]===void 0)throw new TypeError(`No method named "${p}"`);j[p]()}})}static clearMenus(p){if(p.button===2||p.type==="keyup"&&p.key!=="Tab")return;const j=G.find(bR);for(const O of j){const W=Hn.getInstance(O);if(!W||W._config.autoClose===!1)continue;const K=p.composedPath(),ee=K.includes(W._menu);if(K.includes(W._element)||W._config.autoClose==="inside"&&!ee||W._config.autoClose==="outside"&&ee||W._menu.contains(p.target)&&(p.type==="keyup"&&p.key==="Tab"||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;const ue={relatedTarget:W._element};p.type==="click"&&(ue.clickEvent=p),W._completeHide(ue)}}static dataApiKeydownHandler(p){const j=/input|textarea/i.test(p.target.tagName),O=p.key==="Escape",W=[hR,L0].includes(p.key);if(!W&&!O||j&&!O)return;p.preventDefault();const K=this.matches(br)?this:G.prev(this,br)[0]||G.next(this,br)[0]||G.findOne(br,p.delegateTarget.parentNode),ee=Hn.getOrCreateInstance(K);if(W)return p.stopPropagation(),ee.show(),void ee._selectMenuItem(p);ee._isShown()&&(p.stopPropagation(),ee.hide(),K.focus())}}P.on(document,I0,br,Hn.dataApiKeydownHandler),P.on(document,I0,ch,Hn.dataApiKeydownHandler),P.on(document,$0,Hn.clearMenus),P.on(document,yR,Hn.clearMenus),P.on(document,$0,br,function(k){k.preventDefault(),Hn.getOrCreateInstance(this).toggle()}),y(Hn);const B0="backdrop",z0="show",H0=`mousedown.bs.${B0}`,TR={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},CR={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class F0 extends F{constructor(p){super(),this._config=this._getConfig(p),this._isAppended=!1,this._element=null}static get Default(){return TR}static get DefaultType(){return CR}static get NAME(){return B0}show(p){if(!this._config.isVisible)return void g(p);this._append();const j=this._getElement();this._config.isAnimated&&m(j),j.classList.add(z0),this._emulateAnimation(()=>{g(p)})}hide(p){this._config.isVisible?(this._getElement().classList.remove(z0),this._emulateAnimation(()=>{this.dispose(),g(p)})):g(p)}dispose(){this._isAppended&&(P.off(this._element,H0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const p=document.createElement("div");p.className=this._config.className,this._config.isAnimated&&p.classList.add("fade"),this._element=p}return this._element}_configAfterMerge(p){return p.rootElement=c(p.rootElement),p}_append(){if(this._isAppended)return;const p=this._getElement();this._config.rootElement.append(p),P.on(p,H0,()=>{g(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(p){b(p,this._getElement(),this._config.isAnimated)}}const uh=".bs.focustrap",kR=`focusin${uh}`,AR=`keydown.tab${uh}`,U0="backward",OR={autofocus:!0,trapElement:null},DR={autofocus:"boolean",trapElement:"element"};class V0 extends F{constructor(p){super(),this._config=this._getConfig(p),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return OR}static get DefaultType(){return DR}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,uh),P.on(document,kR,p=>this._handleFocusin(p)),P.on(document,AR,p=>this._handleKeydown(p)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,uh))}_handleFocusin(p){const{trapElement:j}=this._config;if(p.target===document||p.target===j||j.contains(p.target))return;const O=G.focusableChildren(j);O.length===0?j.focus():this._lastTabNavDirection===U0?O[O.length-1].focus():O[0].focus()}_handleKeydown(p){p.key==="Tab"&&(this._lastTabNavDirection=p.shiftKey?U0:"forward")}}const q0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",W0=".sticky-top",dh="padding-right",Y0="margin-right";class hg{constructor(){this._element=document.body}getWidth(){const p=document.documentElement.clientWidth;return Math.abs(window.innerWidth-p)}hide(){const p=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,dh,j=>j+p),this._setElementAttributes(q0,dh,j=>j+p),this._setElementAttributes(W0,Y0,j=>j-p)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,dh),this._resetElementAttributes(q0,dh),this._resetElementAttributes(W0,Y0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(p,j,O){const W=this.getWidth();this._applyManipulationCallback(p,K=>{if(K!==this._element&&window.innerWidth>K.clientWidth+W)return;this._saveInitialAttribute(K,j);const ee=window.getComputedStyle(K).getPropertyValue(j);K.style.setProperty(j,`${O(Number.parseFloat(ee))}px`)})}_saveInitialAttribute(p,j){const O=p.style.getPropertyValue(j);O&&ae.setDataAttribute(p,j,O)}_resetElementAttributes(p,j){this._applyManipulationCallback(p,O=>{const W=ae.getDataAttribute(O,j);W!==null?(ae.removeDataAttribute(O,j),O.style.setProperty(j,W)):O.style.removeProperty(j)})}_applyManipulationCallback(p,j){if(l(p))j(p);else for(const O of G.find(p,this._element))j(O)}}const bn=".bs.modal",MR=`hide${bn}`,RR=`hidePrevented${bn}`,G0=`hidden${bn}`,K0=`show${bn}`,PR=`shown${bn}`,LR=`resize${bn}`,$R=`click.dismiss${bn}`,IR=`mousedown.dismiss${bn}`,BR=`keydown.dismiss${bn}`,zR=`click${bn}.data-api`,X0="modal-open",Q0="show",fg="modal-static",HR={backdrop:!0,focus:!0,keyboard:!0},FR={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class vr extends ne{constructor(p,j){super(p,j),this._dialog=G.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hg,this._addEventListeners()}static get Default(){return HR}static get DefaultType(){return FR}static get NAME(){return"modal"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||this._isTransitioning||P.trigger(this._element,K0,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(X0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(p)))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,MR).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Q0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){P.off(window,bn),P.off(this._dialog,bn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new F0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new V0({trapElement:this._element})}_showElement(p){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const j=G.findOne(".modal-body",this._dialog);j&&(j.scrollTop=0),m(this._element),this._element.classList.add(Q0),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,PR,{relatedTarget:p})},this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,BR,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),P.on(window,LR,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,IR,p=>{P.one(this._element,$R,j=>{this._element===p.target&&this._element===j.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(X0),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,G0)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,RR).defaultPrevented)return;const p=this._element.scrollHeight>document.documentElement.clientHeight,j=this._element.style.overflowY;j==="hidden"||this._element.classList.contains(fg)||(p||(this._element.style.overflowY="hidden"),this._element.classList.add(fg),this._queueCallback(()=>{this._element.classList.remove(fg),this._queueCallback(()=>{this._element.style.overflowY=j},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const p=this._element.scrollHeight>document.documentElement.clientHeight,j=this._scrollBar.getWidth(),O=j>0;if(O&&!p){const W=x()?"paddingLeft":"paddingRight";this._element.style[W]=`${j}px`}if(!O&&p){const W=x()?"paddingRight":"paddingLeft";this._element.style[W]=`${j}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(p,j){return this.each(function(){const O=vr.getOrCreateInstance(this,p);if(typeof p=="string"){if(O[p]===void 0)throw new TypeError(`No method named "${p}"`);O[p](j)}})}}P.on(document,zR,'[data-bs-toggle="modal"]',function(k){const p=G.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&k.preventDefault(),P.one(p,K0,O=>{O.defaultPrevented||P.one(p,G0,()=>{u(this)&&this.focus()})});const j=G.findOne(".modal.show");j&&vr.getInstance(j).hide(),vr.getOrCreateInstance(p).toggle(this)}),re(vr),y(vr);const Di=".bs.offcanvas",J0=".data-api",UR=`load${Di}${J0}`,Z0="show",ew="showing",tw="hiding",sw=".offcanvas.show",VR=`show${Di}`,qR=`shown${Di}`,WR=`hide${Di}`,nw=`hidePrevented${Di}`,iw=`hidden${Di}`,YR=`resize${Di}`,GR=`click${Di}${J0}`,KR=`keydown.dismiss${Di}`,XR={backdrop:!0,keyboard:!0,scroll:!1},QR={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Mi extends ne{constructor(p,j){super(p,j),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return XR}static get DefaultType(){return QR}static get NAME(){return"offcanvas"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||P.trigger(this._element,VR,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new hg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ew),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Z0),this._element.classList.remove(ew),P.trigger(this._element,qR,{relatedTarget:p})},this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,WR).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(tw),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Z0,tw),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new hg().reset(),P.trigger(this._element,iw)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const p=!!this._config.backdrop;return new F0({className:"offcanvas-backdrop",isVisible:p,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:p?()=>{this._config.backdrop!=="static"?this.hide():P.trigger(this._element,nw)}:null})}_initializeFocusTrap(){return new V0({trapElement:this._element})}_addEventListeners(){P.on(this._element,KR,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():P.trigger(this._element,nw))})}static jQueryInterface(p){return this.each(function(){const j=Mi.getOrCreateInstance(this,p);if(typeof p=="string"){if(j[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);j[p](this)}})}}P.on(document,GR,'[data-bs-toggle="offcanvas"]',function(k){const p=G.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),d(this))return;P.one(p,iw,()=>{u(this)&&this.focus()});const j=G.findOne(sw);j&&j!==p&&Mi.getInstance(j).hide(),Mi.getOrCreateInstance(p).toggle(this)}),P.on(window,UR,()=>{for(const k of G.find(sw))Mi.getOrCreateInstance(k).show()}),P.on(window,YR,()=>{for(const k of G.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(k).position!=="fixed"&&Mi.getOrCreateInstance(k).hide()}),re(Mi),y(Mi);const aw={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},JR=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ZR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,e2=(k,p)=>{const j=k.nodeName.toLowerCase();return p.includes(j)?!JR.has(j)||!!ZR.test(k.nodeValue):p.filter(O=>O instanceof RegExp).some(O=>O.test(j))},t2={allowList:aw,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},s2={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},n2={entry:"(string|element|function|null)",selector:"(string|element)"};class i2 extends F{constructor(p){super(),this._config=this._getConfig(p)}static get Default(){return t2}static get DefaultType(){return s2}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(p=>this._resolvePossibleFunction(p)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(p){return this._checkContent(p),this._config.content={...this._config.content,...p},this}toHtml(){const p=document.createElement("div");p.innerHTML=this._maybeSanitize(this._config.template);for(const[W,K]of Object.entries(this._config.content))this._setContent(p,K,W);const j=p.children[0],O=this._resolvePossibleFunction(this._config.extraClass);return O&&j.classList.add(...O.split(" ")),j}_typeCheckConfig(p){super._typeCheckConfig(p),this._checkContent(p.content)}_checkContent(p){for(const[j,O]of Object.entries(p))super._typeCheckConfig({selector:j,entry:O},n2)}_setContent(p,j,O){const W=G.findOne(O,p);W&&((j=this._resolvePossibleFunction(j))?l(j)?this._putElementInTemplate(c(j),W):this._config.html?W.innerHTML=this._maybeSanitize(j):W.textContent=j:W.remove())}_maybeSanitize(p){return this._config.sanitize?function(j,O,W){if(!j.length)return j;if(W&&typeof W=="function")return W(j);const K=new window.DOMParser().parseFromString(j,"text/html"),ee=[].concat(...K.body.querySelectorAll("*"));for(const ue of ee){const ve=ue.nodeName.toLowerCase();if(!Object.keys(O).includes(ve)){ue.remove();continue}const je=[].concat(...ue.attributes),Ne=[].concat(O["*"]||[],O[ve]||[]);for(const xe of je)e2(xe,Ne)||ue.removeAttribute(xe.nodeName)}return K.body.innerHTML}(p,this._config.allowList,this._config.sanitizeFn):p}_resolvePossibleFunction(p){return g(p,[void 0,this])}_putElementInTemplate(p,j){if(this._config.html)return j.innerHTML="",void j.append(p);j.textContent=p.textContent}}const a2=new Set(["sanitize","allowList","sanitizeFn"]),mg="fade",hh="show",r2=".tooltip-inner",rw=".modal",ow="hide.bs.modal",Oc="hover",pg="focus",o2={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},l2={allowList:aw,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},c2={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class _r extends ne{constructor(p,j){if(R0===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(p,j),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return l2}static get DefaultType(){return c2}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(rw),ow,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const p=P.trigger(this._element,this.constructor.eventName("show")),j=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(p.defaultPrevented||!j)return;this._disposePopper();const O=this._getTipElement();this._element.setAttribute("aria-describedby",O.getAttribute("id"));const{container:W}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(W.append(O),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(O),O.classList.add(hh),"ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))P.on(K,"mouseover",f);this._queueCallback(()=>{P.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(hh),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))P.off(p,"mouseover",f);this._activeTrigger.click=!1,this._activeTrigger[pg]=!1,this._activeTrigger[Oc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(p){const j=this._getTemplateFactory(p).toHtml();if(!j)return null;j.classList.remove(mg,hh),j.classList.add(`bs-${this.constructor.NAME}-auto`);const O=(W=>{do W+=Math.floor(1e6*Math.random());while(document.getElementById(W));return W})(this.constructor.NAME).toString();return j.setAttribute("id",O),this._isAnimated()&&j.classList.add(mg),j}setContent(p){this._newContent=p,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(p){return this._templateFactory?this._templateFactory.changeContent(p):this._templateFactory=new i2({...this._config,content:p,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[r2]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(p){return this.constructor.getOrCreateInstance(p.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(mg)}_isShown(){return this.tip&&this.tip.classList.contains(hh)}_createPopper(p){const j=g(this._config.placement,[this,p,this._element]),O=o2[j.toUpperCase()];return ug(this._element,p,this._getPopperConfig(O))}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(j=>Number.parseInt(j,10)):typeof p=="function"?j=>p(j,this._element):p}_resolvePossibleFunction(p){return g(p,[this._element,this._element])}_getPopperConfig(p){const j={placement:p,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:O=>{this._getTipElement().setAttribute("data-popper-placement",O.state.placement)}}]};return{...j,...g(this._config.popperConfig,[void 0,j])}}_setListeners(){const p=this._config.trigger.split(" ");for(const j of p)if(j==="click")P.on(this._element,this.constructor.eventName("click"),this._config.selector,O=>{this._initializeOnDelegatedTarget(O).toggle()});else if(j!=="manual"){const O=j===Oc?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),W=j===Oc?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");P.on(this._element,O,this._config.selector,K=>{const ee=this._initializeOnDelegatedTarget(K);ee._activeTrigger[K.type==="focusin"?pg:Oc]=!0,ee._enter()}),P.on(this._element,W,this._config.selector,K=>{const ee=this._initializeOnDelegatedTarget(K);ee._activeTrigger[K.type==="focusout"?pg:Oc]=ee._element.contains(K.relatedTarget),ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(rw),ow,this._hideModalHandler)}_fixTitle(){const p=this._element.getAttribute("title");p&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",p),this._element.setAttribute("data-bs-original-title",p),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(p,j){clearTimeout(this._timeout),this._timeout=setTimeout(p,j)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(p){const j=ae.getDataAttributes(this._element);for(const O of Object.keys(j))a2.has(O)&&delete j[O];return p={...j,...typeof p=="object"&&p?p:{}},p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p.container=p.container===!1?document.body:c(p.container),typeof p.delay=="number"&&(p.delay={show:p.delay,hide:p.delay}),typeof p.title=="number"&&(p.title=p.title.toString()),typeof p.content=="number"&&(p.content=p.content.toString()),p}_getDelegateConfig(){const p={};for(const[j,O]of Object.entries(this._config))this.constructor.Default[j]!==O&&(p[j]=O);return p.selector=!1,p.trigger="manual",p}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(p){return this.each(function(){const j=_r.getOrCreateInstance(this,p);if(typeof p=="string"){if(j[p]===void 0)throw new TypeError(`No method named "${p}"`);j[p]()}})}}y(_r);const u2=".popover-header",d2=".popover-body",h2={..._r.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},f2={..._r.DefaultType,content:"(null|string|element|function)"};class fh extends _r{static get Default(){return h2}static get DefaultType(){return f2}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[u2]:this._getTitle(),[d2]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(p){return this.each(function(){const j=fh.getOrCreateInstance(this,p);if(typeof p=="string"){if(j[p]===void 0)throw new TypeError(`No method named "${p}"`);j[p]()}})}}y(fh);const gg=".bs.scrollspy",m2=`activate${gg}`,lw=`click${gg}`,p2=`load${gg}.data-api`,$o="active",yg="[href]",cw=".nav-link",g2=`${cw}, .nav-item > ${cw}, .list-group-item`,y2={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},b2={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Dc extends ne{constructor(p,j){super(p,j),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return y2}static get DefaultType(){return b2}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const p of this._observableSections.values())this._observer.observe(p)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(p){return p.target=c(p.target)||document.body,p.rootMargin=p.offset?`${p.offset}px 0px -30%`:p.rootMargin,typeof p.threshold=="string"&&(p.threshold=p.threshold.split(",").map(j=>Number.parseFloat(j))),p}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,lw),P.on(this._config.target,lw,yg,p=>{const j=this._observableSections.get(p.target.hash);if(j){p.preventDefault();const O=this._rootElement||window,W=j.offsetTop-this._element.offsetTop;if(O.scrollTo)return void O.scrollTo({top:W,behavior:"smooth"});O.scrollTop=W}}))}_getNewObserver(){const p={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(j=>this._observerCallback(j),p)}_observerCallback(p){const j=ee=>this._targetLinks.get(`#${ee.target.id}`),O=ee=>{this._previousScrollData.visibleEntryTop=ee.target.offsetTop,this._process(j(ee))},W=(this._rootElement||document.documentElement).scrollTop,K=W>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=W;for(const ee of p){if(!ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(j(ee));continue}const ue=ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(K&&ue){if(O(ee),!W)return}else K||ue||O(ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const p=G.find(yg,this._config.target);for(const j of p){if(!j.hash||d(j))continue;const O=G.findOne(decodeURI(j.hash),this._element);u(O)&&(this._targetLinks.set(decodeURI(j.hash),j),this._observableSections.set(j.hash,O))}}_process(p){this._activeTarget!==p&&(this._clearActiveClass(this._config.target),this._activeTarget=p,p.classList.add($o),this._activateParents(p),P.trigger(this._element,m2,{relatedTarget:p}))}_activateParents(p){if(p.classList.contains("dropdown-item"))G.findOne(".dropdown-toggle",p.closest(".dropdown")).classList.add($o);else for(const j of G.parents(p,".nav, .list-group"))for(const O of G.prev(j,g2))O.classList.add($o)}_clearActiveClass(p){p.classList.remove($o);const j=G.find(`${yg}.${$o}`,p);for(const O of j)O.classList.remove($o)}static jQueryInterface(p){return this.each(function(){const j=Dc.getOrCreateInstance(this,p);if(typeof p=="string"){if(j[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);j[p]()}})}}P.on(window,p2,()=>{for(const k of G.find('[data-bs-spy="scroll"]'))Dc.getOrCreateInstance(k)}),y(Dc);const xr=".bs.tab",v2=`hide${xr}`,_2=`hidden${xr}`,x2=`show${xr}`,w2=`shown${xr}`,S2=`click${xr}`,j2=`keydown${xr}`,E2=`load${xr}`,N2="ArrowLeft",uw="ArrowRight",T2="ArrowUp",dw="ArrowDown",bg="Home",hw="End",wr="active",fw="fade",vg="show",mw=".dropdown-toggle",_g=`:not(${mw})`,pw='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',xg=`.nav-link${_g}, .list-group-item${_g}, [role="tab"]${_g}, ${pw}`,C2=`.${wr}[data-bs-toggle="tab"], .${wr}[data-bs-toggle="pill"], .${wr}[data-bs-toggle="list"]`;class Sr extends ne{constructor(p){super(p),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,j2,j=>this._keydown(j)))}static get NAME(){return"tab"}show(){const p=this._element;if(this._elemIsActive(p))return;const j=this._getActiveElem(),O=j?P.trigger(j,v2,{relatedTarget:p}):null;P.trigger(p,x2,{relatedTarget:j}).defaultPrevented||O&&O.defaultPrevented||(this._deactivate(j,p),this._activate(p,j))}_activate(p,j){p&&(p.classList.add(wr),this._activate(G.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.removeAttribute("tabindex"),p.setAttribute("aria-selected",!0),this._toggleDropDown(p,!0),P.trigger(p,w2,{relatedTarget:j})):p.classList.add(vg)},p,p.classList.contains(fw)))}_deactivate(p,j){p&&(p.classList.remove(wr),p.blur(),this._deactivate(G.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.setAttribute("aria-selected",!1),p.setAttribute("tabindex","-1"),this._toggleDropDown(p,!1),P.trigger(p,_2,{relatedTarget:j})):p.classList.remove(vg)},p,p.classList.contains(fw)))}_keydown(p){if(![N2,uw,T2,dw,bg,hw].includes(p.key))return;p.stopPropagation(),p.preventDefault();const j=this._getChildren().filter(W=>!d(W));let O;if([bg,hw].includes(p.key))O=j[p.key===bg?0:j.length-1];else{const W=[uw,dw].includes(p.key);O=w(j,p.target,W,!0)}O&&(O.focus({preventScroll:!0}),Sr.getOrCreateInstance(O).show())}_getChildren(){return G.find(xg,this._parent)}_getActiveElem(){return this._getChildren().find(p=>this._elemIsActive(p))||null}_setInitialAttributes(p,j){this._setAttributeIfNotExists(p,"role","tablist");for(const O of j)this._setInitialAttributesOnChild(O)}_setInitialAttributesOnChild(p){p=this._getInnerElement(p);const j=this._elemIsActive(p),O=this._getOuterElement(p);p.setAttribute("aria-selected",j),O!==p&&this._setAttributeIfNotExists(O,"role","presentation"),j||p.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(p,"role","tab"),this._setInitialAttributesOnTargetPanel(p)}_setInitialAttributesOnTargetPanel(p){const j=G.getElementFromSelector(p);j&&(this._setAttributeIfNotExists(j,"role","tabpanel"),p.id&&this._setAttributeIfNotExists(j,"aria-labelledby",`${p.id}`))}_toggleDropDown(p,j){const O=this._getOuterElement(p);if(!O.classList.contains("dropdown"))return;const W=(K,ee)=>{const ue=G.findOne(K,O);ue&&ue.classList.toggle(ee,j)};W(mw,wr),W(".dropdown-menu",vg),O.setAttribute("aria-expanded",j)}_setAttributeIfNotExists(p,j,O){p.hasAttribute(j)||p.setAttribute(j,O)}_elemIsActive(p){return p.classList.contains(wr)}_getInnerElement(p){return p.matches(xg)?p:G.findOne(xg,p)}_getOuterElement(p){return p.closest(".nav-item, .list-group-item")||p}static jQueryInterface(p){return this.each(function(){const j=Sr.getOrCreateInstance(this);if(typeof p=="string"){if(j[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);j[p]()}})}}P.on(document,S2,pw,function(k){["A","AREA"].includes(this.tagName)&&k.preventDefault(),d(this)||Sr.getOrCreateInstance(this).show()}),P.on(window,E2,()=>{for(const k of G.find(C2))Sr.getOrCreateInstance(k)}),y(Sr);const pa=".bs.toast",k2=`mouseover${pa}`,A2=`mouseout${pa}`,O2=`focusin${pa}`,D2=`focusout${pa}`,M2=`hide${pa}`,R2=`hidden${pa}`,P2=`show${pa}`,L2=`shown${pa}`,gw="hide",mh="show",ph="showing",$2={animation:"boolean",autohide:"boolean",delay:"number"},I2={animation:!0,autohide:!0,delay:5e3};class Mc extends ne{constructor(p,j){super(p,j),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return I2}static get DefaultType(){return $2}static get NAME(){return"toast"}show(){P.trigger(this._element,P2).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(gw),m(this._element),this._element.classList.add(mh,ph),this._queueCallback(()=>{this._element.classList.remove(ph),P.trigger(this._element,L2),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,M2).defaultPrevented||(this._element.classList.add(ph),this._queueCallback(()=>{this._element.classList.add(gw),this._element.classList.remove(ph,mh),P.trigger(this._element,R2)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(mh),super.dispose()}isShown(){return this._element.classList.contains(mh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(p,j){switch(p.type){case"mouseover":case"mouseout":this._hasMouseInteraction=j;break;case"focusin":case"focusout":this._hasKeyboardInteraction=j}if(j)return void this._clearTimeout();const O=p.relatedTarget;this._element===O||this._element.contains(O)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,k2,p=>this._onInteraction(p,!0)),P.on(this._element,A2,p=>this._onInteraction(p,!1)),P.on(this._element,O2,p=>this._onInteraction(p,!0)),P.on(this._element,D2,p=>this._onInteraction(p,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(p){return this.each(function(){const j=Mc.getOrCreateInstance(this,p);if(typeof p=="string"){if(j[p]===void 0)throw new TypeError(`No method named "${p}"`);j[p](this)}})}}return re(Mc),y(Mc),{Alert:Ee,Button:Le,Carousel:No,Collapse:Co,Dropdown:Hn,Modal:vr,Offcanvas:Mi,Popover:fh,ScrollSpy:Dc,Tab:Sr,Toast:Mc,Tooltip:_r}})})(nz);const iz=({openLoginPopup:t})=>{const{user:e,logout:s,isAdmin:n,isStaff:i}=S.useContext(ms),[a,r]=S.useState(!0),[l,c]=S.useState(0),[u,d]=S.useState(!0),[h,f]=S.useState(window.innerWidth<=991),[m,v]=S.useState(!1),_=S.useCallback(()=>{const w=window.scrollY;d(w===0),w>l&&w>50?r(!1):r(!0),c(w)},[l]),x=S.useCallback(()=>{f(window.innerWidth<=991)},[]),y=()=>{v(w=>{const E=document.getElementById("navbarNav"),C=!w;return C?E.classList.add("show"):E.classList.remove("show"),C})};S.useEffect(()=>{const w=()=>{requestAnimationFrame(_)};return window.addEventListener("scroll",w),window.addEventListener("resize",x),()=>{window.removeEventListener("scroll",w),window.removeEventListener("resize",x)}},[_,x]);const g=()=>{const w=document.querySelector(".banner");w&&(w.style.display="block"),s()},b=()=>{window.scroll({top:0,behavior:"smooth"})};return document.addEventListener("DOMContentLoaded",function(){var w=document.getElementById("userDropdown");w.addEventListener("click")}),e&&e.provider,o.jsx("nav",{className:`navbar navbar-expand-lg sticky-top ${a?"visible":"hidden"} ${u&&!m?"navbar-transparent":"navbar-colored"}`,style:{transition:"top 0.3s",top:a?"0":"-80px"},children:o.jsxs("div",{className:"container container-navbar",children:[o.jsxs(st,{className:"navbar-brand d-flex align-items-center gap-2",to:"/",onClick:b,children:[o.jsx("img",{src:"/images/logo/moonbaylogo.png",alt:"Logo",width:"60",height:"60",className:"d-inline-block align-middle rounded-circle"}),o.jsx("span",{className:"align-middle text-white",children:"Moon Bay"})]}),o.jsx("button",{className:"navbar-toggler",type:"button","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":m,"aria-label":"Toggle navigation",onClick:y,children:o.jsx("span",{className:"navbar-toggler-icon"})}),o.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:o.jsxs("ul",{className:"navbar-nav ms-auto",children:[o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/",className:"nav-link",onClick:b,children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/About",className:"nav-link",onClick:b,children:"About Us"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/Ourhotels",className:"nav-link",onClick:b,children:"Our Hotel"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/Rooms",className:"nav-link",onClick:b,children:"Rooms"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/booking",className:"nav-link",onClick:b,children:"Booking"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/Services",className:"nav-link",onClick:b,children:"Services"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/Contact",className:"nav-link",onClick:b,children:"Contact Us"})}),h?o.jsxs(o.Fragment,{children:[o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/review",className:"nav-link",onClick:b,children:"Review"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/complaint",className:"nav-link",onClick:b,children:"Complaint"})})]}):o.jsxs("li",{className:"nav-item dropdown",children:[o.jsx("a",{className:"nav-link dropdown-toggle",href:"#",id:"feedbackDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Feedback"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"feedbackDropdown",children:[o.jsx("li",{children:o.jsx(st,{className:"dropdown-item",to:"/review",onClick:b,children:"Review"})}),o.jsx("li",{children:o.jsx(st,{className:"dropdown-item",to:"/complaint",onClick:b,children:"Complaint"})})]})]}),e&&n()&&o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/admin",className:"nav-link",onClick:b,children:"Admin Dashboard"})}),e&&i()&&o.jsx("li",{className:"nav-item",children:o.jsx(st,{to:"/staff",className:"nav-link",onClick:b,children:"Staff Dashboard"})}),e?o.jsxs("li",{className:"nav-item dropdown",children:[o.jsxs("a",{className:"nav-link dropdown-toggle d-flex align-items-center",href:"#",id:"userDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:()=>document.getElementById("userDropdownMenu").classList.toggle("show"),children:[o.jsx("img",{src:e.avatar||"/images/Dat/avatar/default.png",alt:"Avatar",width:"40",height:"40",className:"rounded-circle me-1",onError:w=>w.target.src="/images/Dat/avatar/default.png"}),o.jsx("span",{className:"user-name text-white",children:e.name})]}),o.jsxs("ul",{id:"userDropdownMenu",className:"dropdown-menu dropdown-menu-account","aria-labelledby":"userDropdown",children:[o.jsx("li",{children:o.jsx(st,{className:"dropdown-item",to:"/account",children:"Account"})}),o.jsx("li",{children:o.jsx(st,{to:"/",className:"dropdown-item",onClick:g,children:"Logout"})})]})]}):o.jsx("li",{className:"nav-item",children:o.jsx("button",{className:"nav-link btn btn-outline-light ms-2",onClick:t,children:"Login / Register"})})]})})]})})},az=window.location.origin;oe.defaults.baseURL=az;const _j=()=>{const[t,e]=S.useState([]);return S.useEffect(()=>{oe.get("/api/special-offers").then(s=>{const n=s.data.filter(i=>i.season||i.free_services||i.total_bill_threshold||i.stay_duration_days||i.other_package_description);e(n)}).catch(s=>{console.error("Error while getting offer:",s)})},[]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"page-header section-dark",style:{backgroundImage:"url('/images/demo.jpg')"},children:[o.jsx("div",{className:"filter"}),o.jsx("div",{className:"content-center",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"title-brand",children:[o.jsx("p",{style:{fontSize:"2.5vw"},children:o.jsx("b",{children:"Away from monotonous life"})}),o.jsx("p",{className:"presentation-title",children:"Relax Your Mind"}),o.jsx("div",{className:"fog-low",children:o.jsx("img",{src:"/images/fog-low.png",alt:""})}),o.jsx("div",{className:"fog-low right",children:o.jsx("img",{src:"/images/fog-low.png",alt:""})})]}),o.jsx("div",{style:{marginTop:"1%"},className:"custom-container",children:o.jsx("div",{className:"cta-wrapper",align:"center",style:{color:"white"},children:o.jsx(st,{to:"/booking#booknow",smooth:"true",duration:500,style:{textDecoration:"none",color:"white"},children:o.jsxs("button",{className:"cta",children:[o.jsx("span",{children:"Book Now"}),o.jsxs("svg",{width:"15px",height:"10px",viewBox:"0 0 13 10",children:[o.jsx("path",{d:"M1,5 L11,5"}),o.jsx("polyline",{points:"8 1 12 5 8 9"})]})]})})})})]})}),o.jsx("div",{className:"moving-clouds",style:{backgroundImage:"url('/images/clouds.png')"}})]}),o.jsx("div",{children:o.jsx("section",{className:"accomodation-area py-5",children:o.jsxs("div",{children:[o.jsxs("div",{className:"section-title text-center mb-5",children:[o.jsx("h2",{className:"text",children:"Attractive offers"}),o.jsx("p",{children:"Great deals when you choose us as your vacation destination for you or your family."})]}),o.jsx("div",{className:"row offer_Hung",style:{padding:"0 5%",justifyContent:"center","--bs-gutter-x":0},children:t.map((s,n)=>o.jsxs(we.Fragment,{children:[s.season&&s.free_services&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%",marginRight:"2%"},children:o.jsx("div",{className:"chiecla1_hung",style:{backgroundImage:`url('/images/Hung/${s.season.toLowerCase()}.jpg')`,backgroundSize:"cover",width:"100%",height:"200px"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"rgba(0, 0, 0, 0.25)",color:"white",height:"100%",paddingTop:"2%",textAlign:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Season"})}),o.jsx("b",{children:s.season})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Service"})}),o.jsx("b",{children:s.free_services})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),": ",o.jsx("br",{})," ",new Date(s.season_start).toLocaleDateString("vi-VN")," - ",new Date(s.season_end).toLocaleDateString("vi-VN")]})]})})}),s.total_bill_threshold&&s.discount_percent&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%",marginRight:"2%"},children:o.jsx("div",{style:{width:"100%",height:"200px",textAlign:"center"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"#1f97c9",color:"white",height:"100%",paddingTop:"2%"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Total Bill"})}),o.jsxs("b",{children:[Math.floor(s.total_bill_threshold).toLocaleString("vi-VN")," VND"]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Discount"})}),o.jsxs("b",{children:[s.discount_percent,"%"]})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),o.jsx("br",{})," ",new Date(s.discount_start).toLocaleDateString("vi-VN")," - ",new Date(s.discount_end).toLocaleDateString("vi-VN")]})]})})}),s.stay_duration_days&&s.gift_description&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%",marginRight:"2%"},children:o.jsx("div",{style:{width:"100%",height:"200px",textAlign:"center"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"#1f97c9",color:"white",height:"100%",paddingTop:"2%"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Total days"})}),o.jsxs("b",{children:[s.stay_duration_days," day"]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Souvenir"})}),o.jsx("b",{children:s.gift_description})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),": ",o.jsx("br",{}),new Date(s.gift_start).toLocaleDateString("vi-VN")," - ",new Date(s.gift_end).toLocaleDateString("vi-VN")]})]})})}),s.other_package_description&&s.offer_type&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%"},children:o.jsx("div",{className:"chiecla1_hung",style:{backgroundImage:"url('/images/Hung/Uudaikhac.jpg')",backgroundSize:"cover",width:"100%",height:"200px"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"rgba(0, 0, 0, 0.25)",color:"white",height:"100%",paddingTop:"2%",textAlign:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Condition"})}),o.jsx("b",{children:s.other_package_description})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Endow"})}),o.jsx("b",{children:s.offer_type})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),": ",o.jsx("br",{})," ",new Date(s.other_offer_start).toLocaleDateString("vi-VN")," - ",new Date(s.other_offer_end).toLocaleDateString("vi-VN")]})]})})})]},n))})]})})}),o.jsx("hr",{className:"container"}),o.jsx("div",{children:o.jsx("section",{className:"latest_blog_area section_gap py-5",children:o.jsxs("div",{children:[o.jsxs("div",{className:"section_title text-center mb-4",children:[o.jsx("h2",{className:"title_color",children:"Latest customer reviews"}),o.jsx("p",{children:"Great and interesting experiences that customers have shared with us."})]}),o.jsx("div",{className:"row justify-content-center g-0 hung",children:rz.map((s,n)=>o.jsx("div",{className:"col-lg-3 col-md-6 mb-4",children:o.jsxs("div",{className:"single-recent-blog-post card h-100",children:[o.jsx("div",{className:"thumb",children:o.jsx("img",{className:"img-fluid card-img-top",src:s.image,alt:"post"})}),o.jsxs("div",{className:"details card-body",children:[o.jsx("div",{className:"tags mb-2",children:s.tags.map((i,a)=>o.jsx("a",{href:"#",className:"btn btn-sm tag-btn-custom me-1",children:i},a))}),o.jsx("div",{className:"abc",children:o.jsx("a",{href:"#",children:o.jsx("h4",{className:"sec_h4 card-title",children:s.title})})}),o.jsx("p",{className:"card-text",children:s.description}),o.jsx("h6",{className:"date title_color mt-3",children:s.date})]})]})},n))})]})})})]})},rz=[{image:"/images/Hung/blog-1.jpg",tags:["Travel","Life Style"],title:"Low Cost Advertising",description:"Acres of Diamondsâ€¦ youâ€™ve read the famous story, or at least had it related to you. A farmer.",date:"31st January, 2018"},{image:"/images/Hung/blog-2.jpg",tags:["Travel","Life Style"],title:"Creative Outdoor Ads",description:"Self-doubt and fear interfere with our ability to achieve or set goals. Self-doubt and fear are",date:"31st January, 2018"},{image:"/images/Hung/blog-3.jpg",tags:["Travel","Life Style"],title:"It S Classified How To Utilize Free",description:"Why do you want to motivate yourself? Actually, just answering that question fully can",date:"31st January, 2018"}];/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),xj=t=>{const e=lz(t);return e.charAt(0).toUpperCase()+e.slice(1)},NA=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),cz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:r,...l},c)=>S.createElement("svg",{ref:c,...uz,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:NA("lucide",i),...!a&&!cz(l)&&{"aria-hidden":"true"},...l},[...r.map(([u,d])=>S.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=(t,e)=>{const s=S.forwardRef(({className:n,...i},a)=>S.createElement(dz,{ref:a,iconNode:e,className:NA(`lucide-${oz(xj(t))}`,`lucide-${t}`,n),...i}));return s.displayName=xj(t),s};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Lh=gn("arrow-down",hz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],$h=gn("arrow-up",fz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pz=gn("chevron-right",mz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yz=gn("dollar-sign",gz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TA=gn("info",bz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_z=gn("loader-circle",vz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CA=gn("plus",xz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wm=gn("save",wz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jz=gn("search",Sz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rx=gn("square-pen",Ez);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ox=gn("trash-2",Nz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Cz=gn("users",Tz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sm=gn("x",kz),tr=({items:t})=>o.jsx("nav",{className:"breadcrumb-modern","aria-label":"Breadcrumb",children:o.jsx("ol",{children:t.map((e,s)=>o.jsxs("li",{children:[e.link?o.jsx(st,{to:e.link,children:e.label}):o.jsx("span",{"aria-current":"page",children:e.label}),s<t.length-1&&o.jsx(pz,{className:"breadcrumb-separator",size:16})]},s))})}),wj=["/images/Hung/manager.jpg","/images/Hung/staff_2.jpg","/images/Hung/staff2.jpg","/images/Hung/staff3.jpg","/images/Hung/staff4.jpg","/images/Hung/staff5.jpg"],Az=()=>{const[t,e]=S.useState(0);S.useEffect(()=>{const n=setInterval(()=>{e(i=>i===wj.length-1?0:i+1)},4e3);return()=>clearInterval(n)},[]);const s=[{label:"Home",link:"/"},{label:"AboutUs"}];return we.useEffect(()=>{const n=window.location.hash;if(n){const i=document.querySelector(n);i&&i.scrollIntoView({behavior:"smooth"})}},[]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"banner",children:[o.jsx("img",{src:"/images/banner/about_banner.jpg",alt:"Banner",className:"banner-img"}),o.jsx("div",{className:"banner-text anima-text",children:o.jsx("h1",{children:"The Story Behind Moon Bay"})})]}),o.jsx("div",{children:o.jsxs("div",{className:"container ",children:[o.jsx(tr,{items:s}),o.jsxs("div",{className:"row align-items-center my-5",children:[o.jsxs("div",{className:"col-md-6 mb-4 mb-md-0",children:[o.jsx("h2",{className:"mb-3",children:"About Moonbay Hotel"}),o.jsx("p",{children:"With over 20 years of experience in the hospitality industry, Moonbay Hotel is proud to be a trusted destination for both domestic and international travelers. Our reputation is built on professionalism, dedication, and attentive service. From our well-appointed rooms to our friendly and caring staff, we strive to deliver a comfortable and satisfying experience for every guest. At Moonbay, youâ€™ll find not only a perfect place to stay but also the warm care that makes you feel right at home."})]}),o.jsx("div",{className:"col-md-5 text-center",children:o.jsx("img",{src:"/images/Hung/photo1.jpg",alt:"Moon Bay Hotel",className:"img-fluid rounded shadow"})})]})]})}),o.jsx("div",{className:"container",children:o.jsx("hr",{})}),o.jsx("div",{children:o.jsx("div",{className:"container ",children:o.jsxs("div",{className:"row align-items-center my-5",children:[o.jsx("div",{className:"col-md-5 text-center",children:o.jsx("img",{src:"/images/Hung/OurMission.jpg",alt:"Moon Bay Hotel",className:"img-fluid rounded shadow"})}),o.jsxs("div",{className:"col-md-6 mb-4 mb-md-0",style:{textAlign:"right"},children:[o.jsx("h2",{className:"mb-3",children:"Our Mission"}),o.jsx("p",{children:"At Moonbay Hotel, our mission is to provide every guest with an exceptional stay experience built on 20 years of hospitality expertise. We are committed to delivering professional, thoughtful, and personalized service in every detailâ€”ensuring comfort, satisfaction, and lasting memories for all who walk through our doors."})]})]})})}),o.jsx("div",{className:"container",children:o.jsx("hr",{})}),o.jsx("div",{children:o.jsx("div",{className:"container ",children:o.jsxs("div",{className:"row align-items-center my-5",children:[o.jsxs("div",{className:"col-md-6 mb-4 mb-md-0",children:[o.jsx("h2",{className:"mb-3",children:"Vision"}),o.jsx("p",{children:"To become a leading hotel in the region, recognized for our excellence in service, warm hospitality, and enduring commitment to guest satisfaction. Moonbay Hotel aspires to be not just a place to stay, but a memorable destination where comfort meets care, and every visit feels like coming home."})]}),o.jsx("div",{className:"col-md-5 text-center",children:o.jsx("img",{src:"/images/Hung/Vision.jpg",alt:"Moon Bay Hotel",className:"img-fluid rounded shadow"})})]})})}),o.jsx("div",{className:"container",children:o.jsx("hr",{})}),o.jsx("div",{children:o.jsx("div",{className:"container ",children:o.jsxs("div",{className:"row align-items-center my-5",children:[o.jsx("div",{className:"col-md-5 text-center",children:o.jsx("img",{src:"/images/Hung/CoreValues.jpg",alt:"Moon Bay Hotel",className:"img-fluid rounded shadow"})}),o.jsxs("div",{className:"col-md-6 mb-4 mb-md-0",children:[o.jsx("h2",{className:"mb-3",children:"Core Values"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Professionalism:"})," We uphold the highest standards in every aspect of our service, ensuring consistency, efficiency, and excellence."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Dedication:"})," We serve with heart and commitment, always putting the needs and satisfaction of our guests first."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Attentiveness:"})," We focus on the details that matter, providing thoughtful, personalized care to create meaningful experiences."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Integrity:"})," We act with honesty, transparency, and respect in all of our relationshipsâ€”with guests, colleagues, and partners."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Continuous Improvement:"})," We embrace innovation and learning, constantly seeking to improve and elevate our services."]})]})]})]})})}),o.jsx("div",{className:"container",children:o.jsx("hr",{})}),o.jsxs("div",{style:{padding:"2% 0"},children:[o.jsxs("div",{align:"center",children:[o.jsx("h1",{children:"Moonbay hotel staff"}),o.jsx("br",{})]}),o.jsx("div",{id:"carouselExampleControls",className:"carousel slide container carousel_Hung","data-bs-ride":"carousel",children:o.jsx("div",{className:"carousel-inner",children:wj.map((n,i)=>o.jsx("div",{className:`carousel-item ${i===t?"active":""}`,children:o.jsx("img",{className:"d-block w-100 carousel-img",src:n,alt:`Slide ${i+1}`})},i))})})]}),o.jsxs("div",{style:{padding:"2% 0",backgroundColor:"#fff8e0"},className:"container",children:[o.jsxs("div",{align:"center",children:[o.jsx("h1",{children:"Service style"}),o.jsx("br",{})]}),o.jsxs("div",{className:"container row",children:[o.jsxs("div",{className:"col-md-4",children:[o.jsxs("div",{children:["ðŸ¤ ",o.jsx("b",{children:"Serving with Heart"})," ",o.jsx("br",{}),"Every guest is treated with genuine warmth and heartfelt hospitality."]}),o.jsxs("div",{children:["ðŸŒ¿ ",o.jsx("b",{children:"Respect for Privacy"})," ",o.jsx("br",{}),"Your peace and personal space are always our priority."]}),o.jsx("br",{})]}),o.jsx("div",{className:"col-md-4",style:{padding:"0 0 2% 0"},children:o.jsx("img",{src:"/images/Hung/service_hung.jpg",alt:"",style:{objectFit:"cover",width:"100%",height:"100%"}})}),o.jsxs("div",{className:"col-md-4",children:[o.jsxs("div",{children:["ðŸ•Šï¸ ",o.jsx("b",{children:"Elegance in Every Detail"})," ",o.jsx("br",{}),"We perfect the small things, so you can enjoy the big moments."]}),o.jsxs("div",{children:["ðŸ’¬ ",o.jsx("b",{children:"Always Ready to Listen"})," ",o.jsx("br",{}),"24/7 support with empathy and care for your every need."]})]})]})]}),o.jsxs("div",{style:{padding:"2% 0"},children:[o.jsx("div",{align:"center",style:{padding:"2% 0"},children:o.jsx("h1",{children:"Commitment to customers & community"})}),o.jsxs("div",{className:"container row",children:[o.jsx("div",{className:"col-md-6",children:o.jsx("img",{src:"/images/Hung/community_hung.jpg",alt:"",style:{objectFit:"cover",width:"100%",height:"100%"}})}),o.jsxs("div",{className:"ServiceStyle_Hung1 col-md-6",children:[o.jsxs("div",{children:["ðŸ¨ ",o.jsx("b",{children:"Unforgettable Experiences"})," ",o.jsx("br",{}),"We are dedicated to creating memorable and personalized stays for every guest."]}),o.jsxs("div",{children:["ðŸŒ ",o.jsx("b",{children:"Sustainable Practices"})," ",o.jsx("br",{}),"We embrace eco-friendly solutions to protect our environment and local culture."]}),o.jsxs("div",{children:["â¤ï¸ ",o.jsx("b",{children:"Community Engagement"})," ",o.jsx("br",{}),"We perfect the small things, so you can enjoy the big moments."]}),o.jsxs("div",{children:["ðŸ“ˆ ",o.jsx("b",{children:"Continuous Improvement"})," ",o.jsx("br",{}),"We listen, adapt, and evolve â€” always aiming to exceed your expectations."]})]})]})]}),o.jsx("hr",{}),o.jsxs("div",{style:{padding:"3% 0"},className:"group2_Hung",id:"The_Brogrammers",children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("h2",{children:'Group 2 with the theme "MoonBay hotels" includes the following members:'}),o.jsx("br",{})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-3",style:{textAlign:"center",padding:"0 2%"},children:[o.jsx("img",{src:"/images/Hung/Hung.jpg",alt:"",style:{padding:"0 0 4% 0"}}),o.jsx("p",{children:o.jsx("b",{children:"Full name: Do Thanh Hung"})}),o.jsx("p",{children:o.jsx("b",{children:"Position: Project Lead"})}),o.jsx("p",{children:o.jsx("b",{children:"Slogan: Dare to dream big, commit to learning!"})})]}),o.jsxs("div",{className:"col-md-3",style:{textAlign:"center",padding:"0 2%"},children:[o.jsx("img",{src:"/images/Hung/Huy.jpg",alt:"",style:{padding:"0 0 4% 0"}}),o.jsx("p",{children:o.jsx("b",{children:"Full name: Phu Vinh Huy"})}),o.jsx("p",{children:o.jsx("b",{children:"Position: Fullstack Developer"})}),o.jsx("p",{children:o.jsx("b",{children:"Slogan: Make it work, make it right, make it fast."})})]}),o.jsxs("div",{className:"col-md-3",style:{textAlign:"center",padding:"0 2%"},children:[o.jsx("img",{src:"/images/Hung/Dat.png",alt:"",style:{padding:"0 0 4% 0"}}),o.jsx("p",{children:o.jsx("b",{children:"Full name: Le Quoc Dat"})}),o.jsx("p",{children:o.jsx("b",{children:"Position: Developer/Tester"})}),o.jsx("p",{children:o.jsx("b",{children:"Slogan: Program anything you want."})})]}),o.jsxs("div",{className:"col-md-3",style:{textAlign:"center",padding:"0 2%"},children:[o.jsx("img",{src:"/images/Hung/Long.jpg",alt:"",style:{padding:"0 0 4% 0"}}),o.jsx("p",{children:o.jsx("b",{children:"Full name: Ngo Truong Long"})}),o.jsx("p",{children:o.jsx("b",{children:"Position: Developer/Tester"})}),o.jsx("p",{children:o.jsx("b",{children:"Slogan: Bugs are friends, not enemiesâ€” debug today to succeed tomorrow."})})]})]})]})]})},sr=({title:t="Welcome to Moon Bay hotel"})=>o.jsxs("div",{className:"banner",children:[o.jsx("img",{src:"/images/banner/about_banner.jpg",alt:"Banner",className:"banner-img"}),o.jsx("div",{className:"banner-text anima-text",children:o.jsx("h1",{children:t})})]}),Oz=({images:t,interval:e=3500})=>{const[s,n]=S.useState(0);return S.useEffect(()=>{const i=setInterval(()=>{n(a=>(a+1)%t.length)},e);return()=>clearInterval(i)},[t.length,e]),o.jsx("div",{className:"activity-slider-huy",children:o.jsx("img",{src:t[s],alt:`Slide ${s+1}`,className:"activity-slider-image-huy"})})},Dz=()=>{const[t,e]=S.useState(!0),[s,n]=S.useState(!1),[i,a]=S.useState(0),[r,l]=S.useState(0),[c,u]=S.useState(0),d=[{label:"Home",link:"/"},{label:"Our Hotel"}],h={name:"Moon Bay Hotel",location:"Nam Du Island, Kien Giang Province, Vietnam",description:"Located on the pristine Nam Du Island, Moon Bay Hotel offers a luxurious escape with modern architecture blending seamlessly with the island's natural beauty. Moon Bay Hotel is the perfect destination for luxury and tranquility. With 120 elegant rooms and villas, a restaurant serving local and international cuisine, a world-class spa, and an infinity pool overlooking the ocean, Moon Bay Hotel promises an unforgettable experience.",images:["/images/Huy/hotel_huy/main.jpg","/images/Huy/hotel_huy/room.jpg","/images/Huy/hotel_huy/pool.jpg","/images/Huy/hotel_huy/restaurant.jpg","/images/Huy/hotel_huy/spa.jpg","/images/Huy/hotel_huy/beach.jpg"],mainImage:"/images/Huy/hotel_huy/main.jpg",price:"400,000 VND",amenities:[{name:"Air Conditioning",icon:"â„ï¸"},{name:"Elevator",icon:"ðŸ›—"},{name:"Fine Dining Restaurant",icon:"ðŸ´"},{name:"Free Wifi",icon:"ðŸ“¶"},{name:"Infinity Pool",icon:"ðŸŠ"},{name:"Modern Gym",icon:"ðŸ‹ï¸"},{name:"Parking Car",icon:"ðŸ…¿ï¸"},{name:"Smart TV",icon:"ðŸ“º"},{name:"Tea & Cafe",icon:"â˜•"}],activities:[{name:"Island Hopping",description:"Discover nearby islands like Hon Hai Bo Dap, Hon Mau, Hon Dau...",icon:"ðŸï¸"},{name:"Snorkeling",description:"Explore colorful coral reefs and marine life.",icon:"ðŸ¤¿"},{name:"Sea Fishing",description:"Join locals for a fun ocean fishing trip.",icon:"ðŸŽ£"},{name:"Enjoy Local Delicacies",description:"Taste traditional â€œChao Nhumâ€ (sea urchin porridge).",icon:"ðŸ²"}],priceTour:"400,000 VND/person (min 10 people/boat) or 4,000,000 VND/private boat.",imagesTour:["/images/Huy/hotel_huy/haibodap.png","/images/Huy/hotel_huy/honmau.jpg","/images/Huy/hotel_huy/driving.jpg"]};S.useEffect(()=>{(async()=>{try{const g=await oe.get("/api/reviews",{params:{page:1}}),b=g.data.reviews.data,w=g.data.reviews.total||0;if(b&&b.length>0){const C=(b.reduce((T,N)=>T+parseInt(N.rating),0)/b.length).toFixed(1);l(parseFloat(C))}else l(0);u(w)}catch(g){console.error("Lá»—i khi táº£i Ä‘Ã¡nh giÃ¡:",g),l(0),u(0)}})();const y=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(y)},[]);const f=x=>{a(x),n(!0)},m=()=>a(x=>(x+1)%h.images.length),v=()=>a(x=>(x-1+h.images.length)%h.images.length),_=x=>{const y=[],g=Math.floor(x),b=x-g;for(let w=0;w<g;w++)y.push(o.jsx("span",{style:{color:"#FFD700"},children:"â˜…"},w));for(b>=.3&&b<=.7?y.push(o.jsx("span",{style:{color:"#FFD700"},children:"âœ¯"},"half")):b>.7&&y.push(o.jsx("span",{style:{color:"#FFD700"},children:"â˜…"},"full"));y.length<5;)y.push(o.jsx("span",{style:{color:"#888"},children:"â˜…"},y.length));return y};return t?o.jsxs(o.Fragment,{children:[o.jsx(sr,{title:h.name}),o.jsxs("div",{className:"container-huy",children:[o.jsx(tr,{items:d}),o.jsx("div",{className:"text-center my-5",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Äang táº£i..."})})})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(sr,{title:h.name}),o.jsx("section",{className:"hotel-section-huy",children:o.jsxs("div",{className:"container-huy",children:[o.jsx(tr,{items:d}),o.jsxs("div",{className:"overview-section-huy",children:[o.jsx("h2",{className:"h2-huy",children:h.name}),o.jsx("div",{className:"hero-content-huy",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-lg-8",children:[o.jsxs("div",{className:"main-image-container-huy",children:[o.jsx("img",{src:h.mainImage,alt:h.name,className:"main-hotel-image-huy",onClick:()=>f(0)}),o.jsx("div",{className:"image-overlay-huy",children:o.jsx("button",{className:"view-all-btn-huy",onClick:()=>f(0),children:"View All Photos"})})]}),o.jsx("div",{className:"image-grid-huy",children:h.images.slice(1,6).map((x,y)=>o.jsx("div",{className:"grid-image-container-huy",children:o.jsx("img",{src:x,alt:`${h.name} - ${y+1}`,className:"grid-image-huy",onClick:()=>f(y+1)})},y))})]}),o.jsx("div",{className:"col-lg-4",children:o.jsxs("div",{className:"hotel-info-card-huy",children:[o.jsx("h1",{className:"hotel-name-huy",children:h.name}),o.jsxs("div",{className:"hotel-location-huy",children:["ðŸ“ ",h.location]}),o.jsxs("div",{className:"hotel-rating-huy",children:[o.jsx("div",{className:"stars-huy",children:_(r)}),o.jsx("span",{className:"rating-number-huy",children:r}),o.jsxs("span",{className:"reviews-count-huy",children:["(",c," reviews)"]})]}),o.jsx("div",{className:"hotel-description-huy",children:o.jsx("p",{children:h.description})}),o.jsxs("div",{className:"hotel-price-huy",children:[o.jsx("span",{className:"price-label-huy",children:"Starting from"}),o.jsx("span",{className:"price-value-huy",children:h.price}),o.jsx("span",{className:"price-unit-huy",children:"/ night"})]}),o.jsx(st,{to:"/booking#booknow",className:"btn btn-primary",children:"Book Now"})]})})]})})]}),o.jsxs("div",{className:"amenities-section-huy",children:[o.jsx("h2",{className:"h2-huy",children:"Amenities"}),o.jsx("div",{className:"amenities-grid-huy",children:h.amenities.map((x,y)=>o.jsxs("div",{className:"amenity-card-huy",children:[o.jsx("div",{className:"amenity-icon-huy",children:x.icon}),o.jsx("div",{className:"amenity-name-huy",children:x.name})]},y))})]}),o.jsxs("div",{className:"activities-section-huy",children:[o.jsx("h2",{className:"h2-huy",children:"Activities & Tours"}),o.jsxs("div",{className:"activities-intro-huy",children:[o.jsx("h5",{children:"Explore Nam Du with Our Exclusive Tour Activities"}),o.jsx("p",{children:"Experience the best of Nam Du Island with our curated selection of local tours and activities. Whether you're seeking adventure, culture, or relaxation, our guided experiences promise unforgettable memories amidst breathtaking island scenery."})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("ul",{className:"activities-list-huy",children:h.activities.map((x,y)=>o.jsxs("li",{className:"activity-item-huy",children:[o.jsx("span",{className:"activity-icon-huy",children:x.icon}),o.jsxs("div",{className:"activity-text-huy",children:[o.jsxs("strong",{children:[x.name,":"]})," ",x.description]})]},y))}),o.jsxs("div",{className:"tour-price-huy",children:[o.jsx("strong",{children:"Tour Price:"})," ",h.priceTour]}),o.jsx("p",{children:"ðŸ‘‰ Please contact the front desk to register for tours and activities."})]}),o.jsx("div",{className:"col-md-6",children:o.jsx("div",{className:"activity-image-huy",children:o.jsx(Oz,{images:h.imagesTour})})})]})]})]})}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"gallery-overlay-huy",onClick:()=>n(!1)}),o.jsxs("div",{className:"gallery-modal-huy",children:[o.jsx("button",{className:"gallery-close-btn-huy",onClick:()=>n(!1),children:"X"}),o.jsxs("div",{className:"gallery-content-huy",children:[o.jsx("img",{src:h.images[i],alt:`ThÆ° viá»‡n áº£nh ${i+1}`,className:"gallery-main-image-huy"}),o.jsxs("div",{className:"gallery-navigation-huy",children:[o.jsx("button",{className:"gallery-nav-btn-huy prev-huy",onClick:v,children:"<"}),o.jsxs("div",{className:"gallery-indicator-huy",children:[i+1," / ",h.images.length]}),o.jsx("button",{className:"gallery-nav-btn-huy next-huy",onClick:m,children:">"})]})]})]})]})]})},Mz=t=>{typeof t!="number"&&(t=Number(t));const e=t<1e4?t*1e3:t;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e)},Rz=({checkLogins:t})=>{const[e,s]=S.useState([]),[n,i]=S.useState(!0),a=S.useRef({}),r=[{label:"Home",link:"/"},{label:"Rooms"}];S.useEffect(()=>{oe.get("/api/room_types").then(c=>s(c.data)).catch(c=>console.error("Error fetching room_types:",c)).finally(()=>i(!1))},[]);const l=c=>{const u=a.current[c];u&&u.scrollIntoView({behavior:"smooth",block:"start"})};return o.jsxs(o.Fragment,{children:[o.jsx(sr,{title:"Rooms & Suites"}),o.jsxs("section",{className:"container",children:[o.jsx(tr,{items:r}),o.jsx("div",{className:"room-nav-horizontal mb-5",children:n?o.jsx("span",{children:"Loading..."}):e.map(c=>o.jsx("button",{className:"nav-item",onClick:()=>l(c.id),children:o.jsx("b",{children:c.name})},c.id))}),o.jsx("h2",{className:"text-center mb-5",children:"Rooms"}),o.jsx("div",{className:"room-list",children:n?o.jsx("div",{className:"text-center my-5",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):e.map((c,u)=>o.jsxs("div",{ref:d=>a.current[c.id]=d,className:`room-item d-flex align-items-center mb-5 ${u%2===0?"":"flex-row-reverse"}`,children:[o.jsx("div",{className:"room-image",children:o.jsx("img",{src:c.image?c.image.startsWith("http")?c.image:`/storage/room_types_huy/${c.image}`:"/images/default-room.png",alt:c.name,onError:d=>{d.target.onerror=null,d.target.src="/images/default-room.png"}})}),o.jsxs("div",{className:"room-info p-4",children:[o.jsxs("h5",{className:"mb-3",children:[c.name," ROOM"]}),o.jsxs("p",{className:"text-muted mb-3",children:[o.jsx("i",{className:"bi bi-people-fill me-1"})," ",c.capacity," guests"]}),o.jsxs("p",{className:"text-muted mb-3",children:[o.jsx("i",{className:"bi bi-cash-coin me-1 text-success"}),o.jsx("strong",{children:Mz(c.price)})," / night"]}),o.jsx("p",{children:c.description}),o.jsx("button",{onClick:()=>t(c.name),className:"btn btn-primary mt-3 rounded hover:bg-blue-700 transition",children:"Book Now"})]})]},c.id))})]}),o.jsx("style",{children:`
          .room-nav-horizontal {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
          }
          .room-nav-horizontal .nav-item {
            background: none;
            border: none;
            font-size: 1rem;
            color: #333;
            cursor: pointer;
            padding: 5px 10px;
            transition: color 0.3s ease;
          }
          .room-nav-horizontal .nav-item:hover {
            color: #007bff;
          }
          .room-list {
            max-width: 1000px;
            margin: 0 auto;
          }
          .room-item {
            transition: transform 0.3s ease, border-color 0.3s ease;
            border: 2px solid transparent;
          }
          .room-item:hover {
            transform: translateY(-5px);
            border: 2px solid #FFD700;
          }
          .room-image {
            flex: 0 0 50%;
            padding: 10px;
          }
          .room-image img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 10px;
          }
          .room-info {
            flex: 0 0 50%;
            padding: 20px;
          }
          .room-info h5 {
            font-size: 1.75rem;
            font-weight: bold;
            color: #333;
            text-transform: uppercase;
          }
          .room-info p {
            color: #666;
            font-size: 1rem;
            line-height: 1.6;
          }
          .room-info .text-muted {
            font-size: 0.9rem;
            color: #888;
          }
          @media (max-width: 768px) {
            .room-item {
              flex-direction: column !important;
            }
            .room-image,
            .room-info {
              flex: 0 0 100%;
            }
            .room-image img {
              height: 250px;
            }
          }
        `})]})},Pz=()=>{const t=[{label:"Home",link:"/"},{label:"Contact us"}],[e,s]=S.useState({name:"",email:"",subject:"",message:""}),[n,i]=S.useState(!1),[a,r]=S.useState(!1),[l,c]=S.useState(""),[u,d]=S.useState(!1),[h,f]=S.useState(""),m=y=>{const{name:g,value:b}=y.target;s(w=>({...w,[g]:b}))},v=y=>/^\S+@\S+\.\S+$/.test(y),_=()=>!e.name.trim()||!e.email.trim()||!e.subject.trim()||!e.message.trim()?(f("All fields are required."),!1):v(e.email)?(f(""),!0):(f("Please enter a valid email address."),!1),x=async y=>{var g;if(y.preventDefault(),r(!1),i(!1),!!_()){d(!0);try{const b=(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"),w={"Content-Type":"application/json",Accept:"application/json"};b&&(w["X-CSRF-TOKEN"]=b);const E=await oe.post("/api/contact",e,{headers:w,timeout:1e4});E.data.success?(i(!0),s({name:"",email:"",subject:"",message:""})):(r(!0),c(E.data.message||"Failed to send message. Please try again."))}catch(b){r(!0),b.code==="ECONNABORTED"?c("Request timed out. Please try again later."):b.response&&b.response.data&&b.response.data.message?c(b.response.data.message):c("An error occurred while sending your message. Please try again later.")}finally{d(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"banner",children:[o.jsx("img",{src:"./images/banner/about_banner.jpg",alt:"Banner",className:"banner-img"}),o.jsx("div",{className:"banner-text anima-text",children:o.jsx("h1",{children:"Contact Us"})})]}),o.jsxs("div",{className:"container mb-5",children:[o.jsx(tr,{items:t}),o.jsxs("div",{className:"contact-container",children:[o.jsxs("div",{className:"contact-header",children:[o.jsx("h2",{children:"We are always ready to listen to you"}),o.jsx("p",{children:"Please contact us if you have any questions or requests"})]}),o.jsxs("div",{className:"contact-content",children:[o.jsxs("div",{className:"contact-info-section",children:[o.jsxs("div",{className:"contact-info-card",children:[o.jsx("div",{className:"info-icon",children:o.jsx("i",{className:"fas fa-map-marker-alt"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("h3",{children:"Address"}),o.jsx("p",{children:"Nam Du Island, Kien Giang Province, Vietnam"})]})]}),o.jsxs("div",{className:"contact-info-card",children:[o.jsx("div",{className:"info-icon",children:o.jsx("i",{className:"fas fa-phone-alt"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("h3",{children:"Phone"}),o.jsx("p",{children:"+84 (0) 986 555 666"}),o.jsx("p",{className:"info-note",children:"24 hours a day, 7 days a week"})]})]}),o.jsxs("div",{className:"contact-info-card",children:[o.jsx("div",{className:"info-icon",children:o.jsx("i",{className:"fas fa-envelope"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("h3",{children:"Email"}),o.jsx("p",{children:"info@moonbay.vn"}),o.jsx("p",{className:"info-note",children:"Response within 24 hours"})]})]})]}),o.jsx("div",{className:"contact-form-section",children:n?o.jsxs("div",{className:"success-message",children:[o.jsx("div",{className:"success-icon",children:o.jsx("i",{className:"fas fa-check-circle"})}),o.jsx("h3",{children:"Thank you for contacting us!"}),o.jsx("p",{children:"We will respond as soon as possible."})]}):o.jsxs("form",{className:"contact-form",onSubmit:x,children:[h&&o.jsxs("div",{className:"error-message",children:[o.jsx("i",{className:"fas fa-exclamation-circle"}),o.jsx("p",{children:h})]}),a&&o.jsxs("div",{className:"error-message",children:[o.jsx("i",{className:"fas fa-exclamation-circle"}),o.jsx("p",{children:l})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Enter your name",required:!0,value:e.name,onChange:m})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email address",required:!0,value:e.email,onChange:m})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"subject",children:"Subject"}),o.jsx("input",{type:"text",id:"subject",name:"subject",placeholder:"Enter the subject of your message",required:!0,value:e.subject,onChange:m})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"message",children:"Message"}),o.jsx("textarea",{id:"message",name:"message",rows:"5",placeholder:"Enter the content of your message",required:!0,value:e.message,onChange:m})]}),o.jsx("button",{type:"submit",className:"contact-submit-button",disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Sending..."}),o.jsx("span",{className:"spinner-border spinner-border-sm ms-2",role:"status","aria-hidden":"true"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Send Message"}),o.jsx("i",{className:"fas fa-paper-plane"})]})})]})})]}),o.jsxs("div",{className:"location-row",children:[o.jsxs("div",{className:"location-column map-section",children:[o.jsx("h2",{children:"Our Location"}),o.jsx("div",{style:{position:"relative",overflow:"hidden",height:"400px"},children:o.jsx("iframe",{src:"https://www.google.com/maps/d/embed?mid=1FTMogPpDF4RFkkE6-idbOgnK0l6Xq5Y&ehbc=2E312F",width:"100%",height:"480px",style:{position:"absolute",top:-70,left:0,border:0},allowFullScreen:!0,loading:"lazy",title:"Moon Bay Hotel Map"})})]}),o.jsxs("div",{className:"location-column nearby-attractions",children:[o.jsx("h2",{children:"Nearby Attractions"}),o.jsxs("div",{className:"attractions-list",children:[o.jsxs("div",{className:"attraction-item",children:[o.jsx("i",{className:"fas fa-umbrella-beach"}),o.jsxs("div",{className:"attraction-info",children:[o.jsx("h4",{children:"Bai Cay Men Beach"}),o.jsx("p",{children:"0.5 km - 5 minutes walk"})]})]}),o.jsxs("div",{className:"attraction-item",children:[o.jsx("i",{className:"fas fa-lighthouse"}),o.jsxs("div",{className:"attraction-info",children:[o.jsx("h4",{children:"Nam Du Lighthouse"}),o.jsx("p",{children:"2 km - 10 minutes by motobike"})]})]}),o.jsxs("div",{className:"attraction-item",children:[o.jsx("i",{className:"fas fa-mountain"}),o.jsxs("div",{className:"attraction-info",children:[o.jsx("h4",{children:"Hon Mau Island"}),o.jsx("p",{children:"3 km - 15 minutes by boat"})]})]}),o.jsxs("div",{className:"attraction-item",children:[o.jsx("i",{className:"fas fa-city"}),o.jsxs("div",{className:"attraction-info",children:[o.jsx("h4",{children:"Rach Gia City"}),o.jsx("p",{children:"80 km - 2 hours by ferry"})]})]})]})]})]})]})]})]})},Lz=({service:t,onClose:e})=>o.jsx("div",{className:"service-popup-overlay",onClick:e,children:o.jsxs("div",{className:"service-popup-content",onClick:s=>s.stopPropagation(),children:[o.jsxs("div",{className:"service-popup-header",children:[o.jsx("h2",{children:t.title}),o.jsx("span",{className:`badge ms-3 ${t.status==="active"?"bg-success":"bg-secondary"}`,children:t.status==="active"?"Active":"Inactive"}),o.jsx("button",{className:"close-btn",onClick:e,children:"Ã—"})]}),o.jsxs("div",{className:"service-popup-body",children:[o.jsx("div",{className:"service-popup-image",children:o.jsx("img",{src:t.image,alt:t.title})}),o.jsxs("div",{className:"service-popup-description",children:[o.jsx("p",{children:t.description}),t.detailedDescription&&o.jsxs("div",{className:"service-details-extra",children:[o.jsx("h3",{children:"Details of the Service"}),o.jsx("p",{children:t.detailedDescription})]}),t.pricing&&o.jsxs("div",{className:"service-pricing",children:[o.jsx("h3",{children:"Pricing"}),o.jsx("ul",{children:t.pricing.map((s,n)=>o.jsxs("li",{children:[s.type,": ",s.value]},n))})]}),t.workingHours&&o.jsxs("div",{className:"service-hours",children:[o.jsx("h3",{children:"Working Hours"}),o.jsx("p",{children:t.workingHours})]})]})]})]})}),$z=()=>{const[t,e]=S.useState(null),[s,n]=S.useState([]),[i,a]=S.useState(!0),[r,l]=S.useState(null),c=S.useRef({});S.useEffect(()=>{fetch("/api/services").then(m=>{if(!m.ok)throw new Error("Failed to fetch services");return m.json()}).then(m=>{const v=m.map(_=>({..._,detailedDescription:_.detailed_description,workingHours:_.working_hours,pricing:_.pricing||[]}));n(v),a(!1)}).catch(m=>{l(m.message),a(!1)})},[]);const u=m=>{e(m)},d=()=>{e(null)},h=m=>{const v=c.current[m];v&&v.scrollIntoView({behavior:"smooth",block:"start"})},f=[{label:"Home",link:"/"},{label:"Services"}];return o.jsxs(o.Fragment,{children:[o.jsx(sr,{title:"Our Services"}),o.jsxs("section",{className:"container",children:[o.jsx(tr,{items:f}),i?o.jsx("div",{className:"text-center my-5",children:"Loading services..."}):r?o.jsx("div",{className:"text-danger text-center my-5",children:r}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"service-nav-horizontal mb-5",children:s.map((m,v)=>o.jsx("button",{className:"nav-item",onClick:()=>h(v),children:o.jsx("b",{children:m.title})},v))}),o.jsx("h2",{className:"text-center mb-5",children:"Services"}),o.jsx("div",{className:"service-list",children:s.map((m,v)=>o.jsxs("div",{ref:_=>c.current[v]=_,className:`service-item d-flex align-items-center mb-5 ${v%2===0?"":"flex-row-reverse"}`,children:[o.jsx("div",{className:"service-image",children:o.jsx("img",{src:m.image,alt:m.title})}),o.jsxs("div",{className:"service-info p-4",children:[o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsx("h5",{className:"mb-0 me-3",children:m.title}),o.jsx("span",{className:`badge ${m.status==="active"?"bg-success":"bg-secondary"}`,children:m.status==="active"?"Active":"Inactive"})]}),o.jsxs("p",{className:"text-muted mb-3",children:[o.jsx("i",{className:"fas fa-clock me-1"})," ",m.workingHours]}),o.jsx("p",{children:m.description}),o.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>u(m),disabled:m.status!=="active",children:"View Details"})]})]},v))})]})]}),t&&o.jsx(Lz,{service:t,onClose:d})]})},Iz=()=>{const t=()=>{window.scroll({top:0,behavior:"smooth"})},[e,s]=S.useState(""),[n,i]=S.useState(""),[a,r]=S.useState(""),l=async c=>{c.preventDefault(),i(""),r("");try{const u=await oe.post("http://localhost:8000/api/follow-email",{email:e});i(u.data.message),s("")}catch(u){u.response&&u.response.data?r(u.response.data.message):r("CÃ³ lá»—i xáº£y ra.")}};return o.jsx(o.Fragment,{children:o.jsxs("div",{style:{backgroundColor:"#04091e",color:"#6c6c6e",padding:"2% 0 0 0"},children:[o.jsxs("div",{className:"row",style:{padding:"0 10%","--bs-gutter-x":0},children:[o.jsxs("div",{className:"col-md-6 row",children:[o.jsx("div",{className:"col-md-2",style:{padding:"1% 0 0 0"},children:o.jsx("img",{src:"/images/logo/moonbaylogo.png",width:"80vw",height:"80vw",className:"d-inline-block align-middle rounded-circle"})}),o.jsxs("div",{className:"col-md-10",children:[o.jsx("div",{className:"moonbay_footer_Hung",children:o.jsx("b",{children:"MOONBAY HOTELS"})}),"Operation: ",o.jsx("i",{children:"Monday to Sunday"}),o.jsx("br",{}),"Working hours: ",o.jsx("i",{children:"24/7"}),o.jsx("br",{})," ",o.jsx("br",{})]})]}),o.jsx("div",{className:"col-md-6",children:o.jsx("br",{})}),o.jsx("hr",{style:{height:"1px",border:"0",backgroundColor:"white"}})]}),o.jsxs("div",{className:"footer-setup",children:[o.jsxs("div",{className:"Contact_Hung",children:[o.jsx("div",{style:{padding:"5%"},children:o.jsx("a",{href:"tel:+84328866459",children:o.jsx("img",{src:"/images/Hung/hotline.jpg",alt:"",style:{height:"8vh",width:"8vh"}})})}),o.jsx("div",{style:{padding:"5%"},children:o.jsxs("a",{href:"https://www.facebook.com/messages/t/686987754487740?locale=vi_VN",target:"_blank",children:[" ",o.jsx("img",{src:"/images/Hung/mess.png",alt:""})]})}),o.jsx("div",{style:{padding:"5%"},children:o.jsx("a",{href:"https://zalo.me/0328866459",target:"_blank",children:o.jsx("img",{src:"/images/Hung/zalo.png",alt:""})})}),o.jsx("div",{style:{padding:"5%"},children:o.jsx("a",{href:"https://youtube.com/@moonbayhotels?si=M7G5aIfnOg0kOMDV",target:"_blank",children:o.jsx("img",{src:"/images/Hung/youtube.jpg",alt:""})})})]}),o.jsxs("div",{className:"row",style:{padding:"0 10%"},children:[o.jsxs("div",{className:"col-md-3 Our_information_Hung",children:[o.jsx("h3",{style:{color:"white"},children:"Our information"}),o.jsx("br",{}),o.jsx("b",{children:" Address:"})," ",o.jsx("a",{href:"https://www.google.com/maps/d/embed?mid=1FTMogPpDF4RFkkE6-idbOgnK0l6Xq5Y&ehbc=2E312F",target:"blank",children:"Nam Du Island, Kien Giang Province, Vietnam. "}),o.jsx("br",{}),o.jsx("b",{children:"Phone:"})," ",o.jsx("a",{href:"tel:+84328866459",children:"+84 (0) 986 555 666"}),o.jsx("br",{}),o.jsx("b",{children:"Email:"})," ",o.jsx("a",{href:"mailto:info@moonbay.vn?subject=I%20need%20help&body=I%20need%20help%20with...",children:"Info@moonbay.vn"}),o.jsx("br",{}),o.jsx("br",{})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsxs("div",{align:"left",children:[o.jsx("h3",{style:{color:"white"},children:"Navigation Links"}),o.jsx("br",{})]}),o.jsxs("div",{className:"row Link-setup",children:[o.jsx("div",{className:"col-md-5 ",children:o.jsxs("ul",{children:[o.jsx("li",{className:"nav-item ",children:o.jsx(st,{className:`nav-link text-#6c6c6e ${location.pathname==="/"?"active":""}`,to:"/",onClick:t,children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{className:`nav-link text-#6c6c6e ${location.pathname==="/About"?"active":""}`,to:"/About",onClick:t,children:"About Us"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{className:`nav-link text-#6c6c6e ${location.pathname==="/Ourhotels"?"active":""}`,to:"/Ourhotels",onClick:t,children:"Our Hotel"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{className:"nav-link text-#6c6c6e",to:"/Rooms",onClick:t,children:"Rooms"})})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("ul",{children:[o.jsx("li",{className:"nav-item",children:o.jsx(st,{className:"nav-link text-#6c6c6e",to:"/Booking",onClick:t,children:"Booking"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{className:"nav-link text-#6c6c6e",to:"/Services",onClick:t,children:"Services"})}),o.jsx("li",{className:"nav-item",children:o.jsx(st,{className:"nav-link text-#6c6c6e",to:"/Contact",onClick:t,children:"Contact Us"})})]})})]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsxs("div",{align:"left",children:[o.jsx("h3",{style:{color:"white"},children:"Newsletter"}),o.jsx("br",{}),"For travel companies or customers interested in our information and services."]}),o.jsx("div",{style:{padding:"4% 0 0 0"},children:o.jsxs("form",{onSubmit:l,children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-9",children:o.jsx("input",{type:"email",placeholder:"Your Email",value:e,onChange:c=>s(c.target.value),required:!0})}),o.jsx("div",{className:"col-md-3",style:{padding:"3% 0 0 0"},children:o.jsx("button",{className:"btn button_send-hung",type:"submit",children:"Send"})})]}),n&&o.jsx("div",{style:{color:"green",marginTop:"10px"},children:n}),a&&o.jsx("div",{style:{color:"red",marginTop:"10px"},children:a})]})})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsxs("div",{align:"left",children:[o.jsx("h3",{style:{color:"white"},children:"About Agency"}),o.jsx("br",{})]}),o.jsxs("div",{children:["Moonbay Hotel is committed to delivering a refined, comfortable, and nature-inspired stay, where every moment is complete and unforgettable. ",o.jsx("br",{}),o.jsx("br",{})]})]}),o.jsx("hr",{}),o.jsxs("p",{children:["Copyright Â©2025 All rights reserved | This website is made with ",o.jsx("span",{role:"img","aria-label":"crown",children:"ðŸ‘‘"})," by ",o.jsxs("strong",{style:{color:"white"},children:["Â ",o.jsx(st,{to:"/About#The_Brogrammers",smooth:"true",duration:500,style:{textDecoration:"none",color:"white"},children:"The Brogrammers"})]})]})]})]})]})})},Bz=()=>{const t=()=>{window.scroll({top:0,behavior:"smooth"})};return o.jsx(o.Fragment,{children:o.jsx("div",{className:"back_top_Hung",children:o.jsxs("button",{onClick:t,className:"back_top_btn_Hung",children:[o.jsx("svg",{height:"1.2em",className:"Arrow_Hung",viewBox:"0 0 512 512",children:o.jsx("path",{d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"})}),o.jsx("br",{}),o.jsx("p",{className:"Text_Hung",children:"Back to Top"})]})})})};function Sj(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function lx(t,e){t===void 0&&(t={}),e===void 0&&(e={});const s=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>s.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Sj(e[n])&&Sj(t[n])&&Object.keys(e[n]).length>0&&lx(t[n],e[n])})}const kA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function wi(){const t=typeof document<"u"?document:{};return lx(t,kA),t}const zz={document:kA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Rs(){const t=typeof window<"u"?window:{};return lx(t,zz),t}function Hz(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Fz(t){const e=t;Object.keys(e).forEach(s=>{try{e[s]=null}catch{}try{delete e[s]}catch{}})}function uv(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function jm(){return Date.now()}function Uz(t){const e=Rs();let s;return e.getComputedStyle&&(s=e.getComputedStyle(t,null)),!s&&t.currentStyle&&(s=t.currentStyle),s||(s=t.style),s}function Vz(t,e){e===void 0&&(e="x");const s=Rs();let n,i,a;const r=Uz(t);return s.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),a=new s.WebKitCSSMatrix(i==="none"?"":i)):(a=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),e==="x"&&(s.WebKitCSSMatrix?i=a.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(s.WebKitCSSMatrix?i=a.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function Ih(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function qz(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function en(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const n=s<0||arguments.length<=s?void 0:arguments[s];if(n!=null&&!qz(n)){const i=Object.keys(Object(n)).filter(a=>e.indexOf(a)<0);for(let a=0,r=i.length;a<r;a+=1){const l=i[a],c=Object.getOwnPropertyDescriptor(n,l);c!==void 0&&c.enumerable&&(Ih(t[l])&&Ih(n[l])?n[l].__swiper__?t[l]=n[l]:en(t[l],n[l]):!Ih(t[l])&&Ih(n[l])?(t[l]={},n[l].__swiper__?t[l]=n[l]:en(t[l],n[l])):t[l]=n[l])}}}return t}function Bh(t,e,s){t.style.setProperty(e,s)}function AA(t){let{swiper:e,targetPosition:s,side:n}=t;const i=Rs(),a=-e.translate;let r=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=s>a?"next":"prev",d=(f,m)=>u==="next"&&f>=m||u==="prev"&&f<=m,h=()=>{l=new Date().getTime(),r===null&&(r=l);const f=Math.max(Math.min((l-r)/c,1),0),m=.5-Math.cos(f*Math.PI)/2;let v=a+m*(s-a);if(d(v,s)&&(v=s),e.wrapperEl.scrollTo({[n]:v}),d(v,s)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:v})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function yi(t,e){e===void 0&&(e="");const s=Rs(),n=[...t.children];return s.HTMLSlotElement&&t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function Wz(t,e){const s=[e];for(;s.length>0;){const n=s.shift();if(t===n)return!0;s.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function Yz(t,e){const s=Rs();let n=e.contains(t);return!n&&s.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=Wz(t,e))),n}function Em(t){try{console.warn(t);return}catch{}}function Nm(t,e){e===void 0&&(e=[]);const s=document.createElement(t);return s.classList.add(...Array.isArray(e)?e:Hz(e)),s}function Gz(t,e){const s=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&s.push(n):s.push(n),t=n}return s}function Kz(t,e){const s=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&s.push(n):s.push(n),t=n}return s}function za(t,e){return Rs().getComputedStyle(t,null).getPropertyValue(e)}function Tm(t){let e=t,s;if(e){for(s=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(s+=1);return s}}function OA(t,e){const s=[];let n=t.parentElement;for(;n;)e?n.matches(e)&&s.push(n):s.push(n),n=n.parentElement;return s}function dv(t,e,s){const n=Rs();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function $i(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let dy;function Xz(){const t=Rs(),e=wi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function DA(){return dy||(dy=Xz()),dy}let hy;function Qz(t){let{userAgent:e}=t===void 0?{}:t;const s=DA(),n=Rs(),i=n.navigator.platform,a=e||n.navigator.userAgent,r={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,u=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad).*OS\s([\d_]+)/);const h=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let v=i==="MacIntel";const _=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&v&&s.touch&&_.indexOf(`${l}x${c}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),v=!1),u&&!m&&(r.os="android",r.android=!0),(d||f||h)&&(r.os="ios",r.ios=!0),r}function MA(t){return t===void 0&&(t={}),hy||(hy=Qz(t)),hy}let fy;function Jz(){const t=Rs(),e=MA();let s=!1;function n(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(n()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));s=c<16||c===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=n(),r=a||i&&e.ios;return{isSafari:s||a,needPerspectiveFix:s,need3dFix:r,isWebView:i}}function RA(){return fy||(fy=Jz()),fy}function Zz(t){let{swiper:e,on:s,emit:n}=t;const i=Rs();let a=null,r=null;const l=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(h=>{r=i.requestAnimationFrame(()=>{const{width:f,height:m}=e;let v=f,_=m;h.forEach(x=>{let{contentBoxSize:y,contentRect:g,target:b}=x;b&&b!==e.el||(v=g?g.width:(y[0]||y).inlineSize,_=g?g.height:(y[0]||y).blockSize)}),(v!==f||_!==m)&&l()})}),a.observe(e.el))},u=()=>{r&&i.cancelAnimationFrame(r),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},d=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};s("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",d)}),s("destroy",()=>{u(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",d)})}function e4(t){let{swiper:e,extendParams:s,on:n,emit:i}=t;const a=[],r=Rs(),l=function(d,h){h===void 0&&(h={});const f=r.MutationObserver||r.WebkitMutationObserver,m=new f(v=>{if(e.__preventObserver__)return;if(v.length===1){i("observerUpdate",v[0]);return}const _=function(){i("observerUpdate",v[0])};r.requestAnimationFrame?r.requestAnimationFrame(_):r.setTimeout(_,0)});m.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),a.push(m)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=OA(e.hostEl);for(let h=0;h<d.length;h+=1)l(d[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{a.forEach(d=>{d.disconnect()}),a.splice(0,a.length)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",u)}var t4={on(t,e,s){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=s?"unshift":"push";return t.split(" ").forEach(a=>{n.eventsListeners[a]||(n.eventsListeners[a]=[]),n.eventsListeners[a][i](e)}),n},once(t,e,s){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];e.apply(n,r)}return i.__emitterProxy=e,n.on(t,i,s)},onAny(t,e){const s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;const n=e?"unshift":"push";return s.eventsAnyListeners.indexOf(t)<0&&s.eventsAnyListeners[n](t),s},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const s=e.eventsAnyListeners.indexOf(t);return s>=0&&e.eventsAnyListeners.splice(s,1),e},off(t,e){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?s.eventsListeners[n]=[]:s.eventsListeners[n]&&s.eventsListeners[n].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&s.eventsListeners[n].splice(a,1)})}),s},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,s,n;for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],s=a.slice(1,a.length),n=t):(e=a[0].events,s=a[0].data,n=a[0].context||t),s.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(n,[c,...s])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(u=>{u.apply(n,s)})}),t}};function s4(){const t=this;let e,s;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?s=t.params.height:s=n.clientHeight,!(e===0&&t.isHorizontal()||s===0&&t.isVertical())&&(e=e-parseInt(za(n,"padding-left")||0,10)-parseInt(za(n,"padding-right")||0,10),s=s-parseInt(za(n,"padding-top")||0,10)-parseInt(za(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(s)&&(s=0),Object.assign(t,{width:e,height:s,size:t.isHorizontal()?e:s}))}function n4(){const t=this;function e(L,D){return parseFloat(L.getPropertyValue(t.getDirectionLabel(D))||0)}const s=t.params,{wrapperEl:n,slidesEl:i,size:a,rtlTranslate:r,wrongRTL:l}=t,c=t.virtual&&s.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=yi(i,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:d.length;let f=[];const m=[],v=[];let _=s.slidesOffsetBefore;typeof _=="function"&&(_=s.slidesOffsetBefore.call(t));let x=s.slidesOffsetAfter;typeof x=="function"&&(x=s.slidesOffsetAfter.call(t));const y=t.snapGrid.length,g=t.slidesGrid.length;let b=s.spaceBetween,w=-_,E=0,C=0;if(typeof a>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*a:typeof b=="string"&&(b=parseFloat(b)),t.virtualSize=-b,d.forEach(L=>{r?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(Bh(n,"--swiper-centered-offset-before",""),Bh(n,"--swiper-centered-offset-after",""));const T=s.grid&&s.grid.rows>1&&t.grid;T?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let N;const A=s.slidesPerView==="auto"&&s.breakpoints&&Object.keys(s.breakpoints).filter(L=>typeof s.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<h;L+=1){N=0;let D;if(d[L]&&(D=d[L]),T&&t.grid.updateSlide(L,D,d),!(d[L]&&za(D,"display")==="none")){if(s.slidesPerView==="auto"){A&&(d[L].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(D),q=D.style.transform,B=D.style.webkitTransform;if(q&&(D.style.transform="none"),B&&(D.style.webkitTransform="none"),s.roundLengths)N=t.isHorizontal()?dv(D,"width"):dv(D,"height");else{const z=e(I,"width"),M=e(I,"padding-left"),H=e(I,"padding-right"),R=e(I,"margin-left"),V=e(I,"margin-right"),P=I.getPropertyValue("box-sizing");if(P&&P==="border-box")N=z+R+V;else{const{clientWidth:se,offsetWidth:de}=D;N=z+M+H+R+V+(de-se)}}q&&(D.style.transform=q),B&&(D.style.webkitTransform=B),s.roundLengths&&(N=Math.floor(N))}else N=(a-(s.slidesPerView-1)*b)/s.slidesPerView,s.roundLengths&&(N=Math.floor(N)),d[L]&&(d[L].style[t.getDirectionLabel("width")]=`${N}px`);d[L]&&(d[L].swiperSlideSize=N),v.push(N),s.centeredSlides?(w=w+N/2+E/2+b,E===0&&L!==0&&(w=w-a/2-b),L===0&&(w=w-a/2-b),Math.abs(w)<1/1e3&&(w=0),s.roundLengths&&(w=Math.floor(w)),C%s.slidesPerGroup===0&&f.push(w),m.push(w)):(s.roundLengths&&(w=Math.floor(w)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup===0&&f.push(w),m.push(w),w=w+N+b),t.virtualSize+=N+b,E=N,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+x,r&&l&&(s.effect==="slide"||s.effect==="coverflow")&&(n.style.width=`${t.virtualSize+b}px`),s.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+b}px`),T&&t.grid.updateWrapperSize(N,f),!s.centeredSlides){const L=[];for(let D=0;D<f.length;D+=1){let I=f[D];s.roundLengths&&(I=Math.floor(I)),f[D]<=t.virtualSize-a&&L.push(I)}f=L,Math.floor(t.virtualSize-a)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-a)}if(c&&s.loop){const L=v[0]+b;if(s.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/s.slidesPerGroup),I=L*s.slidesPerGroup;for(let q=0;q<D;q+=1)f.push(f[f.length-1]+I)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)s.slidesPerGroup===1&&f.push(f[f.length-1]+L),m.push(m[m.length-1]+L),t.virtualSize+=L}if(f.length===0&&(f=[0]),b!==0){const L=t.isHorizontal()&&r?"marginLeft":t.getDirectionLabel("marginRight");d.filter((D,I)=>!s.cssMode||s.loop?!0:I!==d.length-1).forEach(D=>{D.style[L]=`${b}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let L=0;v.forEach(I=>{L+=I+(b||0)}),L-=b;const D=L>a?L-a:0;f=f.map(I=>I<=0?-_:I>D?D+x:I)}if(s.centerInsufficientSlides){let L=0;v.forEach(I=>{L+=I+(b||0)}),L-=b;const D=(s.slidesOffsetBefore||0)+(s.slidesOffsetAfter||0);if(L+D<a){const I=(a-L-D)/2;f.forEach((q,B)=>{f[B]=q-I}),m.forEach((q,B)=>{m[B]=q+I})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:m,slidesSizesGrid:v}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){Bh(n,"--swiper-centered-offset-before",`${-f[0]}px`),Bh(n,"--swiper-centered-offset-after",`${t.size/2-v[v.length-1]/2}px`);const L=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+L),t.slidesGrid=t.slidesGrid.map(I=>I+D)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==g&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!s.cssMode&&(s.effect==="slide"||s.effect==="fade")){const L=`${s.containerModifierClass}backface-hidden`,D=t.el.classList.contains(L);h<=s.maxBackfaceHiddenSlides?D||t.el.classList.add(L):D&&t.el.classList.remove(L)}}function i4(t){const e=this,s=[],n=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const r=l=>n?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{s.push(l)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const l=e.activeIndex+a;if(l>e.slides.length&&!n)break;s.push(r(l))}else s.push(r(e.activeIndex));for(a=0;a<s.length;a+=1)if(typeof s[a]<"u"){const l=s[a].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function a4(){const t=this,e=t.slides,s=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-s-t.cssOverflowAdjustment()}const jj=(t,e,s)=>{e&&!t.classList.contains(s)?t.classList.add(s):!e&&t.classList.contains(s)&&t.classList.remove(s)};function r4(t){t===void 0&&(t=this&&this.translate||0);const e=this,s=e.params,{slides:n,rtlTranslate:i,snapGrid:a}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let r=-t;i&&(r=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=s.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<n.length;c+=1){const u=n[c];let d=u.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(d-=n[0].swiperSlideOffset);const h=(r+(s.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),f=(r-a[0]+(s.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),m=-(r-d),v=m+e.slidesSizesGrid[c],_=m>=0&&m<=e.size-e.slidesSizesGrid[c],x=m>=0&&m<e.size-1||v>1&&v<=e.size||m<=0&&v>=e.size;x&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c)),jj(u,x,s.slideVisibleClass),jj(u,_,s.slideFullyVisibleClass),u.progress=i?-h:h,u.originalProgress=i?-f:f}}function o4(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const s=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:r,progressLoop:l}=e;const c=a,u=r;if(n===0)i=0,a=!0,r=!0;else{i=(t-e.minTranslate())/n;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;a=d||i<=0,r=h||i>=1,d&&(i=0),h&&(i=1)}if(s.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],m=e.slidesGrid[h],v=e.slidesGrid[e.slidesGrid.length-1],_=Math.abs(t);_>=f?l=(_-f)/v:l=(_+v-m)/v,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:a,isEnd:r}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&e.updateSlidesProgress(t),a&&!c&&e.emit("reachBeginning toEdge"),r&&!u&&e.emit("reachEnd toEdge"),(c&&!a||u&&!r)&&e.emit("fromEdge"),e.emit("progress",i)}const my=(t,e,s)=>{e&&!t.classList.contains(s)?t.classList.add(s):!e&&t.classList.contains(s)&&t.classList.remove(s)};function l4(){const t=this,{slides:e,params:s,slidesEl:n,activeIndex:i}=t,a=t.virtual&&s.virtual.enabled,r=t.grid&&s.grid&&s.grid.rows>1,l=h=>yi(n,`.${s.slideClass}${h}, swiper-slide${h}`)[0];let c,u,d;if(a)if(s.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else r?(c=e.find(h=>h.column===i),d=e.find(h=>h.column===i+1),u=e.find(h=>h.column===i-1)):c=e[i];c&&(r||(d=Kz(c,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!d&&(d=e[0]),u=Gz(c,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{my(h,h===c,s.slideActiveClass),my(h,h===d,s.slideNextClass),my(h,h===u,s.slidePrevClass)}),t.emitSlidesClasses()}const Df=(t,e)=>{if(!t||t.destroyed||!t.params)return;const s=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=e.closest(s());if(n){let i=n.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(n.shadowRoot?i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},py=(t,e)=>{if(!t.slides[e])return;const s=t.slides[e].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},hv=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const s=t.slides.length;if(!s||!e||e<0)return;e=Math.min(e,s);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const r=i,l=[r-e];l.push(...Array.from({length:e}).map((c,u)=>r+n+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&py(t,u)});return}const a=i+n-1;if(t.params.rewind||t.params.loop)for(let r=i-e;r<=a+e;r+=1){const l=(r%s+s)%s;(l<i||l>a)&&py(t,l)}else for(let r=Math.max(i-e,0);r<=Math.min(a+e,s-1);r+=1)r!==i&&(r>a||r<i)&&py(t,r)};function c4(t){const{slidesGrid:e,params:s}=t,n=t.rtlTranslate?t.translate:-t.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?n>=e[a]&&n<e[a+1]-(e[a+1]-e[a])/2?i=a:n>=e[a]&&n<e[a+1]&&(i=a+1):n>=e[a]&&(i=a);return s.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function u4(t){const e=this,s=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:i,activeIndex:a,realIndex:r,snapIndex:l}=e;let c=t,u;const d=m=>{let v=m-e.virtual.slidesBefore;return v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),v};if(typeof c>"u"&&(c=c4(e)),n.indexOf(s)>=0)u=n.indexOf(s);else{const m=Math.min(i.slidesPerGroupSkip,c);u=m+Math.floor((c-m)/i.slidesPerGroup)}if(u>=n.length&&(u=n.length-1),c===a&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const h=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=d(c);else if(h){const m=e.slides.find(_=>_.column===c);let v=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(v)&&(v=Math.max(e.slides.indexOf(m),0)),f=Math.floor(v/i.grid.rows)}else if(e.slides[c]){const m=e.slides[c].getAttribute("data-swiper-slide-index");m?f=parseInt(m,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:r,realIndex:f,previousIndex:a,activeIndex:c}),e.initialized&&hv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(r!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function d4(t,e){const s=this,n=s.params;let i=t.closest(`.${n.slideClass}, swiper-slide`);!i&&s.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${n.slideClass}, swiper-slide`)&&(i=l)});let a=!1,r;if(i){for(let l=0;l<s.slides.length;l+=1)if(s.slides[l]===i){a=!0,r=l;break}}if(i&&a)s.clickedSlide=i,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=r;else{s.clickedSlide=void 0,s.clickedIndex=void 0;return}n.slideToClickedSlide&&s.clickedIndex!==void 0&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}var h4={updateSize:s4,updateSlides:n4,updateAutoHeight:i4,updateSlidesOffset:a4,updateSlidesProgress:r4,updateProgress:o4,updateSlidesClasses:l4,updateActiveIndex:u4,updateClickedSlide:d4};function f4(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:s,rtlTranslate:n,translate:i,wrapperEl:a}=e;if(s.virtualTranslate)return n?-i:i;if(s.cssMode)return i;let r=Vz(a,t);return r+=e.cssOverflowAdjustment(),n&&(r=-r),r||0}function m4(t,e){const s=this,{rtlTranslate:n,params:i,wrapperEl:a,progress:r}=s;let l=0,c=0;const u=0;s.isHorizontal()?l=n?-t:t:c=t,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?l:c,i.cssMode?a[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-l:-c:i.virtualTranslate||(s.isHorizontal()?l-=s.cssOverflowAdjustment():c-=s.cssOverflowAdjustment(),a.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const h=s.maxTranslate()-s.minTranslate();h===0?d=0:d=(t-s.minTranslate())/h,d!==r&&s.updateProgress(t),s.emit("setTranslate",s.translate,e)}function p4(){return-this.snapGrid[0]}function g4(){return-this.snapGrid[this.snapGrid.length-1]}function y4(t,e,s,n,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),n===void 0&&(n=!0);const a=this,{params:r,wrapperEl:l}=a;if(a.animating&&r.preventInteractionOnTransition)return!1;const c=a.minTranslate(),u=a.maxTranslate();let d;if(n&&t>c?d=c:n&&t<u?d=u:d=t,a.updateProgress(d),r.cssMode){const h=a.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return AA({swiper:a,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(d),s&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(d),s&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,s&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var b4={getTranslate:f4,setTranslate:m4,minTranslate:p4,maxTranslate:g4,translateTo:y4};function v4(t,e){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${t}ms`,s.wrapperEl.style.transitionDelay=t===0?"0ms":""),s.emit("setTransition",t,e)}function PA(t){let{swiper:e,runCallbacks:s,direction:n,step:i}=t;const{activeIndex:a,previousIndex:r}=e;let l=n;if(l||(a>r?l="next":a<r?l="prev":l="reset"),e.emit(`transition${i}`),s&&a!==r){if(l==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),l==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function _4(t,e){t===void 0&&(t=!0);const s=this,{params:n}=s;n.cssMode||(n.autoHeight&&s.updateAutoHeight(),PA({swiper:s,runCallbacks:t,direction:e,step:"Start"}))}function x4(t,e){t===void 0&&(t=!0);const s=this,{params:n}=s;s.animating=!1,!n.cssMode&&(s.setTransition(0),PA({swiper:s,runCallbacks:t,direction:e,step:"End"}))}var w4={setTransition:v4,transitionStart:_4,transitionEnd:x4};function S4(t,e,s,n,i){t===void 0&&(t=0),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));const a=this;let r=t;r<0&&(r=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:m,enabled:v}=a;if(!v&&!n&&!i||a.destroyed||a.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const _=Math.min(a.params.slidesPerGroupSkip,r);let x=_+Math.floor((r-_)/a.params.slidesPerGroup);x>=c.length&&(x=c.length-1);const y=-c[x];if(l.normalizeSlideIndex)for(let T=0;T<u.length;T+=1){const N=-Math.floor(y*100),A=Math.floor(u[T]*100),L=Math.floor(u[T+1]*100);typeof u[T+1]<"u"?N>=A&&N<L-(L-A)/2?r=T:N>=A&&N<L&&(r=T+1):N>=A&&(r=T)}if(a.initialized&&r!==h&&(!a.allowSlideNext&&(f?y>a.translate&&y>a.minTranslate():y<a.translate&&y<a.minTranslate())||!a.allowSlidePrev&&y>a.translate&&y>a.maxTranslate()&&(h||0)!==r))return!1;r!==(d||0)&&s&&a.emit("beforeSlideChangeStart"),a.updateProgress(y);let g;r>h?g="next":r<h?g="prev":g="reset";const b=a.virtual&&a.params.virtual.enabled;if(!(b&&i)&&(f&&-y===a.translate||!f&&y===a.translate))return a.updateActiveIndex(r),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),l.effect!=="slide"&&a.setTranslate(y),g!=="reset"&&(a.transitionStart(s,g),a.transitionEnd(s,g)),!1;if(l.cssMode){const T=a.isHorizontal(),N=f?y:-y;if(e===0)b&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),b&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[T?"scrollLeft":"scrollTop"]=N})):m[T?"scrollLeft":"scrollTop"]=N,b&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return AA({swiper:a,targetPosition:N,side:T?"left":"top"}),!0;m.scrollTo({[T?"left":"top"]:N,behavior:"smooth"})}return!0}const C=RA().isSafari;return b&&!i&&C&&a.isElement&&a.virtual.update(!1,!1,r),a.setTransition(e),a.setTranslate(y),a.updateActiveIndex(r),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,n),a.transitionStart(s,g),e===0?a.transitionEnd(s,g):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(N){!a||a.destroyed||N.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(s,g))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function j4(t,e,s,n){t===void 0&&(t=0),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let r=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)r=r+i.virtual.slidesBefore;else{let l;if(a){const f=r*i.params.grid.rows;l=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else l=i.getSlideIndexByData(r);const c=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=c-l<d;if(u&&(h=h||l<Math.ceil(d/2)),n&&u&&i.params.slidesPerView!=="auto"&&!a&&(h=!1),h){const f=u?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(a){const f=r*i.params.grid.rows;r=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else r=i.getSlideIndexByData(r)}return requestAnimationFrame(()=>{i.slideTo(r,e,s,n)}),i}function E4(t,e,s){e===void 0&&(e=!0);const n=this,{enabled:i,params:a,animating:r}=n;if(!i||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);let l=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(l=Math.max(n.slidesPerViewDynamic("current",!0),1));const c=n.activeIndex<a.slidesPerGroupSkip?1:l,u=n.virtual&&a.virtual.enabled;if(a.loop){if(r&&!u&&a.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+c,t,e,s)}),!0}return a.rewind&&n.isEnd?n.slideTo(0,t,e,s):n.slideTo(n.activeIndex+c,t,e,s)}function N4(t,e,s){e===void 0&&(e=!0);const n=this,{params:i,snapGrid:a,slidesGrid:r,rtlTranslate:l,enabled:c,animating:u}=n;if(!c||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);const d=n.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const h=l?n.translate:-n.translate;function f(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const m=f(h),v=a.map(g=>f(g)),_=i.freeMode&&i.freeMode.enabled;let x=a[v.indexOf(m)-1];if(typeof x>"u"&&(i.cssMode||_)){let g;a.forEach((b,w)=>{m>=b&&(g=w)}),typeof g<"u"&&(x=_?a[g]:a[g>0?g-1:g])}let y=0;if(typeof x<"u"&&(y=r.indexOf(x),y<0&&(y=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-n.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&n.isBeginning){const g=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(g,t,e,s)}else if(i.loop&&n.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(y,t,e,s)}),!0;return n.slideTo(y,t,e,s)}function T4(t,e,s){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof t>"u"&&(t=n.params.speed),n.slideTo(n.activeIndex,t,e,s)}function C4(t,e,s,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let a=i.activeIndex;const r=Math.min(i.params.slidesPerGroupSkip,a),l=r+Math.floor((a-r)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const u=i.snapGrid[l],d=i.snapGrid[l+1];c-u>(d-u)*n&&(a+=i.params.slidesPerGroup)}else{const u=i.snapGrid[l-1],d=i.snapGrid[l];c-u<=(d-u)*n&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,s)}function k4(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:s}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;const r=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-n/2||i>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),i=t.getSlideIndex(yi(s,`${r}[data-swiper-slide-index="${a}"]`)[0]),uv(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-n?(t.loopFix(),i=t.getSlideIndex(yi(s,`${r}[data-swiper-slide-index="${a}"]`)[0]),uv(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var A4={slideTo:S4,slideToLoop:j4,slideNext:E4,slidePrev:N4,slideReset:T4,slideToClosest:C4,slideToClickedSlide:k4};function O4(t,e){const s=this,{params:n,slidesEl:i}=s;if(!n.loop||s.virtual&&s.params.virtual.enabled)return;const a=()=>{yi(i,`.${n.slideClass}, swiper-slide`).forEach((f,m)=>{f.setAttribute("data-swiper-slide-index",m)})},r=s.grid&&n.grid&&n.grid.rows>1,l=n.slidesPerGroup*(r?n.grid.rows:1),c=s.slides.length%l!==0,u=r&&s.slides.length%n.grid.rows!==0,d=h=>{for(let f=0;f<h;f+=1){const m=s.isElement?Nm("swiper-slide",[n.slideBlankClass]):Nm("div",[n.slideClass,n.slideBlankClass]);s.slidesEl.append(m)}};if(c){if(n.loopAddBlankSlides){const h=l-s.slides.length%l;d(h),s.recalcSlides(),s.updateSlides()}else Em("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(u){if(n.loopAddBlankSlides){const h=n.grid.rows-s.slides.length%n.grid.rows;d(h),s.recalcSlides(),s.updateSlides()}else Em("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();s.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next",initial:e})}function D4(t){let{slideRealIndex:e,slideTo:s=!0,direction:n,setTranslate:i,activeSlideIndex:a,initial:r,byController:l,byMousewheel:c}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:f,slidesEl:m,params:v}=u,{centeredSlides:_,initialSlide:x}=v;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&v.virtual.enabled){s&&(!v.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):v.centeredSlides&&u.snapIndex<v.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=h,u.allowSlideNext=f,u.emit("loopFix");return}let y=v.slidesPerView;y==="auto"?y=u.slidesPerViewDynamic():(y=Math.ceil(parseFloat(v.slidesPerView,10)),_&&y%2===0&&(y=y+1));const g=v.slidesPerGroupAuto?y:v.slidesPerGroup;let b=g;b%g!==0&&(b+=g-b%g),b+=v.loopAdditionalSlides,u.loopedSlides=b;const w=u.grid&&v.grid&&v.grid.rows>1;d.length<y+b||u.params.effect==="cards"&&d.length<y+b*2?Em("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&v.grid.fill==="row"&&Em("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],C=[],T=w?Math.ceil(d.length/v.grid.rows):d.length,N=r&&T-x<y&&!_;let A=N?x:u.activeIndex;typeof a>"u"?a=u.getSlideIndex(d.find(M=>M.classList.contains(v.slideActiveClass))):A=a;const L=n==="next"||!n,D=n==="prev"||!n;let I=0,q=0;const z=(w?d[a].column:a)+(_&&typeof i>"u"?-y/2+.5:0);if(z<b){I=Math.max(b-z,g);for(let M=0;M<b-z;M+=1){const H=M-Math.floor(M/T)*T;if(w){const R=T-H-1;for(let V=d.length-1;V>=0;V-=1)d[V].column===R&&E.push(V)}else E.push(T-H-1)}}else if(z+y>T-b){q=Math.max(z-(T-b*2),g),N&&(q=Math.max(q,y-T+x+1));for(let M=0;M<q;M+=1){const H=M-Math.floor(M/T)*T;w?d.forEach((R,V)=>{R.column===H&&C.push(V)}):C.push(H)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<y+b*2&&(C.includes(a)&&C.splice(C.indexOf(a),1),E.includes(a)&&E.splice(E.indexOf(a),1)),D&&E.forEach(M=>{d[M].swiperLoopMoveDOM=!0,m.prepend(d[M]),d[M].swiperLoopMoveDOM=!1}),L&&C.forEach(M=>{d[M].swiperLoopMoveDOM=!0,m.append(d[M]),d[M].swiperLoopMoveDOM=!1}),u.recalcSlides(),v.slidesPerView==="auto"?u.updateSlides():w&&(E.length>0&&D||C.length>0&&L)&&u.slides.forEach((M,H)=>{u.grid.updateSlide(H,M,u.slides)}),v.watchSlidesProgress&&u.updateSlidesOffset(),s){if(E.length>0&&D){if(typeof e>"u"){const M=u.slidesGrid[A],R=u.slidesGrid[A+I]-M;c?u.setTranslate(u.translate-R):(u.slideTo(A+Math.ceil(I),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-R,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-R))}else if(i){const M=w?E.length/v.grid.rows:E.length;u.slideTo(u.activeIndex+M,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(C.length>0&&L)if(typeof e>"u"){const M=u.slidesGrid[A],R=u.slidesGrid[A-q]-M;c?u.setTranslate(u.translate-R):(u.slideTo(A-q,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-R,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-R))}else{const M=w?C.length/v.grid.rows:C.length;u.slideTo(u.activeIndex-M,0,!1,!0)}}if(u.allowSlidePrev=h,u.allowSlideNext=f,u.controller&&u.controller.control&&!l){const M={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(H=>{!H.destroyed&&H.params.loop&&H.loopFix({...M,slideTo:H.params.slidesPerView===v.slidesPerView?s:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...M,slideTo:u.controller.control.params.slidesPerView===v.slidesPerView?s:!1})}u.emit("loopFix")}function M4(){const t=this,{params:e,slidesEl:s}=t;if(!e.loop||!s||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;n[a]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),n.forEach(i=>{s.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var R4={loopCreate:O4,loopFix:D4,loopDestroy:M4};function P4(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const s=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function L4(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var $4={setGrabCursor:P4,unsetGrabCursor:L4};function I4(t,e){e===void 0&&(e=this);function s(n){if(!n||n===wi()||n===Rs())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(t);return!i&&!n.getRootNode?null:i||s(n.getRootNode().host)}return s(e)}function Ej(t,e,s){const n=Rs(),{params:i}=t,a=i.edgeSwipeDetection,r=i.edgeSwipeThreshold;return a&&(s<=r||s>=n.innerWidth-r)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function B4(t){const e=this,s=wi();let n=t;n.originalEvent&&(n=n.originalEvent);const i=e.touchEventsData;if(n.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==n.pointerId)return;i.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(i.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){Ej(e,n,n.targetTouches[0].pageX);return}const{params:a,touches:r,enabled:l}=e;if(!l||!a.simulateTouch&&n.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let c=n.target;if(a.touchEventsTarget==="wrapper"&&!Yz(c,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;u&&n.target&&n.target.shadowRoot&&d&&(c=d[0]);const h=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,f=!!(n.target&&n.target.shadowRoot);if(a.noSwiping&&(f?I4(h,c):c.closest(h))){e.allowClick=!0;return}if(a.swipeHandler&&!c.closest(a.swipeHandler))return;r.currentX=n.pageX,r.currentY=n.pageY;const m=r.currentX,v=r.currentY;if(!Ej(e,n,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),r.startX=m,r.startY=v,i.touchStartTime=jm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let _=!0;c.matches(i.focusableElements)&&(_=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),s.activeElement&&s.activeElement.matches(i.focusableElements)&&s.activeElement!==c&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&s.activeElement.blur();const x=_&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||x)&&!c.isContentEditable&&n.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function z4(t){const e=wi(),s=this,n=s.touchEventsData,{params:i,touches:a,rtlTranslate:r,enabled:l}=s;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(n.touchId!==null||c.pointerId!==n.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(E=>E.identifier===n.touchId),!u||u.identifier!==n.touchId)return}else u=c;if(!n.isTouched){n.startMoving&&n.isScrolling&&s.emit("touchMoveOpposite",c);return}const d=u.pageX,h=u.pageY;if(c.preventedByNestedSwiper){a.startX=d,a.startY=h;return}if(!s.allowTouchMove){c.target.matches(n.focusableElements)||(s.allowClick=!1),n.isTouched&&(Object.assign(a,{startX:d,startY:h,currentX:d,currentY:h}),n.touchStartTime=jm());return}if(i.touchReleaseOnEdges&&!i.loop)if(s.isVertical()){if(h<a.startY&&s.translate<=s.maxTranslate()||h>a.startY&&s.translate>=s.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(r&&(d>a.startX&&-s.translate<=s.maxTranslate()||d<a.startX&&-s.translate>=s.minTranslate()))return;if(!r&&(d<a.startX&&s.translate<=s.maxTranslate()||d>a.startX&&s.translate>=s.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(n.focusableElements)){n.isMoved=!0,s.allowClick=!1;return}n.allowTouchCallbacks&&s.emit("touchMove",c),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=d,a.currentY=h;const f=a.currentX-a.startX,m=a.currentY-a.startY;if(s.params.threshold&&Math.sqrt(f**2+m**2)<s.params.threshold)return;if(typeof n.isScrolling>"u"){let E;s.isHorizontal()&&a.currentY===a.startY||s.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:f*f+m*m>=25&&(E=Math.atan2(Math.abs(m),Math.abs(f))*180/Math.PI,n.isScrolling=s.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(n.isScrolling&&s.emit("touchMoveOpposite",c),typeof n.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(n.startMoving=!0),n.isScrolling||c.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;s.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let v=s.isHorizontal()?f:m,_=s.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(v=Math.abs(v)*(r?1:-1),_=Math.abs(_)*(r?1:-1)),a.diff=v,v*=i.touchRatio,r&&(v=-v,_=-_);const x=s.touchesDirection;s.swipeDirection=v>0?"prev":"next",s.touchesDirection=_>0?"prev":"next";const y=s.params.loop&&!i.cssMode,g=s.touchesDirection==="next"&&s.allowSlideNext||s.touchesDirection==="prev"&&s.allowSlidePrev;if(!n.isMoved){if(y&&g&&s.loopFix({direction:s.swipeDirection}),n.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});s.wrapperEl.dispatchEvent(E)}n.allowMomentumBounce=!1,i.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&x!==s.touchesDirection&&y&&g&&Math.abs(v)>=1){Object.assign(a,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}s.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=v+n.startTranslate;let b=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),v>0?(y&&g&&n.allowThresholdMove&&n.currentTranslate>(i.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]-(i.slidesPerView!=="auto"&&s.slides.length-i.slidesPerView>=2?s.slidesSizesGrid[s.activeIndex+1]+s.params.spaceBetween:0)-s.params.spaceBetween:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>s.minTranslate()&&(b=!1,i.resistance&&(n.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+n.startTranslate+v)**w))):v<0&&(y&&g&&n.allowThresholdMove&&n.currentTranslate<(i.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween+(i.slidesPerView!=="auto"&&s.slides.length-i.slidesPerView>=2?s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween:0):s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(i.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<s.maxTranslate()&&(b=!1,i.resistance&&(n.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-n.startTranslate-v)**w))),b&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(v)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,a.diff=s.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&s.freeMode||i.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(n.currentTranslate),s.setTranslate(n.currentTranslate))}function H4(t){const e=this,s=e.touchEventsData;let n=t;n.originalEvent&&(n=n.originalEvent);let i;if(n.type==="touchend"||n.type==="touchcancel"){if(i=[...n.changedTouches].find(E=>E.identifier===s.touchId),!i||i.identifier!==s.touchId)return}else{if(s.touchId!==null||n.pointerId!==s.pointerId)return;i=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;s.pointerId=null,s.touchId=null;const{params:r,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!r.simulateTouch&&n.pointerType==="mouse")return;if(s.allowTouchCallbacks&&e.emit("touchEnd",n),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&r.grabCursor&&e.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}r.grabCursor&&s.isMoved&&s.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=jm(),f=h-s.touchStartTime;if(e.allowClick){const E=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(E&&E[0]||n.target,E),e.emit("tap click",n),f<300&&h-s.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(s.lastClickTime=jm(),uv(()=>{e.destroyed||(e.allowClick=!0)}),!s.isTouched||!s.isMoved||!e.swipeDirection||l.diff===0&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let m;if(r.followFinger?m=c?e.translate:-e.translate:m=-s.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const v=m>=-e.maxTranslate()&&!e.params.loop;let _=0,x=e.slidesSizesGrid[0];for(let E=0;E<u.length;E+=E<r.slidesPerGroupSkip?1:r.slidesPerGroup){const C=E<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof u[E+C]<"u"?(v||m>=u[E]&&m<u[E+C])&&(_=E,x=u[E+C]-u[E]):(v||m>=u[E])&&(_=E,x=u[u.length-1]-u[u.length-2])}let y=null,g=null;r.rewind&&(e.isBeginning?g=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const b=(m-u[_])/x,w=_<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(f>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?y:_+w):e.slideTo(_)),e.swipeDirection==="prev"&&(b>1-r.longSwipesRatio?e.slideTo(_+w):g!==null&&b<0&&Math.abs(b)>r.longSwipesRatio?e.slideTo(g):e.slideTo(_))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(_+w):e.slideTo(_):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:_+w),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:_))}}function Nj(){const t=this,{params:e,el:s}=t;if(s&&s.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:a}=t,r=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=r&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!r?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=n,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function F4(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function U4(){const t=this,{wrapperEl:e,rtlTranslate:s,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(s?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function V4(t){const e=this;Df(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function q4(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const LA=(t,e)=>{const s=wi(),{params:n,el:i,wrapperEl:a,device:r}=t,l=!!n.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;!i||typeof i=="string"||(s[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),s[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),s[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),s[c]("touchend",t.onTouchEnd,{passive:!0}),s[c]("pointerup",t.onTouchEnd,{passive:!0}),s[c]("pointercancel",t.onTouchEnd,{passive:!0}),s[c]("touchcancel",t.onTouchEnd,{passive:!0}),s[c]("pointerout",t.onTouchEnd,{passive:!0}),s[c]("pointerleave",t.onTouchEnd,{passive:!0}),s[c]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[c]("click",t.onClick,!0),n.cssMode&&a[c]("scroll",t.onScroll),n.updateOnWindowResize?t[u](r.ios||r.android?"resize orientationchange observerUpdate":"resize observerUpdate",Nj,!0):t[u]("observerUpdate",Nj,!0),i[c]("load",t.onLoad,{capture:!0}))};function W4(){const t=this,{params:e}=t;t.onTouchStart=B4.bind(t),t.onTouchMove=z4.bind(t),t.onTouchEnd=H4.bind(t),t.onDocumentTouchStart=q4.bind(t),e.cssMode&&(t.onScroll=U4.bind(t)),t.onClick=F4.bind(t),t.onLoad=V4.bind(t),LA(t,"on")}function Y4(){LA(this,"off")}var G4={attachEvents:W4,detachEvents:Y4};const Tj=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function K4(){const t=this,{realIndex:e,initialized:s,params:n,el:i}=t,a=n.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const r=wi(),l=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",c=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?t.el:r.querySelector(n.breakpointsBase),u=t.getBreakpoint(a,l,c);if(!u||t.currentBreakpoint===u)return;const h=(u in a?a[u]:void 0)||t.originalParams,f=Tj(t,n),m=Tj(t,h),v=t.params.grabCursor,_=h.grabCursor,x=n.enabled;f&&!m?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&m&&(i.classList.add(`${n.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&n.grid.fill==="column")&&i.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),v&&!_?t.unsetGrabCursor():!v&&_&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(C=>{if(typeof h[C]>"u")return;const T=n[C]&&n[C].enabled,N=h[C]&&h[C].enabled;T&&!N&&t[C].disable(),!T&&N&&t[C].enable()});const y=h.direction&&h.direction!==n.direction,g=n.loop&&(h.slidesPerView!==n.slidesPerView||y),b=n.loop;y&&s&&t.changeDirection(),en(t.params,h);const w=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),x&&!w?t.disable():!x&&w&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",h),s&&(g?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!b&&E?(t.loopCreate(e),t.updateSlides()):b&&!E&&t.loopDestroy()),t.emit("breakpoint",h)}function X4(t,e,s){if(e===void 0&&(e="window"),!t||e==="container"&&!s)return;let n=!1;const i=Rs(),a=e==="window"?i.innerHeight:s.clientHeight,r=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:a*c,point:l}}return{value:l,point:l}});r.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<r.length;l+=1){const{point:c,value:u}=r[l];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(n=c):u<=s.clientWidth&&(n=c)}return n||"max"}var Q4={setBreakpoint:K4,getBreakpoint:X4};function J4(t,e){const s=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&s.push(e+i)}):typeof n=="string"&&s.push(e+n)}),s}function Z4(){const t=this,{classNames:e,params:s,rtl:n,el:i,device:a}=t,r=J4(["initialized",s.direction,{"free-mode":t.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:n},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);e.push(...r),i.classList.add(...e),t.emitContainerClasses()}function e5(){const t=this,{el:e,classNames:s}=t;!e||typeof e=="string"||(e.classList.remove(...s),t.emitContainerClasses())}var t5={addClasses:Z4,removeClasses:e5};function s5(){const t=this,{isLocked:e,params:s}=t,{slidesOffsetBefore:n}=s;if(n){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+n*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;s.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),s.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var n5={checkOverflow:s5},fv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function i5(t,e){return function(n){n===void 0&&(n={});const i=Object.keys(n)[0],a=n[i];if(typeof a!="object"||a===null){en(e,n);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in a)){en(e,n);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),en(e,n)}}const gy={eventsEmitter:t4,update:h4,translate:b4,transition:w4,slide:A4,loop:R4,grabCursor:$4,events:G4,breakpoints:Q4,checkOverflow:n5,classes:t5},yy={};let cx=class Fi{constructor(){let e,s;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?s=i[0]:[e,s]=i,s||(s={}),s=en({},s),e&&!s.el&&(s.el=e);const r=wi();if(s.el&&typeof s.el=="string"&&r.querySelectorAll(s.el).length>1){const d=[];return r.querySelectorAll(s.el).forEach(h=>{const f=en({},s,{el:h});d.push(new Fi(f))}),d}const l=this;l.__swiper__=!0,l.support=DA(),l.device=MA({userAgent:s.userAgent}),l.browser=RA(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],s.modules&&Array.isArray(s.modules)&&l.modules.push(...s.modules);const c={};l.modules.forEach(d=>{d({params:s,swiper:l,extendParams:i5(s,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=en({},fv,c);return l.params=en({},u,yy,s),l.originalParams=en({},l.params),l.passedParams=en({},s),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:s,params:n}=this,i=yi(s,`.${n.slideClass}, swiper-slide`),a=Tm(i[0]);return Tm(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(s=>s.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:s,params:n}=e;e.slides=yi(s,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,s){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),r=(n.maxTranslate()-i)*e+i;n.translateTo(r,typeof s>"u"?0:s),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const s=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",s.join(" "))}getSlideClasses(e){const s=this;return s.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const s=[];e.slides.forEach(n=>{const i=e.getSlideClasses(n);s.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",s)}slidesPerViewDynamic(e,s){e===void 0&&(e="current"),s===void 0&&(s=!1);const n=this,{params:i,slides:a,slidesGrid:r,slidesSizesGrid:l,size:c,activeIndex:u}=n;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=a[u]?Math.ceil(a[u].swiperSlideSize):0,f;for(let m=u+1;m<a.length;m+=1)a[m]&&!f&&(h+=Math.ceil(a[m].swiperSlideSize),d+=1,h>c&&(f=!0));for(let m=u-1;m>=0;m-=1)a[m]&&!f&&(h+=a[m].swiperSlideSize,d+=1,h>c&&(f=!0))}else if(e==="current")for(let h=u+1;h<a.length;h+=1)(s?r[h]+l[h]-r[u]<c:r[h]-r[u]<c)&&(d+=1);else for(let h=u-1;h>=0;h-=1)r[u]-r[h]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:s,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete&&Df(e,r)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const r=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(r,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const r=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(r.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}n.watchOverflow&&s!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,s){s===void 0&&(s=!0);const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),n.emit("changeDirection"),s&&n.update()),n}changeLanguageDirection(e){const s=this;s.rtl&&e==="rtl"||!s.rtl&&e==="ltr"||(s.rtl=e==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(e){const s=this;if(s.mounted)return!0;let n=e||s.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=s,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===s.params.swiperElementNodeName.toUpperCase()&&(s.isElement=!0);const i=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(i()):yi(n,i())[0];return!r&&s.params.createElements&&(r=Nm("div",s.params.wrapperClass),n.append(r),yi(n,`.${s.params.slideClass}`).forEach(l=>{r.append(l)})),Object.assign(s,{el:n,wrapperEl:r,slidesEl:s.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:r,hostEl:s.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||za(n,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||za(n,"direction")==="rtl"),wrongRTL:za(r,"display")==="-webkit-box"}),!0}init(e){const s=this;if(s.initialized||s.mount(e)===!1)return s;s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(void 0,!0),s.attachEvents();const i=[...s.el.querySelectorAll('[loading="lazy"]')];return s.isElement&&i.push(...s.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?Df(s,a):a.addEventListener("load",r=>{Df(s,r.target)})}),hv(s),s.initialized=!0,hv(s),s.emit("init"),s.emit("afterInit"),s}destroy(e,s){e===void 0&&(e=!0),s===void 0&&(s=!0);const n=this,{params:i,el:a,wrapperEl:r,slides:l}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),s&&(n.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),r&&r.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(c=>{n.off(c)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),Fz(n)),n.destroyed=!0),null}static extendDefaults(e){en(yy,e)}static get extendedDefaults(){return yy}static get defaults(){return fv}static installModule(e){Fi.prototype.__modules__||(Fi.prototype.__modules__=[]);const s=Fi.prototype.__modules__;typeof e=="function"&&s.indexOf(e)<0&&s.push(e)}static use(e){return Array.isArray(e)?(e.forEach(s=>Fi.installModule(s)),Fi):(Fi.installModule(e),Fi)}};Object.keys(gy).forEach(t=>{Object.keys(gy[t]).forEach(e=>{cx.prototype[e]=gy[t][e]})});cx.use([Zz,e4]);const $A=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function uo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ll(t,e){const s=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>s.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:uo(e[n])&&uo(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:Ll(t[n],e[n]):t[n]=e[n]})}function IA(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function BA(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function zA(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function HA(t){t===void 0&&(t="");const e=t.split(" ").map(n=>n.trim()).filter(n=>!!n),s=[];return e.forEach(n=>{s.indexOf(n)<0&&s.push(n)}),s.join(" ")}function a5(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function r5(t){let{swiper:e,slides:s,passedParams:n,changedParams:i,nextEl:a,prevEl:r,scrollbarEl:l,paginationEl:c}=t;const u=i.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:m,virtual:v,thumbs:_}=e;let x,y,g,b,w,E,C,T;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(x=!0),i.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(y=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||c)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(g=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(b=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||r)&&(n.navigation.nextEl||a)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(w=!0);const N=A=>{e[A]&&(e[A].destroy(),A==="navigation"?(e.isElement&&(e[A].prevEl.remove(),e[A].nextEl.remove()),d[A].prevEl=void 0,d[A].nextEl=void 0,e[A].prevEl=void 0,e[A].nextEl=void 0):(e.isElement&&e[A].el.remove(),d[A].el=void 0,e[A].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!n.loop?E=!0:!d.loop&&n.loop?C=!0:T=!0),u.forEach(A=>{if(uo(d[A])&&uo(n[A]))Object.assign(d[A],n[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in n[A]&&!n[A].enabled&&N(A);else{const L=n[A];(L===!0||L===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?L===!1&&N(A):d[A]=n[A]}}),u.includes("controller")&&!y&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&s&&v&&d.virtual.enabled?(v.slides=s,v.update(!0)):i.includes("virtual")&&v&&d.virtual.enabled&&(s&&(v.slides=s),v.update(!0)),i.includes("children")&&s&&d.loop&&(T=!0),x&&_.init()&&_.update(!0),y&&(e.controller.control=d.controller.control),g&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(d.pagination.el=c),h.init(),h.render(),h.update()),b&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),m.init(),m.updateSize(),m.setTranslate()),w&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-prev"),r.innerHTML=e.hostEl.constructor.prevButtonSvg,r.part.add("button-prev"),e.el.appendChild(r))),a&&(d.navigation.nextEl=a),r&&(d.navigation.prevEl=r),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(E||T)&&e.loopDestroy(),(C||T)&&e.loopCreate(),e.update()}function o5(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const s={on:{}},n={},i={};Ll(s,fv),s._emitClasses=!0,s.init=!1;const a={},r=$A.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(r.indexOf(c)>=0?uo(t[c])?(s[c]={},i[c]={},Ll(s[c],t[c]),Ll(i[c],t[c])):(s[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?n[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:a[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{s[c]===!0&&(s[c]={}),s[c]===!1&&delete s[c]}),{params:s,passedParams:i,rest:a,events:n}}function l5(t,e){let{el:s,nextEl:n,prevEl:i,paginationEl:a,scrollbarEl:r,swiper:l}=t;IA(e)&&n&&i&&(l.params.navigation.nextEl=n,l.originalParams.navigation.nextEl=n,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),BA(e)&&a&&(l.params.pagination.el=a,l.originalParams.pagination.el=a),zA(e)&&r&&(l.params.scrollbar.el=r,l.originalParams.scrollbar.el=r),l.init(s)}function c5(t,e,s,n,i){const a=[];if(!e)return a;const r=c=>{a.indexOf(c)<0&&a.push(c)};if(s&&n){const c=n.map(i),u=s.map(i);c.join("")!==u.join("")&&r("children"),n.length!==s.length&&r("children")}return $A.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(uo(t[c])&&uo(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?r(c):(u.forEach(h=>{t[c][h]!==e[c][h]&&r(c)}),d.forEach(h=>{t[c][h]!==e[c][h]&&r(c)}))}else t[c]!==e[c]&&r(c)}),a}const u5=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Cm.apply(this,arguments)}function FA(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function UA(t){const e=[];return we.Children.toArray(t).forEach(s=>{FA(s)?e.push(s):s.props&&s.props.children&&UA(s.props.children).forEach(n=>e.push(n))}),e}function d5(t){const e=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return we.Children.toArray(t).forEach(n=>{if(FA(n))e.push(n);else if(n.props&&n.props.slot&&s[n.props.slot])s[n.props.slot].push(n);else if(n.props&&n.props.children){const i=UA(n.props.children);i.length>0?i.forEach(a=>e.push(a)):s["container-end"].push(n)}else s["container-end"].push(n)}),{slides:e,slots:s}}function h5(t,e,s){if(!s)return null;const n=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:a,to:r}=s,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=a&&d<=r&&u.push(e[n(d)]);return u.map((d,h)=>we.cloneElement(d,{swiper:t,style:i,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function ku(t,e){return typeof window>"u"?S.useEffect(t,e):S.useLayoutEffect(t,e)}const Cj=S.createContext(null),f5=S.createContext(null),VA=S.forwardRef(function(t,e){let{className:s,tag:n="div",wrapperTag:i="div",children:a,onSwiper:r,...l}=t===void 0?{}:t,c=!1;const[u,d]=S.useState("swiper"),[h,f]=S.useState(null),[m,v]=S.useState(!1),_=S.useRef(!1),x=S.useRef(null),y=S.useRef(null),g=S.useRef(null),b=S.useRef(null),w=S.useRef(null),E=S.useRef(null),C=S.useRef(null),T=S.useRef(null),{params:N,passedParams:A,rest:L,events:D}=o5(l),{slides:I,slots:q}=d5(a),B=()=>{v(!m)};Object.assign(N.on,{_containerClasses(V,P){d(P)}});const z=()=>{Object.assign(N.on,D),c=!0;const V={...N};if(delete V.wrapperClass,y.current=new cx(V),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=I;const P={cache:!1,slides:I,renderExternal:f,renderExternalUpdate:!1};Ll(y.current.params.virtual,P),Ll(y.current.originalParams.virtual,P)}};x.current||z(),y.current&&y.current.on("_beforeBreakpoint",B);const M=()=>{c||!D||!y.current||Object.keys(D).forEach(V=>{y.current.on(V,D[V])})},H=()=>{!D||!y.current||Object.keys(D).forEach(V=>{y.current.off(V,D[V])})};S.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",B)}),S.useEffect(()=>{!_.current&&y.current&&(y.current.emitSlidesClasses(),_.current=!0)}),ku(()=>{if(e&&(e.current=x.current),!!x.current)return y.current.destroyed&&z(),l5({el:x.current,nextEl:w.current,prevEl:E.current,paginationEl:C.current,scrollbarEl:T.current,swiper:y.current},N),r&&!y.current.destroyed&&r(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),ku(()=>{M();const V=c5(A,g.current,I,b.current,P=>P.key);return g.current=A,b.current=I,V.length&&y.current&&!y.current.destroyed&&r5({swiper:y.current,slides:I,passedParams:A,changedParams:V,nextEl:w.current,prevEl:E.current,scrollbarEl:T.current,paginationEl:C.current}),()=>{H()}}),ku(()=>{u5(y.current)},[h]);function R(){return N.virtual?h5(y.current,I,h):I.map((V,P)=>we.cloneElement(V,{swiper:y.current,swiperSlideIndex:P}))}return we.createElement(n,Cm({ref:x,className:HA(`${u}${s?` ${s}`:""}`)},L),we.createElement(f5.Provider,{value:y.current},q["container-start"],we.createElement(i,{className:a5(N.wrapperClass)},q["wrapper-start"],R(),q["wrapper-end"]),IA(N)&&we.createElement(we.Fragment,null,we.createElement("div",{ref:E,className:"swiper-button-prev"}),we.createElement("div",{ref:w,className:"swiper-button-next"})),zA(N)&&we.createElement("div",{ref:T,className:"swiper-scrollbar"}),BA(N)&&we.createElement("div",{ref:C,className:"swiper-pagination"}),q["container-end"]))});VA.displayName="Swiper";const qA=S.forwardRef(function(t,e){let{tag:s="div",children:n,className:i="",swiper:a,zoom:r,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=S.useRef(null),[f,m]=S.useState("swiper-slide"),[v,_]=S.useState(!1);function x(w,E,C){E===h.current&&m(C)}ku(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!a)){if(a.destroyed){f!=="swiper-slide"&&m("swiper-slide");return}return a.on("_slideClass",x),()=>{a&&a.off("_slideClass",x)}}}),ku(()=>{a&&h.current&&!a.destroyed&&m(a.getSlideClasses(h.current))},[a]);const y={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},g=()=>typeof n=="function"?n(y):n,b=()=>{_(!0)};return we.createElement(s,Cm({ref:h,className:HA(`${f}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:b},d),r&&we.createElement(Cj.Provider,{value:y},we.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof r=="number"?r:void 0},g(),l&&!v&&we.createElement("div",{className:"swiper-lazy-preloader"}))),!r&&we.createElement(Cj.Provider,{value:y},g(),l&&!v&&we.createElement("div",{className:"swiper-lazy-preloader"})))});qA.displayName="SwiperSlide";function m5(t,e,s,n){return t.params.createElements&&Object.keys(n).forEach(i=>{if(!s[i]&&s.auto===!0){let a=yi(t.el,`.${n[i]}`)[0];a||(a=Nm("div",n[i]),a.className=n[i],t.el.append(a)),s[i]=a,e[i]=a}}),s}function Vc(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function p5(t){let{swiper:e,extendParams:s,on:n,emit:i}=t;const a="swiper-pagination";s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let r,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(g,b){const{bulletActiveClass:w}=e.params.pagination;g&&(g=g[`${b==="prev"?"previous":"next"}ElementSibling`],g&&(g.classList.add(`${w}-${b}`),g=g[`${b==="prev"?"previous":"next"}ElementSibling`],g&&g.classList.add(`${w}-${b}-${b}`)))}function d(g,b,w){if(g=g%w,b=b%w,b===g+1)return"next";if(b===g-1)return"previous"}function h(g){const b=g.target.closest(Vc(e.params.pagination.bulletClass));if(!b)return;g.preventDefault();const w=Tm(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const E=d(e.realIndex,w,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function f(){const g=e.rtl,b=e.params.pagination;if(c())return;let w=e.pagination.el;w=$i(w);let E,C;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,E=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const A=e.pagination.bullets;let L,D,I;if(b.dynamicBullets&&(r=dv(A[0],e.isHorizontal()?"width":"height"),w.forEach(q=>{q.style[e.isHorizontal()?"width":"height"]=`${r*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&C!==void 0&&(l+=E-(C||0),l>b.dynamicMainBullets-1?l=b.dynamicMainBullets-1:l<0&&(l=0)),L=Math.max(E-l,0),D=L+(Math.min(A.length,b.dynamicMainBullets)-1),I=(D+L)/2),A.forEach(q=>{const B=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(z=>`${b.bulletActiveClass}${z}`)].map(z=>typeof z=="string"&&z.includes(" ")?z.split(" "):z).flat();q.classList.remove(...B)}),w.length>1)A.forEach(q=>{const B=Tm(q);B===E?q.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&q.setAttribute("part","bullet"),b.dynamicBullets&&(B>=L&&B<=D&&q.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),B===L&&u(q,"prev"),B===D&&u(q,"next"))});else{const q=A[E];if(q&&q.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&A.forEach((B,z)=>{B.setAttribute("part",z===E?"bullet-active":"bullet")}),b.dynamicBullets){const B=A[L],z=A[D];for(let M=L;M<=D;M+=1)A[M]&&A[M].classList.add(...`${b.bulletActiveClass}-main`.split(" "));u(B,"prev"),u(z,"next")}}if(b.dynamicBullets){const q=Math.min(A.length,b.dynamicMainBullets+4),B=(r*q-r)/2-I*r,z=g?"right":"left";A.forEach(M=>{M.style[e.isHorizontal()?z:"top"]=`${B}px`})}}w.forEach((A,L)=>{if(b.type==="fraction"&&(A.querySelectorAll(Vc(b.currentClass)).forEach(D=>{D.textContent=b.formatFractionCurrent(E+1)}),A.querySelectorAll(Vc(b.totalClass)).forEach(D=>{D.textContent=b.formatFractionTotal(N)})),b.type==="progressbar"){let D;b.progressbarOpposite?D=e.isHorizontal()?"vertical":"horizontal":D=e.isHorizontal()?"horizontal":"vertical";const I=(E+1)/N;let q=1,B=1;D==="horizontal"?q=I:B=I,A.querySelectorAll(Vc(b.progressbarFillClass)).forEach(z=>{z.style.transform=`translate3d(0,0,0) scaleX(${q}) scaleY(${B})`,z.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(A.innerHTML=b.renderCustom(e,E+1,N),L===0&&i("paginationRender",A)):(L===0&&i("paginationRender",A),i("paginationUpdate",A)),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](b.lockClass)})}function m(){const g=e.params.pagination;if(c())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=$i(w);let E="";if(g.type==="bullets"){let C=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>b&&(C=b);for(let T=0;T<C;T+=1)g.renderBullet?E+=g.renderBullet.call(e,T,g.bulletClass):E+=`<${g.bulletElement} ${e.isElement?'part="bullet"':""} class="${g.bulletClass}"></${g.bulletElement}>`}g.type==="fraction"&&(g.renderFraction?E=g.renderFraction.call(e,g.currentClass,g.totalClass):E=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`),g.type==="progressbar"&&(g.renderProgressbar?E=g.renderProgressbar.call(e,g.progressbarFillClass):E=`<span class="${g.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(C=>{g.type!=="custom"&&(C.innerHTML=E||""),g.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(Vc(g.bulletClass)))}),g.type!=="custom"&&i("paginationRender",w[0])}function v(){e.params.pagination=m5(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const g=e.params.pagination;if(!g.el)return;let b;typeof g.el=="string"&&e.isElement&&(b=e.el.querySelector(g.el)),!b&&typeof g.el=="string"&&(b=[...document.querySelectorAll(g.el)]),b||(b=g.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof g.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(g.el)],b.length>1&&(b=b.find(w=>OA(w,".swiper")[0]===e.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=$i(b),b.forEach(w=>{g.type==="bullets"&&g.clickable&&w.classList.add(...(g.clickableClass||"").split(" ")),w.classList.add(g.modifierClass+g.type),w.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(w.classList.add(`${g.modifierClass}${g.type}-dynamic`),l=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&w.classList.add(g.progressbarOppositeClass),g.clickable&&w.addEventListener("click",h),e.enabled||w.classList.add(g.lockClass)}))}function _(){const g=e.params.pagination;if(c())return;let b=e.pagination.el;b&&(b=$i(b),b.forEach(w=>{w.classList.remove(g.hiddenClass),w.classList.remove(g.modifierClass+g.type),w.classList.remove(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.clickable&&(w.classList.remove(...(g.clickableClass||"").split(" ")),w.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...g.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const g=e.params.pagination;let{el:b}=e.pagination;b=$i(b),b.forEach(w=>{w.classList.remove(g.horizontalClass,g.verticalClass),w.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?y():(v(),m(),f())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),n("snapIndexChange",()=>{f()}),n("snapGridLengthChange",()=>{m(),f()}),n("destroy",()=>{_()}),n("enable disable",()=>{let{el:g}=e.pagination;g&&(g=$i(g),g.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{f()}),n("click",(g,b)=>{const w=b.target,E=$i(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const C=E[0].classList.contains(e.params.pagination.hiddenClass);i(C===!0?"paginationShow":"paginationHide"),E.forEach(T=>T.classList.toggle(e.params.pagination.hiddenClass))}});const x=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=$i(g),g.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),v(),m(),f()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=$i(g),g.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),_()};Object.assign(e.pagination,{enable:x,disable:y,render:m,update:f,init:v,destroy:_})}function g5(t){let{swiper:e,extendParams:s,on:n,emit:i,params:a}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let r,l,c=a&&a.autoplay?a.autoplay.delay:3e3,u=a&&a.autoplay?a.autoplay.delay:3e3,d,h=new Date().getTime(),f,m,v,_,x,y,g;function b(R){!e||e.destroyed||!e.wrapperEl||R.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),!(g||R.detail&&R.detail.bySwiperTouchMove)&&L())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(u=d,f=!1);const R=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=R,i("autoplayTimeLeft",R,R/c),l=requestAnimationFrame(()=>{w()})},E=()=>{let R;return e.virtual&&e.params.virtual.enabled?R=e.slides.find(P=>P.classList.contains("swiper-slide-active")):R=e.slides[e.activeIndex],R?parseInt(R.getAttribute("data-swiper-autoplay"),10):void 0},C=R=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),w();let V=typeof R>"u"?e.params.autoplay.delay:R;c=e.params.autoplay.delay,u=e.params.autoplay.delay;const P=E();!Number.isNaN(P)&&P>0&&typeof R>"u"&&(V=P,c=P,u=P),d=V;const se=e.params.speed,de=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(se,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,se,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(se,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,se,!0,!0),i("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return V>0?(clearTimeout(r),r=setTimeout(()=>{de()},V)):requestAnimationFrame(()=>{de()}),V},T=()=>{h=new Date().getTime(),e.autoplay.running=!0,C(),i("autoplayStart")},N=()=>{e.autoplay.running=!1,clearTimeout(r),cancelAnimationFrame(l),i("autoplayStop")},A=(R,V)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(r),R||(y=!0);const P=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):L()};if(e.autoplay.paused=!0,V){x&&(d=e.params.autoplay.delay),x=!1,P();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),P())},L=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),y?(y=!1,C(d)):C(),e.autoplay.paused=!1,i("autoplayResume"))},D=()=>{if(e.destroyed||!e.autoplay.running)return;const R=wi();R.visibilityState==="hidden"&&(y=!0,A(!0)),R.visibilityState==="visible"&&L()},I=R=>{R.pointerType==="mouse"&&(y=!0,g=!0,!(e.animating||e.autoplay.paused)&&A(!0))},q=R=>{R.pointerType==="mouse"&&(g=!1,e.autoplay.paused&&L())},B=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",q))},z=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",q))},M=()=>{wi().addEventListener("visibilitychange",D)},H=()=>{wi().removeEventListener("visibilitychange",D)};n("init",()=>{e.params.autoplay.enabled&&(B(),M(),T())}),n("destroy",()=>{z(),H(),e.autoplay.running&&N()}),n("_freeModeStaticRelease",()=>{(v||y)&&L()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?N():A(!0,!0)}),n("beforeTransitionStart",(R,V,P)=>{e.destroyed||!e.autoplay.running||(P||!e.params.autoplay.disableOnInteraction?A(!0,!0):N())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){N();return}m=!0,v=!1,y=!1,_=setTimeout(()=>{y=!0,v=!0,A(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(_),clearTimeout(r),e.params.autoplay.disableOnInteraction){v=!1,m=!1;return}v&&e.params.cssMode&&L(),v=!1,m=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(x=!0)}),Object.assign(e.autoplay,{start:T,stop:N,pause:A,resume:L})}const y5=({checkLogins:t})=>{const[e,s]=S.useState([]),[n,i]=S.useState([]),[a,r]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const[d,h]=await Promise.all([oe.get("/api/room_types"),oe.get("/api/rooms")]),f=d.data.map(m=>({id:m.id,capacity:m.capacity,name:m.name,description:m.description,image:m.image}));s(f),i(h.data||[]),r(!1)}catch(d){console.error("Error fetching rooms:",d),r(!1)}})()},[]);const l=u=>n.filter(d=>d.type===u&&d.status==="available").length,c=u=>{l(u)>0?t(u):window.showNotification(`No rooms available for ${u}, please call hotline.`,"error")};return o.jsx("div",{className:"bg-dark rooms_booking",children:o.jsxs("div",{className:"container text-white",children:[o.jsx("h2",{className:"text-center mb-4",children:"BEST SELLER"}),a?o.jsx("div",{className:"text-center",style:{color:"white",fontSize:"20px"},children:"Loading..."}):o.jsx(VA,{modules:[p5,g5],autoplay:{delay:3e3,disableOnInteraction:!1},speed:3e3,loop:!0,spaceBetween:30,slidesPerView:1,pagination:{clickable:!0},className:"room-slider",children:e.map(u=>o.jsx(qA,{className:"position-relative",children:o.jsxs("div",{className:"room-card",children:[o.jsxs("div",{className:"image-wrapper",children:[o.jsx("img",{src:u.image?u.image.startsWith("http")?u.image:`/storage/room_types_huy/${u.image}`:"/images/default-room.png",alt:u.name,className:"room-image"}),o.jsx("button",{onClick:()=>c(u.name),className:"btn btn-warning book-now-btn",children:"Book Now"})]}),o.jsxs("div",{className:"room-info",children:[o.jsx("h3",{className:"room-name",children:u.name}),o.jsxs("p",{className:"room-price bi bi-people",children:[" ",u.capacity]}),o.jsx("p",{className:"room-details",children:u.description})]})]})},u.id))})]})})},WA=({onConfirm:t,onClose:e})=>{const[s,n]=S.useState(!1);return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-deposit",children:[o.jsx("h3",{className:"popup-title",children:"MoonBay Hotel"}),o.jsxs("div",{className:"policy-section",children:[o.jsx("h5",{children:"General Hotel Policies"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Check-in/Check-out:"})," Check-in from 14:00, Check-out before 12:00. Early check-in (from 12:00) or late check-out (until 14:00) is subject to availability and may incur an additional fee of $20-$50 depending on the time."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"No Smoking:"})," Smoking is strictly prohibited in all rooms and public areas. A cleaning fee of $100 will be charged for violations, and guests may face immediate eviction without refund."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Pets:"})," Pets are not allowed unless they are registered service animals with prior written notice. A pet cleaning fee of $50 may apply if approval is granted."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Visitor Policy:"})," External visitors are not permitted in guest rooms after 22:00 without prior approval from hotel management."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Safety:"})," Guests are required to follow all safety protocols, including evacuation procedures during emergencies. Tampering with fire alarms or safety equipment will result in a $200 fine."]})]})]}),o.jsxs("div",{className:"policy-section",children:[o.jsx("h5",{children:"Deposit Policy"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Deposit Amount:"})," A 20% deposit of the total booking cost is required at the time of booking."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Payment Method:"})," Deposits must be paid via credit/debit card or bank transfer. Cash payments are not accepted for deposits."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Non-Refundable Cases:"})," The deposit is non-refundable in case of no-show or cancellation within 48 hours before check-in."]})]})]}),o.jsxs("div",{className:"policy-section",children:[o.jsx("h5",{children:"Cancellation Policy"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Free Cancellation:"})," Cancellations made more than 48 hours before the check-in date will receive a full refund of the deposit, minus a $10 processing fee."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Modification:"})," Changes to the booking (e.g., dates, room type) are subject to availability and may incur additional charges."]})]})]}),o.jsxs("div",{className:"policy-section",children:[o.jsx("h5",{children:"Additional Information"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Identification:"})," All guests must present a valid government-issued ID (passport, driverâ€™s license) upon check-in."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Children Policy:"})," Children under 12 years stay free when sharing a room with parents, using existing bedding."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Damage Policy:"})," Guests are liable for any damage caused to hotel property. Repair/replacement costs will be charged to the guestâ€™s account."]})]})]}),o.jsxs("div",{className:"form-check mt-4",children:[o.jsx("input",{type:"checkbox",className:"form-check-input",id:"confirmPolicy",checked:s,onChange:i=>n(i.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"confirmPolicy",children:"I have read and agree to the above policies"})]}),o.jsxs("div",{className:"mt-4 d-flex justify-content-between",children:[o.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>t(s),disabled:!s,children:"Confirm"})]})]})})};var YA={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(hl,function(){var s=1e3,n=6e4,i=36e5,a="millisecond",r="second",l="minute",c="hour",u="day",d="week",h="month",f="quarter",m="year",v="date",_="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var z=["th","st","nd","rd"],M=B%100;return"["+B+(z[(M-20)%10]||z[M]||z[0])+"]"}},b=function(B,z,M){var H=String(B);return!H||H.length>=z?B:""+Array(z+1-H.length).join(M)+B},w={s:b,z:function(B){var z=-B.utcOffset(),M=Math.abs(z),H=Math.floor(M/60),R=M%60;return(z<=0?"+":"-")+b(H,2,"0")+":"+b(R,2,"0")},m:function B(z,M){if(z.date()<M.date())return-B(M,z);var H=12*(M.year()-z.year())+(M.month()-z.month()),R=z.clone().add(H,h),V=M-R<0,P=z.clone().add(H+(V?-1:1),h);return+(-(H+(M-R)/(V?R-P:P-R))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:h,y:m,w:d,d:u,D:v,h:c,m:l,s:r,ms:a,Q:f}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},E="en",C={};C[E]=g;var T="$isDayjsObject",N=function(B){return B instanceof I||!(!B||!B[T])},A=function B(z,M,H){var R;if(!z)return E;if(typeof z=="string"){var V=z.toLowerCase();C[V]&&(R=V),M&&(C[V]=M,R=V);var P=z.split("-");if(!R&&P.length>1)return B(P[0])}else{var se=z.name;C[se]=z,R=se}return!H&&R&&(E=R),R||!H&&E},L=function(B,z){if(N(B))return B.clone();var M=typeof z=="object"?z:{};return M.date=B,M.args=arguments,new I(M)},D=w;D.l=A,D.i=N,D.w=function(B,z){return L(B,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var I=function(){function B(M){this.$L=A(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[T]=!0}var z=B.prototype;return z.parse=function(M){this.$d=function(H){var R=H.date,V=H.utc;if(R===null)return new Date(NaN);if(D.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var P=R.match(x);if(P){var se=P[2]-1||0,de=(P[7]||"0").substring(0,3);return V?new Date(Date.UTC(P[1],se,P[3]||1,P[4]||0,P[5]||0,P[6]||0,de)):new Date(P[1],se,P[3]||1,P[4]||0,P[5]||0,P[6]||0,de)}}return new Date(R)}(M),this.init()},z.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},z.$utils=function(){return D},z.isValid=function(){return this.$d.toString()!==_},z.isSame=function(M,H){var R=L(M);return this.startOf(H)<=R&&R<=this.endOf(H)},z.isAfter=function(M,H){return L(M)<this.startOf(H)},z.isBefore=function(M,H){return this.endOf(H)<L(M)},z.$g=function(M,H,R){return D.u(M)?this[H]:this.set(R,M)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(M,H){var R=this,V=!!D.u(H)||H,P=D.p(M),se=function(re,ge){var pe=D.w(R.$u?Date.UTC(R.$y,ge,re):new Date(R.$y,ge,re),R);return V?pe:pe.endOf(u)},de=function(re,ge){return D.w(R.toDate()[re].apply(R.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(ge)),R)},fe=this.$W,ae=this.$M,F=this.$D,ne="set"+(this.$u?"UTC":"");switch(P){case m:return V?se(1,0):se(31,11);case h:return V?se(1,ae):se(0,ae+1);case d:var X=this.$locale().weekStart||0,G=(fe<X?fe+7:fe)-X;return se(V?F-G:F+(6-G),ae);case u:case v:return de(ne+"Hours",0);case c:return de(ne+"Minutes",1);case l:return de(ne+"Seconds",2);case r:return de(ne+"Milliseconds",3);default:return this.clone()}},z.endOf=function(M){return this.startOf(M,!1)},z.$set=function(M,H){var R,V=D.p(M),P="set"+(this.$u?"UTC":""),se=(R={},R[u]=P+"Date",R[v]=P+"Date",R[h]=P+"Month",R[m]=P+"FullYear",R[c]=P+"Hours",R[l]=P+"Minutes",R[r]=P+"Seconds",R[a]=P+"Milliseconds",R)[V],de=V===u?this.$D+(H-this.$W):H;if(V===h||V===m){var fe=this.clone().set(v,1);fe.$d[se](de),fe.init(),this.$d=fe.set(v,Math.min(this.$D,fe.daysInMonth())).$d}else se&&this.$d[se](de);return this.init(),this},z.set=function(M,H){return this.clone().$set(M,H)},z.get=function(M){return this[D.p(M)]()},z.add=function(M,H){var R,V=this;M=Number(M);var P=D.p(H),se=function(ae){var F=L(V);return D.w(F.date(F.date()+Math.round(ae*M)),V)};if(P===h)return this.set(h,this.$M+M);if(P===m)return this.set(m,this.$y+M);if(P===u)return se(1);if(P===d)return se(7);var de=(R={},R[l]=n,R[c]=i,R[r]=s,R)[P]||1,fe=this.$d.getTime()+M*de;return D.w(fe,this)},z.subtract=function(M,H){return this.add(-1*M,H)},z.format=function(M){var H=this,R=this.$locale();if(!this.isValid())return R.invalidDate||_;var V=M||"YYYY-MM-DDTHH:mm:ssZ",P=D.z(this),se=this.$H,de=this.$m,fe=this.$M,ae=R.weekdays,F=R.months,ne=R.meridiem,X=function(ge,pe,be,Ee){return ge&&(ge[pe]||ge(H,V))||be[pe].slice(0,Ee)},G=function(ge){return D.s(se%12||12,ge,"0")},re=ne||function(ge,pe,be){var Ee=ge<12?"AM":"PM";return be?Ee.toLowerCase():Ee};return V.replace(y,function(ge,pe){return pe||function(be){switch(be){case"YY":return String(H.$y).slice(-2);case"YYYY":return D.s(H.$y,4,"0");case"M":return fe+1;case"MM":return D.s(fe+1,2,"0");case"MMM":return X(R.monthsShort,fe,F,3);case"MMMM":return X(F,fe);case"D":return H.$D;case"DD":return D.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return X(R.weekdaysMin,H.$W,ae,2);case"ddd":return X(R.weekdaysShort,H.$W,ae,3);case"dddd":return ae[H.$W];case"H":return String(se);case"HH":return D.s(se,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return re(se,de,!0);case"A":return re(se,de,!1);case"m":return String(de);case"mm":return D.s(de,2,"0");case"s":return String(H.$s);case"ss":return D.s(H.$s,2,"0");case"SSS":return D.s(H.$ms,3,"0");case"Z":return P}return null}(ge)||P.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(M,H,R){var V,P=this,se=D.p(H),de=L(M),fe=(de.utcOffset()-this.utcOffset())*n,ae=this-de,F=function(){return D.m(P,de)};switch(se){case m:V=F()/12;break;case h:V=F();break;case f:V=F()/3;break;case d:V=(ae-fe)/6048e5;break;case u:V=(ae-fe)/864e5;break;case c:V=ae/i;break;case l:V=ae/n;break;case r:V=ae/s;break;default:V=ae}return R?V:D.a(V)},z.daysInMonth=function(){return this.endOf(h).$D},z.$locale=function(){return C[this.$L]},z.locale=function(M,H){if(!M)return this.$L;var R=this.clone(),V=A(M,H,!0);return V&&(R.$L=V),R},z.clone=function(){return D.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},B}(),q=I.prototype;return L.prototype=q,[["$ms",a],["$s",r],["$m",l],["$H",c],["$W",u],["$M",h],["$y",m],["$D",v]].forEach(function(B){q[B[1]]=function(z){return this.$g(z,B[0],B[1])}}),L.extend=function(B,z){return B.$i||(B(z,I,L),B.$i=!0),L},L.locale=A,L.isDayjs=N,L.unix=function(B){return L(1e3*B)},L.en=C[E],L.Ls=C,L.p={},L})})(YA);var b5=YA.exports;const Je=Zm(b5);var ux={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.getLocalTimezone=On.INT=On.PI=void 0;On.PI=Math.PI;function v5(t){return Math.floor(t)}On.INT=v5;function _5(){return-(new Date().getTimezoneOffset()/60)}On.getLocalTimezone=_5;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.jdToDate=ho.jdFromDate=void 0;const Ns=On;function x5(t,e,s){const n=(0,Ns.INT)((14-e)/12),i=s+4800-n,a=e+12*n-3;let r=t+(0,Ns.INT)((153*a+2)/5)+365*i+(0,Ns.INT)(i/4)-(0,Ns.INT)(i/100)+(0,Ns.INT)(i/400)-32045;return r<2299161&&(r=t+(0,Ns.INT)((153*a+2)/5)+365*i+(0,Ns.INT)(i/4)-32083),r}ho.jdFromDate=x5;function w5(t){let e,s,n;t>2299160?(e=t+32044,s=(0,Ns.INT)((4*e+3)/146097),n=e-(0,Ns.INT)(s*146097/4)):(s=0,n=t+32082);const i=(0,Ns.INT)((4*n+3)/1461),a=n-(0,Ns.INT)(1461*i/4),r=(0,Ns.INT)((5*a+2)/153),l=a-(0,Ns.INT)((153*r+2)/5)+1,c=r+3-12*(0,Ns.INT)(r/10),u=s*100+i-4800+(0,Ns.INT)(r/10);return new Date(u,c-1,l)}ho.jdToDate=w5;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.getNewMoon=fo.NewMoon=void 0;const GA=On;function KA(t){const e=t/1236.85,s=e*e,n=s*e,i=GA.PI/180;let a=241502075933e-5+29.53058868*t+1178e-7*s-155e-9*n;a=a+33e-5*Math.sin((166.56+132.87*e-.009173*s)*i);const r=359.2242+29.10535608*t-333e-7*s-347e-8*n,l=306.0253+385.81691806*t+.0107306*s+1236e-8*n,c=21.2964+390.67050646*t-.0016528*s-239e-8*n;let u;u=(.1734-393e-6*e)*Math.sin(r*i)+.0021*Math.sin(2*i*r),u=u-.4068*Math.sin(l*i)+.0161*Math.sin(i*2*l),u=u-4e-4*Math.sin(i*3*l),u=u+.0104*Math.sin(i*2*c)-.0051*Math.sin(i*(r+l)),u=u-.0074*Math.sin(i*(r-l))+4e-4*Math.sin(i*(2*c+r)),u=u-4e-4*Math.sin(i*(2*c-r))-6e-4*Math.sin(i*(2*c+l)),u=u+.001*Math.sin(i*(2*c-l))+5e-4*Math.sin(i*(2*l+r));let d,h;return e<-11?d=.001+839e-6*e+2261e-7*s-845e-8*n-81e-9*e*n:d=-278e-6+265e-6*e+262e-6*s,h=a+u-d,h}fo.NewMoon=KA;function S5(t,e){return(0,GA.INT)(KA(t)+.5+e/24)}fo.getNewMoon=S5;var Jl={},Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.getSunLongitude=Zl.sunLongitude=void 0;const El=On;function XA(t){const e=(t-2451545)/36525,s=e*e,n=El.PI/180,i=357.5291+35999.0503*e-1559e-7*s-48e-8*e*s,a=280.46645+36000.76983*e+3032e-7*s;let r=(1.9146-.004817*e-14e-6*s)*Math.sin(n*i);r=r+(.019993-101e-6*e)*Math.sin(n*2*i)+29e-5*Math.sin(n*3*i);let l=a+r;return l=l*n,l=l-El.PI*2*(0,El.INT)(l/(El.PI*2)),l}Zl.sunLongitude=XA;function j5(t,e){return(0,El.INT)(XA(t-.5-e/24)/El.PI*6)}Zl.getSunLongitude=j5;Object.defineProperty(Jl,"__esModule",{value:!0});Jl.getLeapMonthOffset=Jl.getLunarMonth11=void 0;const QA=On,E5=ho,km=fo,mv=Zl;function N5(t,e){const s=(0,E5.jdFromDate)(31,12,t)-2415021,n=(0,QA.INT)(s/29.530588853),i=(0,km.getNewMoon)(n,e);return(0,mv.getSunLongitude)(i,e)>=9?(0,km.getNewMoon)(n-1,e):i}Jl.getLunarMonth11=N5;function T5(t,e){const s=(0,QA.INT)((t-2415021076998695e-9)/29.530588853+.5);let n=0,i=1,a=(0,mv.getSunLongitude)((0,km.getNewMoon)(s+i,e),e);do i++,n=a,a=(0,mv.getSunLongitude)((0,km.getNewMoon)(s+i,e),e);while(a!=n&&i<14);return i-1}Jl.getLeapMonthOffset=T5;Object.defineProperty(ux,"__esModule",{value:!0});var pv=ux.convertLunar2Solar=void 0;const C5=On,k5=ho,A5=fo,qc=Jl;function O5(t,e,s,n,i){let a,r,l,c,u;e<11?(a=(0,qc.getLunarMonth11)(s-1,i),r=(0,qc.getLunarMonth11)(s,i)):(a=(0,qc.getLunarMonth11)(s,i),r=(0,qc.getLunarMonth11)(s+1,i));const d=(0,C5.INT)(.5+(a-2415021076998695e-9)/29.530588853);if(l=e-11,l<0&&(l+=12),r-a>365){if(c=(0,qc.getLeapMonthOffset)(a,i),u=c-2,u<0&&(u+=12),n!=0&&e!=u)return new Array(0,0,0);(n!=0||l>=c)&&(l+=1)}const h=(0,A5.getNewMoon)(d+l,i);return(0,k5.jdToDate)(h+t-1)}pv=ux.convertLunar2Solar=O5;const kj=t=>[`${t}-01-01`,`${t}-04-30`,`${t}-05-01`,`${t}-09-02`],Aj=t=>{if(!t||isNaN(t))return console.warn("Invalid year provided to getLunarHolidays:",t),[];if(typeof pv!="function")return console.error("convertLunar2Solar is not a function. Check vietnamese-lunar-calendar import."),[];const e=[...Array.from({length:5},(n,i)=>({lunarMonth:1,lunarDay:i+1})),{lunarMonth:3,lunarDay:10}],s=[];return e.forEach(({lunarMonth:n,lunarDay:i})=>{try{const a=pv(i,n,t,0,7);if(a instanceof Date&&!isNaN(a.getTime())){const r=Je(a).format("YYYY-MM-DD");s.push(r)}else console.warn(`Invalid solar conversion for ${i}/${n}/${t}:`,a)}catch(a){console.warn(`Cannot convert lunar date ${i}/${n}/${t}: ${a.message}`)}}),s},nd=(t,e)=>{if(!e||!Je(e).isValid())return console.warn("Invalid date string provided to PriceHolidayTet:",e),t;const s=Je(e),n=s.year(),i=s.day(),a=[...kj(n),...kj(n+1)],r=[...Aj(n-1),...Aj(n)],l=[...new Set([...a,...r])],c=i===5||i===6,u=l.includes(s.format("YYYY-MM-DD")),d=s.subtract(1,"day").format("YYYY-MM-DD"),h=s.add(1,"day").format("YYYY-MM-DD"),f=l.includes(d)||l.includes(h);let m=t;return u||f?m*=1.5:c&&(m*=1.2),Math.round(m)};function Np(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s}function D5(t,e,s,n){function i(a){return a instanceof s?a:new s(function(r){r(a)})}return new(s||(s=Promise))(function(a,r){function l(d){try{u(n.next(d))}catch(h){r(h)}}function c(d){try{u(n.throw(d))}catch(h){r(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}const M5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class dx extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class R5 extends dx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Oj extends dx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Dj extends dx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gv||(gv={}));class P5{constructor(e,{headers:s={},customFetch:n,region:i=gv.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=M5(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return D5(this,arguments,void 0,function*(s,n={}){var i;let a,r;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${s}`);m&&m!=="any"&&(f["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let _;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(f["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(f["Content-Type"]="application/json",_=JSON.stringify(u)):_=u;let x=d;h&&(r=new AbortController,a=setTimeout(()=>r.abort(),h),d?(x=r.signal,d.addEventListener("abort",()=>r.abort())):x=r.signal);const y=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:_,signal:x}).catch(E=>{throw new R5(E)}),g=y.headers.get("x-relay-error");if(g&&g==="true")throw new Oj(y);if(!y.ok)throw new Dj(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield y.json():b==="application/octet-stream"||b==="application/pdf"?w=yield y.blob():b==="text/event-stream"?w=y:b==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Dj||l instanceof Oj?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var L5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},$5=class{constructor(t){var e,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let r=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var h,f;if(s.method!=="HEAD"){var m;const y=await a.text();y===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((m=s.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const _=(h=s.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&x&&x.length>1&&(c=parseInt(x[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(l)&&(l.length>1?(r={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const _=await a.text();try{r=JSON.parse(_),Array.isArray(r)&&a.status===404&&(l=[],r=null,u=200,d="OK")}catch{a.status===404&&_===""?(u=204,d="No Content"):r={message:_}}if(r&&s.isMaybeSingle&&(!(r==null||(v=r.details)===null||v===void 0)&&v.includes("0 rows"))&&(r=null,u=200,d="OK"),r&&s.shouldThrowOnError)throw new L5(r)}return{error:r,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var r;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,h,f;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",_=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${v}`,_&&(l+=` (${_})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(r=a==null?void 0:a.name)!==null&&r!==void 0?r:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},I5=class extends $5{select(t){let e=!1;const s=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",r=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${r?`${r},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var r;const l=[t?"analyze":null,e?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(r=this.headers.get("Accept"))!==null&&r!==void 0?r:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Mj=new RegExp("[,()]");var rl=class extends I5{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map(n=>typeof n=="string"&&Mj.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}notIn(t,e){const s=Array.from(new Set(e)).map(n=>typeof n=="string"&&Mj.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}},B5=class{constructor(t,{headers:e={},schema:s,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=s,this.fetch=n}select(t,e){const{head:s=!1,count:n}=e??{},i=s?"HEAD":"GET";let a=!1;const r=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),n&&this.headers.append("Prefer",`count=${n}`),new rl({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:s=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((r,l)=>r.concat(Object.keys(l)),[]);if(a.length>0){const r=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",r.join(","))}}return new rl({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){var a;const r="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new rl({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var s;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new rl({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var e;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new rl({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},z5=class JA{constructor(e,{headers:s={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(s),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new B5(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new JA(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:i=!1,count:a}={}){var r;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(s).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=s);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new rl({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};class H5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const F5="2.89.0",U5=`realtime-js/${F5}`,ZA="1.0.0",V5="2.0.0",Rj=ZA,yv=1e4,q5=1e3,W5=100;var Ca;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ca||(Ca={}));var Xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xt||(Xt={}));var Yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Yn||(Yn={}));var bv;(function(t){t.websocket="websocket"})(bv||(bv={}));var Ir;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ir||(Ir={}));class Y5{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,n;const i=(n=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var s,n;const i=(n=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:{},r=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,r)}_encodeUserBroadcastPush(e,s,n){var i,a;const r=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(r.length>255)throw new Error(`topic length ${r.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+r.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(m),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,c.length),v.setUint8(_++,l.length),v.setUint8(_++,r.length),v.setUint8(_++,u.length),v.setUint8(_++,h.length),v.setUint8(_++,s),Array.from(c,y=>v.setUint8(_++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(_++,y.charCodeAt(0))),Array.from(r,y=>v.setUint8(_++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(_++,y.charCodeAt(0))),Array.from(h,y=>v.setUint8(_++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(e,s){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return s(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,r,l,c]=n;return s({join_ref:i,ref:a,topic:r,event:l,payload:c})}return s({})}_binaryDecode(e){const s=new DataView(e),n=s.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,i)}}_decodeUserBroadcast(e,s,n){const i=s.getUint8(1),a=s.getUint8(2),r=s.getUint8(3),l=s.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+i));c=c+i;const d=n.decode(e.slice(c,c+a));c=c+a;const h=n.decode(e.slice(c,c+r));c=c+r;const f=e.slice(c,e.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:m};return r>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>s.includes(n)))}}class eO{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jt||(jt={}));const Pj=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,r)=>(a[r]=G5(r,t,e,i),a),{}):{}},G5=(t,e,s,n)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,r=s[t];return a&&!n.includes(a)?tO(a,r):vv(r)},tO=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return J5(e,s)}switch(t){case jt.bool:return K5(e);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return X5(e);case jt.json:case jt.jsonb:return Q5(e);case jt.timestamp:return Z5(e);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return vv(e);default:return vv(e)}},vv=t=>t,K5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},X5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},J5=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let a;const r=t.slice(1,s);try{a=JSON.parse("["+r+"]")}catch{a=r?r.split(","):[]}return a.map(l=>tO(e,l))}return t},Z5=t=>typeof t=="string"?t.replace(" ","T"):t,sO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class by{constructor(e,s,n={},i=yv){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lj;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lj||(Lj={}));class Au{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Au.syncState(this.state,i,a,r),this.pendingDiffs.forEach(c=>{this.state=Au.syncDiff(this.state,c,a,r)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Au.syncDiff(this.state,i,a,r),l())}),this.onJoin((i,a,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:r})}),this.onLeave((i,a,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const a=this.cloneDeep(e),r=this.transformState(s),l={},c={};return this.map(a,(u,d)=>{r[u]||(c[u]=d)}),this.map(r,(u,d)=>{const h=a[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),v=d.filter(x=>m.indexOf(x.presence_ref)<0),_=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),_.length>0&&(c[u]=_)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,s,n,i){const{joins:a,leaves:r}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(r,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $j;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($j||($j={}));var Ou;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ou||(Ou={}));var qi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qi||(qi={}));class Nl{constructor(e,s={config:{}},n){var i,a;if(this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new by(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new eO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Au(this),this.broadcastEndpointURL=sO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:r,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ou.PRESENCE]&&this.bindings[Ou.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(qi.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(qi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(qi.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,y=[];for(let g=0;g<x;g++){const b=_[g],{filter:{event:w,schema:E,table:C,filter:T}}=b,N=m&&m[g];if(N&&N.event===w&&Nl.isFilterValueEqual(N.schema,E)&&Nl.isFilterValueEqual(N.table,C)&&Nl.isFilterValueEqual(N.filter,T))y.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=Xt.errored,e==null||e(qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(qi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Xt.errored,e==null||e(qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===Xt.joined&&e===Ou.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,n)}async httpSend(e,s,n={}){var i;if(s==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const r={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:r}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var r,l,c;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new by(this,Yn.leave,{},e),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xt.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),r=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),r}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new by(this,e,s,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>W5){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,a;const r=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Yn;if(n&&[l,c,u,d].indexOf(r)>=0&&n!==this._joinRef())return;let f=this._onMessage(r,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,_,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(_=m.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===r}).map(m=>m.callback(f,n)):(a=this.bindings[r])===null||a===void 0||a.filter(m=>{var v,_,x,y,g,b;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const w=m.id,E=(v=m.filter)===null||v===void 0?void 0:v.event;return w&&((_=s.ids)===null||_===void 0?void 0:_.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:_,table:x,commit_timestamp:y,type:g,errors:b}=v;f=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:y,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(f,n)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),a={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Nl.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yn.close,{},e)}_onError(e){this._on(Yn.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Pj(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Pj(e.columns,e.old_record)),s}}const vy=()=>{},zh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eH=[1e3,2e3,5e3,1e4],tH=1e4,sH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nH{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yv,this.transport=null,this.heartbeatIntervalMs=zh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vy,this.ref=0,this.reconnectTimer=null,this.vsn=Rj,this.logger=vy,this.conn=null,this.sendBuffer=[],this.serializer=new Y5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${bv.websocket}`,this.httpEndpoint=sO(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ca.connecting:return Ir.Connecting;case Ca.open:return Ir.Open;case Ca.closing:return Ir.Closing;default:return Ir.Closed}}isConnected(){return this.connectionState()===Ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Nl(`realtime:${e}`,s,this);return this.channels.push(a),a}}push(e){const{topic:s,event:n,payload:i,ref:a}=e,r=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${a})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(q5,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},zh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:r}=s,l=r?`(${r})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,r)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ca.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ca.open||this.conn.readyState===Ca.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yn.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([sH],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,n=!1;if(e)s=e,n=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),s=this.accessTokenValue}else s=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const a={access_token:s,version:U5};s&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Yn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new eO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,i,a,r,l,c,u,d,h,f,m;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:yv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:zh.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(r=e==null?void 0:e.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:vy,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Rj,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>eH[v-1]||tH,this.vsn){case ZA:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,_)=>_(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,_)=>_(JSON.parse(v));break;case V5:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var id=class extends Error{constructor(t,e){var s;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((s=e.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iH(t,e,s){const n=new URL(e,t);if(s)for(const[i,a]of Object.entries(s))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function aH(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function rH(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:n,query:i,body:a,headers:r}){const l=iH(t.baseUrl,n,i),c=await aH(t.auth),u=await e(l,{method:s,headers:{...a?{"Content-Type":"application/json"}:{},...c,...r},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,v=m==null?void 0:m.error;throw new id((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Hh(t){return t.join("")}var oH=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Hh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hh(t.namespace)}`}),!0}catch(e){if(e instanceof id&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof id&&s.status===409)return;throw s}}};function Ho(t){return t.join("")}var lH=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof id&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof id&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},cH=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=rH({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new oH(this.client,e),this.tableOps=new lH(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Tp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var uH=class extends Tp{constructor(t,e,s){super(t),this.name="StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_v=class extends Tp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const hx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dH=()=>Response,xv=t=>{if(Array.isArray(t))return t.map(s=>xv(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=xv(n)}),e},hH=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fH=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function mH(t,e){if(ad(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pH(t){var e=mH(t,"string");return ad(e)=="symbol"?e:e+""}function gH(t,e,s){return(e=pH(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Ij(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,n)}return s}function Me(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(s),!0).forEach(function(n){gH(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ij(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}const _y=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},yH=async(t,e,s)=>{t instanceof await dH()&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const i=t.status||500,a=(n==null?void 0:n.statusCode)||i+"";e(new uH(_y(n),i,a))}).catch(n=>{e(new _v(_y(n),n))}):e(new _v(_y(t),t))},bH=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(hH(n)?(i.headers=Me({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Me(Me({},i),s))};async function zd(t,e,s,n,i,a){return new Promise((r,l)=>{t(s,bH(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>r(c)).catch(c=>yH(c,l,n))})}async function rd(t,e,s,n){return zd(t,"GET",e,s,n)}async function qn(t,e,s,n,i){return zd(t,"POST",e,n,i,s)}async function wv(t,e,s,n,i){return zd(t,"PUT",e,n,i,s)}async function vH(t,e,s,n){return zd(t,"HEAD",e,Me(Me({},s),{},{noResolveJson:!0}),n)}async function fx(t,e,s,n,i){return zd(t,"DELETE",e,n,i,s)}var _H=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Pt(e))return{data:null,error:e};throw e}}};let nO;nO=Symbol.toStringTag;var xH=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[nO]="BlobDownloadBuilder",this.promise=null}asStream(){return new _H(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Pt(e))return{data:null,error:e};throw e}}};const wH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var SH=class{constructor(t,e={},s,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=s,this.fetch=hx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,s,n){var i=this;try{let a;const r=Me(Me({},Bj),n);let l=Me(Me({},i.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const c=r.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",r.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",r.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!r.duplex&&(r.duplex="half")),n!=null&&n.headers&&(l=Me(Me({},l),n.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),h=await(t=="PUT"?wv:qn)(i.fetch,`${i.url}/object/${d}`,a,Me({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Pt(a))return{data:null,error:a};throw a}}async upload(t,e,s){return this.uploadOrUpdate("POST",t,e,s)}async uploadToSignedUrl(t,e,s,n){var i=this;const a=i._removeEmptyFolders(t),r=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${r}`);l.searchParams.set("token",e);try{let c;const u=Me({upsert:Bj.upsert},n),d=Me(Me({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await wv(i.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Pt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var s=this;try{let n=s._getFinalPath(t);const i=Me({},s.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await qn(s.fetch,`${s.url}/object/upload/sign/${n}`,{},{headers:i}),r=new URL(s.url+a.url),l=r.searchParams.get("token");if(!l)throw new Tp("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async update(t,e,s){return this.uploadOrUpdate("PUT",t,e,s)}async move(t,e,s){var n=this;try{return{data:await qn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async copy(t,e,s){var n=this;try{return{data:{path:(await qn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,s){var n=this;try{let i=n._getFinalPath(t),a=await qn(n.fetch,`${n.url}/object/sign/${i}`,Me({expiresIn:e},s!=null&&s.transform?{transform:s.transform}:{}),{headers:n.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${r}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,s){var n=this;try{const i=await qn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(r=>Me(Me({},r),{},{signedUrl:r.signedURL?encodeURI(`${n.url}${r.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}download(t,e){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),r=()=>rd(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new xH(r,this.shouldThrowOnError)}async info(t){var e=this;const s=e._getFinalPath(t);try{return{data:xv(await rd(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const s=e._getFinalPath(t);try{return await vH(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pt(n)&&n instanceof _v){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const s=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});r!==""&&n.push(r);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${l}`)}}}async remove(t){var e=this;try{return{data:await fx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}async list(t,e,s){var n=this;try{const i=Me(Me(Me({},wH),e),{},{prefix:t||""});return{data:await qn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},s),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}}async listV2(t,e){var s=this;try{const n=Me({},t);return{data:await qn(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,n,{headers:s.headers},e),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const iO="2.89.0",aO={"X-Client-Info":`storage-js/${iO}`};var jH=class{constructor(t,e={},s,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Me(Me({},aO),e),this.fetch=hx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const s=e.listBucketOptionsToQueryString(t);return{data:await rd(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}async getBucket(t){var e=this;try{return{data:await rd(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}async createBucket(t,e={public:!1}){var s=this;try{return{data:await qn(s.fetch,`${s.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var s=this;try{return{data:await wv(s.fetch,`${s.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}async deleteBucket(t){var e=this;try{return{data:await fx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},EH=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},aO),e),this.fetch=hx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}async listBuckets(t){var e=this;try{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const n=s.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await rd(e.fetch,i,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}async deleteBucket(t){var e=this;try{return{data:await fx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}}from(t){var e=this;if(!fH(t))throw new Tp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new cH({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(s,{get(i,a){const r=i[a];return typeof r!="function"?r:async(...l)=>{try{return{data:await r.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const mx={"X-Client-Info":`storage-js/${iO}`,"Content-Type":"application/json"};var rO=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function sn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var xy=class extends rO{constructor(t,e,s){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},NH=class extends rO{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const px=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),TH=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zj=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CH=async(t,e,s)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(s!=null&&s.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const r=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";e(new xy(zj(a),n,r))}).catch(()=>{const a=n+"";e(new xy(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";e(new xy(i.statusText||`HTTP ${n} error`,n,a))}}else e(new NH(zj(t),t))},kH=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(TH(n)?(i.headers=Me({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Me(Me({},i),s)):i};async function AH(t,e,s,n,i,a){return new Promise((r,l)=>{t(s,kH(e,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>r(c)).catch(c=>CH(c,l,n))})}async function nn(t,e,s,n,i){return AH(t,"POST",e,n,i,s)}var OH=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},mx),e),this.fetch=px(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async getIndex(t,e){var s=this;try{return{data:await nn(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async deleteIndex(t,e){var s=this;try{return{data:await nn(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}}},DH=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},mx),e),this.fetch=px(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await nn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async getVectors(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await nn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async queryVectors(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await nn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}},MH=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},mx),e),this.fetch=px(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async getBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async listBuckets(t={}){var e=this;try{return{data:await nn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}async deleteBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}}},RH=class extends MH{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new PH(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,s=this;return e().call(s,t)}async getBucket(t){var e=()=>super.getBucket,s=this;return e().call(s,t)}async listBuckets(t={}){var e=()=>super.listBuckets,s=this;return e().call(s,t)}async deleteBucket(t){var e=()=>super.deleteBucket,s=this;return e().call(s,t)}},PH=class extends OH{constructor(t,e,s,n){super(t,e,n),this.vectorBucketName=s}async createIndex(t){var e=()=>super.createIndex,s=this;return e().call(s,Me(Me({},t),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,s=this;return e().call(s,Me(Me({},t),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,t)}index(t){return new LH(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},LH=class extends DH{constructor(t,e,s,n,i){super(t,e,i),this.vectorBucketName=s,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,s=this;return e().call(s,Me(Me({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(t){var e=()=>super.getVectors,s=this;return e().call(s,Me(Me({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,s=this;return e().call(s,Me(Me({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,s=this;return e().call(s,Me(Me({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,s=this;return e().call(s,Me(Me({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},$H=class extends jH{constructor(t,e={},s,n){super(t,e,s,n)}from(t){return new SH(this.url,this.headers,t,this.fetch)}get vectors(){return new RH(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new EH(this.url+"/iceberg",this.headers,this.fetch)}};const oO="2.89.0",ol=30*1e3,Sv=3,wy=Sv*ol,IH="http://localhost:9999",BH="supabase.auth.token",zH={"X-Client-Info":`gotrue-js/${oO}`},jv="X-Supabase-Api-Version",lO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FH=10*60*1e3;class od extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class UH extends od{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function VH(t){return ke(t)&&t.name==="AuthApiError"}class Br extends od{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ha extends od{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class Qs extends ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qH(t){return ke(t)&&t.name==="AuthSessionMissingError"}class Fo extends ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fh extends ha{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uh extends ha{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WH(t){return ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hj extends ha{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YH extends ha{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ev extends ha{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Sy(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class Fj extends ha{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Nv extends ha{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Am="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uj=` 	
\r=`.split(""),GH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uj.length;e+=1)t[Uj[e].charCodeAt(0)]=-2;for(let e=0;e<Am.length;e+=1)t[Am[e].charCodeAt(0)]=e;return t})();function Vj(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Am[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Am[n]),e.queuedBits-=6}}function cO(t,e,s){const n=GH[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function qj(t){const e=[],s=r=>{e.push(String.fromCodePoint(r))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=r=>{QH(r,n,s)};for(let r=0;r<t.length;r+=1)cO(t.charCodeAt(r),i,a);return e.join("")}function KH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XH(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}KH(n,e)}}function QH(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function $l(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)cO(t.charCodeAt(i),s,n);return new Uint8Array(e)}function JH(t){const e=[];return XH(t,s=>e.push(s)),new Uint8Array(e)}function Hr(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Vj(i,s,n)),Vj(null,s,n),e.join("")}function ZH(t){return Math.round(Date.now()/1e3)+t}function eF(){return Symbol("auth-callback")}const us=()=>typeof window<"u"&&typeof document<"u",Nr={tested:!1,writable:!1},uO=()=>{if(!us())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nr.tested)return Nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Nr.tested=!0,Nr.writable=!0}catch{Nr.tested=!0,Nr.writable=!1}return Nr.writable};function tF(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const dO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ll=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Tr=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ls=async(t,e)=>{await t.removeItem(e)};class Cp{constructor(){this.promise=new Cp.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Cp.promiseConstructor=Promise;function jy(t){const e=t.split(".");if(e.length!==3)throw new Nv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!HH.test(e[n]))throw new Nv("JWT not in base64url format");return{header:JSON.parse(qj(e[0])),payload:JSON.parse(qj(e[1])),signature:$l(e[2]),raw:{header:e[0],payload:e[1]}}}async function nF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const r=await t(a);if(!e(a,null,r)){n(r);return}}catch(r){if(!e(a,r)){i(r);return}}})()})}function aF(t){return("0"+t.toString(16)).substr(-2)}function rF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,aF).join("")}async function oF(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await oF(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uo(t,e,s=!1){const n=rF();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await ll(t,`${e}-code-verifier`,i);const a=await lF(n);return[a,n===a?"plain":"s256"]}const cF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uF(t){const e=t.headers.get(jv);if(!e||!e.match(cF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vo(t){if(!fF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ey(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mF(t,e){return new Proxy(t,{get:(s,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,n,i)}})}function Wj(t){return JSON.parse(JSON.stringify(t))}const Rr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pF=[502,503,504];async function Yj(t){var e;if(!sF(t))throw new Ev(Rr(t),0);if(pF.includes(t.status))throw new Ev(Rr(t),t.status);let s;try{s=await t.json()}catch(a){throw new Br(Rr(a),a)}let n;const i=uF(t);if(i&&i.getTime()>=lO["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Fj(Rr(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0))throw new Fj(Rr(s),t.status,s.weak_password.reasons);throw new UH(Rr(s),t.status||500,n)}const gF=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function De(t,e,s,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[jv]||(a[jv]=lO["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const r=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(r.redirect_to=n.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",c=await yF(t,e,s+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function yF(t,e,s,n,i,a){const r=gF(e,n,i,a);let l;try{l=await t(s,Object.assign({},r))}catch(c){throw console.error(c),new Ev(Rr(c),0)}if(l.ok||await Yj(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Yj(c)}}function Vn(t){var e;let s=null;_F(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=ZH(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Gj(t){const e=Vn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ra(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bF(t){return{data:t,error:null}}function vF(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a}=t,r=Np(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},r);return{data:{properties:l,user:c},error:null}}function Kj(t){return t}function _F(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ny=["global","local","others"];class xF{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=dO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Ny[0]){if(Ny.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ny.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ra})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Np(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vF,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ke(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ra})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,a,r,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Kj});if(d.error)throw d.error;const h=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Vo(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ra})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Vo(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ra})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){Vo(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ra})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Vo(e.userId);try{const{data:s,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(ke(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Vo(e.userId),Vo(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,n,i,a,r,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Kj});if(d.error)throw d.error;const h=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ke(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ke(s))return{data:null,error:s};throw s}}}function Xj(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const qo={debug:!!(globalThis&&uO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wF extends hO{}async function SF(t,e,s){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function jF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function EF(t){return parseInt(t,16)}function NF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function TF(t){var e;const{chainId:s,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:r,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=fO(t.address),v=d?`${d}://${n}`:n,_=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${_}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${s}${r?`
Nonce: ${r}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}y+=g}return`${x}
${y}`}class qt extends Error{constructor({message:e,code:s,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=s}}class Om extends qt{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function CF({error:t,options:e}){var s,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new qt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(mO(r)){if(a.rp.id!==r)return new qt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kF({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new qt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(mO(n)){if(s.rpId!==n)return new qt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class AF{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const OF=new AF;function DF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:n}=t,i=Np(t,["challenge","user","excludeCredentials"]),a=$l(e).buffer,r=Object.assign(Object.assign({},s),{id:$l(s.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:r});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:$l(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function MF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,n=Np(t,["challenge","allowCredentials"]),i=$l(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(s&&s.length>0){a.allowCredentials=new Array(s.length);for(let r=0;r<s.length;r++){const l=s[r];a.allowCredentials[r]=Object.assign(Object.assign({},l),{id:$l(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function RF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:Hr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Hr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function PF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Hr(new Uint8Array(i.authenticatorData)),clientDataJSON:Hr(new Uint8Array(i.clientDataJSON)),signature:Hr(new Uint8Array(i.signature)),userHandle:i.userHandle?Hr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Qj(){var t,e;return!!(us()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Om("Browser returned unexpected credential type",e)}:{data:null,error:new Om("Empty credential response",e)}}catch(e){return{data:null,error:CF({error:e,options:t})}}}async function $F(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Om("Browser returned unexpected credential type",e)}:{data:null,error:new Om("Empty credential response",e)}}catch(e){return{data:null,error:kF({error:e,options:t})}}}const IF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dm(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),s=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const r=i[a];if(r!==void 0)if(Array.isArray(r))n[a]=r;else if(s(r))n[a]=r;else if(e(r)){const l=n[a];e(l)?n[a]=Dm(l,r):n[a]=Dm(r)}else n[a]=r}return n}function zF(t,e){return Dm(IF,t,e||{})}function HF(t,e){return Dm(BF,t,e||{})}class FF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:n,signal:i},a){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!r)return{data:null,error:l};const c=i??OF.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=zF(r.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await LF({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=HF(r.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await $F(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(r){return ke(r)?{data:null,error:r}:{data:null,error:new Br("Unexpected error in challenge",r)}}}async _verify({challengeId:e,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!s)return{data:null,error:new od("rpId is required for WebAuthn authentication")};try{if(!Qj())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:n},signal:i},{request:a});if(!r)return{data:null,error:l};const{webauthn:c}=r;return this._verify({factorId:e,challengeId:r.challengeId,webauthn:{type:c.type,rpId:s,rpOrigins:n,credential_response:c.credential_response}})}catch(r){return ke(r)?{data:null,error:r}:{data:null,error:new Br("Unexpected error in authenticate",r)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!s)return{data:null,error:new od("rpId is required for WebAuthn registration")};try{if(!Qj())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:e});if(!r)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:r.id,challengeId:c.challengeId,webauthn:{rpId:s,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(r){return ke(r)?{data:null,error:r}:{data:null,error:new Br("Unexpected error in register",r)}}}}jF();const UF={url:IH,storageKey:BH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jj(t,e,s){return await s()}const Wo={};class ld{get jwks(){var e,s;return(s=(e=Wo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Wo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{cachedAt:e})}constructor(e){var s,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},UF),e);if(this.storageKey=a.storageKey,this.instanceID=(s=ld.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,ld.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&us()){const r=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(r),this.logDebugMessages&&console.trace(r)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new xF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dO(a.fetch),this.lock=a.lock||Jj,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&us()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=SF:this.lock=Jj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:uO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xj(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Xj(this.memoryStorage)),us()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${oO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},n="none";if(us()&&(s=tF(window.location.href),this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce")),us()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),WH(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ke(s)?this._returnResult({error:s}):this._returnResult({error:new Br("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Vn}),{data:r,error:l}=a;if(l||!r)return this._returnResult({data:{user:null,session:null},error:l});const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var s,n,i;try{let a;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Uo(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:Vn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Vn})}else throw new Fh("You must provide either an email or phone number and a password");const{data:r,error:l}=a;if(l||!r)return await ls(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await ls(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let s;if("email"in e){const{email:a,password:r,options:l}=e;s=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gj})}else if("phone"in e){const{phone:a,password:r,options:l}=e;s=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gj})}else throw new Fh("You must provide either an email or phone number and a password");const{data:n,error:i}=s;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Fo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,i,a,r,l,c,u,d,h,f;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:_,wallet:x,statement:y,options:g}=e;let b;if(us())if(typeof x=="object")b=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const w=new URL((s=g==null?void 0:g.url)!==null&&s!==void 0?s:window.location.href),E=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=fO(E[0]);let T=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const A=await b.request({method:"eth_chainId"});T=EF(A)}const N={domain:w.host,address:C,statement:y,uri:w.href,version:"1",chainId:T,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=TF(N),v=await b.request({method:"personal_sign",params:[NF(m),C]})}try{const{data:_,error:x}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Vn});if(x)throw x;if(!_||!_.session||!_.user){const y=new Fo;return this._returnResult({data:{user:null,session:null},error:y})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(ke(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var s,n,i,a,r,l,c,u,d,h,f,m;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:x,wallet:y,statement:g,options:b}=e;let w;if(us())if(typeof y=="object")w=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const E=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in w&&w.signIn){const C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let T;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")T=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)T=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),_=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((r=b==null?void 0:b.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const C=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=C}}try{const{data:x,error:y}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Hr(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Vn});if(y)throw y;if(!x||!x.session||!x.user){const g=new Fo;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(ke(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const s=await Tr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{if(!n&&this.flowType==="pkce")throw new YH;const{data:a,error:r}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Vn});if(await ls(this.storage,`${this.storageKey}-code-verifier`),r)throw r;if(!a||!a.session||!a.user){const l=new Fo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:r})}catch(a){if(await ls(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:a,nonce:r}=e,l=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Vn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Fo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(s){if(ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,n,i,a,r;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Uo(this.storage,this.storageKey));const{error:h}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(r=c==null?void 0:c.channel)!==null&&r!==void 0?r:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Fh("You must provide either an email or phone number.")}catch(l){if(await ls(this.storage,`${this.storageKey}-code-verifier`),ke(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var s,n;try{let i,a;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:r,error:l}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Vn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const c=r.session,u=r.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var s,n,i,a,r;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Uo(this.storage,this.storageKey));const u=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:bF});return!((a=u.data)===null||a===void 0)&&a.url&&us()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await ls(this.storage,`${this.storageKey}-code-verifier`),ke(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Qs;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ke(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:r}=await De(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:r})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:r,error:l}=await De(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l})}throw new Fh("You must provide either an email or phone number and a type")}catch(s){if(ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<wy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const r=await Tr(this.userStorage,this.storageKey+"-user");r!=null&&r.user?e.user=r.user:e.user=Ey()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};e.user=mF(e.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ra}):await this._useSession(async s=>{var n,i,a;const{data:r,error:l}=s;if(l)throw l;return!(!((n=r.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qs}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ra})})}catch(s){if(ke(s))return qH(s)&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Qs;const r=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Uo(this.storage,this.storageKey));const{data:u,error:d}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:r.access_token,xform:Ra});if(d)throw d;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),this._returnResult({data:{user:r.user},error:null})})}catch(n){if(await ls(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qs;const s=Date.now()/1e3;let n=s,i=!0,a=null;const{payload:r}=jy(e.access_token);if(r.exp&&(n=r.exp,i=n<=s),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(s){if(ke(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:r,error:l}=s;if(l)throw l;e=(n=r.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qs;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!us())throw new Uh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Hj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uh("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hj("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:r,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!r||!u)throw new Uh("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:_,error:x}=await this._getUser(a);if(x)throw x;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:r,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return this._returnResult({error:a});const r=(n=i.session)===null||n===void 0?void 0:n.access_token;if(r){const{error:l}=await this.admin.signOut(r,e);if(l&&!(VH(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=eF(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:a},error:r}=s;if(r)throw r;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Uo(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(await ls(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:n,error:i}=await this._useSession(async a=>{var r,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return us()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var n;try{const{error:i,data:{session:a}}=s;if(i)throw i;const{options:r,provider:l,token:c,access_token:u,nonce:d}=e,h=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vn}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Fo}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(i){if(await ls(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:a,error:r}=s;if(r)throw r;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await iF(async i=>(i>0&&await nF(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vn})),(i,a)=>{const r=200*Math.pow(2,i);return a&&Sy(a)&&Date.now()+r-n<ol})}catch(n){if(this._debug(s,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),us()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Tr(this.storage,this.storageKey);if(i&&this.userStorage){let r=await Tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await ll(this.userStorage,this.storageKey+"-user",r)),i.user=(e=r==null?void 0:r.user)!==null&&e!==void 0?e:Ey()}else if(i&&!i.user&&!i.user){const r=await Tr(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await ls(this.storage,this.storageKey+"-user"),await ll(this.storage,this.storageKey,i)):i.user=Ey()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<wy;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${wy}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),Sy(r)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Qs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cp;const{data:a,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!a.session)throw new Qs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),ke(a)){const r={data:null,error:a};return Sy(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(r),r}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const a=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){a.push(c)}});if(await Promise.all(r),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ls(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await ll(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=Wj(i);await ll(this.storage,this.storageKey,a)}else{const i=Wj(s);await ll(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ls(this.storage,this.storageKey),await ls(this.storage,this.storageKey+"-code-verifier"),await ls(this.storage,this.storageKey+"-user"),this.userStorage&&await ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&us()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ol);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ol}ms, refresh threshold is ${Sv} ticks`),i<=Sv&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!us()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,r]=await Uo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?this._returnResult({data:null,error:a}):await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:a,error:r}=s;if(r)return this._returnResult({data:null,error:r});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await De(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return this._returnResult({data:null,error:a});const r=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?RF(e.webauthn.credential_response):PF(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:r,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return this._returnResult({data:null,error:a});const r=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DF(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MF(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=jy(n.access_token);let r=null;a.aal&&(r=a.aal);let l=r;((s=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;return i?this._returnResult({data:null,error:i}):n?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qs})})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Qs});const r=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&us()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,s){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Qs});const r=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&us()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;return n?this._returnResult({data:null,error:n}):s?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qs})})}catch(e){if(ke(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;return i?this._returnResult({data:null,error:i}):n?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qs})})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+FH>i)return n;const{data:a,error:r}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:i,payload:a,signature:r,raw:{header:l,payload:c}}=jy(n);s!=null&&s.allowExpired||dF(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:r},error:null}}const d=hF(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,r,JH(`${l}.${c}`)))throw new Nv("Invalid JWT signature");return{data:{claims:a,header:i,signature:r},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}}ld.nextInstanceID={};const VF=ld,qF="2.89.0";let cu="";typeof Deno<"u"?cu="deno":typeof document<"u"?cu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cu="react-native":cu="node";const WF={"X-Client-Info":`supabase-js-${cu}/${qF}`},YF={headers:WF},GF={schema:"public"},KF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XF={};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function QF(t,e){if(cd(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JF(t){var e=QF(t,"string");return cd(e)=="symbol"?e:e+""}function ZF(t,e,s){return(e=JF(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Zj(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,n)}return s}function $t(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(s),!0).forEach(function(n){ZF(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Zj(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}const eU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tU=()=>Headers,sU=(t,e,s)=>{const n=eU(s),i=tU();return async(a,r)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new i(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,$t($t({},r),{},{headers:u}))}};function nU(t){return t.endsWith("/")?t:t+"/"}function iU(t,e){var s,n;const{db:i,auth:a,realtime:r,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:$t($t({},c),i),auth:$t($t({},u),a),realtime:$t($t({},d),r),storage:{},global:$t($t($t({},h),l),{},{headers:$t($t({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function aU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var rU=class extends VF{constructor(t){super(t)}},oU=class{constructor(t,e,s){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=aU(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const r=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:GF,realtime:XF,auth:$t($t({},KF),{},{storageKey:r}),global:YF},c=iU(s??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=sU(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient($t({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new z5(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new $H(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new P5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,s;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:a,flowType:r,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rU({url:this.authUrl.href,headers:$t($t({},f),d),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:n,userStorage:i,flowType:r,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nH(this.realtimeUrl.href,$t($t({},t),{},{params:$t($t({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lU=(t,e,s)=>new oU(t,e,s);function cU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cU()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uU="https://ozgcyvfsjahyxrhtaqcx.supabase.co",dU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96Z2N5dmZzamFoeXhyaHRhcWN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5MDcyOTAsImV4cCI6MjA4MjQ4MzI5MH0.FgOLe9vfV_Hygr_AW0Cz6YNvojz7Lpbws937BgguCFA",Du=lU(uU,dU),cs=[];for(let t=0;t<256;++t)cs.push((t+256).toString(16).slice(1));function hU(t,e=0){return(cs[t[e+0]]+cs[t[e+1]]+cs[t[e+2]]+cs[t[e+3]]+"-"+cs[t[e+4]]+cs[t[e+5]]+"-"+cs[t[e+6]]+cs[t[e+7]]+"-"+cs[t[e+8]]+cs[t[e+9]]+"-"+cs[t[e+10]]+cs[t[e+11]]+cs[t[e+12]]+cs[t[e+13]]+cs[t[e+14]]+cs[t[e+15]]).toLowerCase()}let Ty;const fU=new Uint8Array(16);function mU(){if(!Ty){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ty=crypto.getRandomValues.bind(crypto)}return Ty(fU)}const pU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eE={randomUUID:pU};function gU(t,e,s){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??mU();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,hU(n)}function yU(t,e,s){return eE.randomUUID?eE.randomUUID():gU(t)}const bU=t=>{typeof t!="number"&&(t=Number(t));const e=t<1e4?t*1e3:t;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e)},pO=({amount:t,onClose:e,onConfirm:s,isDeposit:n,user:i,bookingData:a})=>{const{token:r}=S.useContext(ms),[l,c]=S.useState(!1),[u,d]=S.useState("pending"),[h,f]=S.useState(null),[m,v]=S.useState(300),_=T=>(typeof T!="number"&&(T=Number(T)),T<1e4?T*1e3:T);S.useEffect(()=>{(async()=>{const N=yU(),A=new Date(Date.now()+5*60*1e3),{data:L,error:D}=await Du.from("payment_sessions").insert({id:N,amount:_(t),is_deposit:n,status:"pending",user_id:i.id,user_name:i.name,expires_at:A.toISOString()}).select().single();D?(console.error("Error creating payment session:",D),window.showNotification("Failed to create payment session","error"),e()):(f(N),console.log("Payment session created:",L))})()},[]),S.useEffect(()=>{if(!h)return;const T=Du.channel(`payment:${h}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_sessions",filter:`id=eq.${h}`},N=>{console.log("Payment status changed:",N.new.status),d(N.new.status),N.new.status==="confirmed"?(window.showNotification("Payment confirmed!","success"),C().then(A=>{A?(window.showNotification("Booking created successfully!","success"),setTimeout(()=>{s&&s(),e()},1500)):(window.showNotification("Booking creation failed","error"),setTimeout(()=>{e()},1500))})):N.new.status==="rejected"&&(window.showNotification("Payment rejected","error"),setTimeout(()=>{e()},1e3))}).subscribe();return()=>{Du.removeChannel(T)}},[h]),S.useEffect(()=>{if(m<=0){window.showNotification("Payment session expired","error"),e();return}const T=setInterval(()=>{v(N=>N-1)},1e3);return()=>clearInterval(T)},[m]);const x=_(t),y=JSON.stringify({payment_id:h,amount:x,is_deposit:n}),g=`${window.location.origin}/payment-confirm?data=${encodeURIComponent(y)}`,b=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(g)}`,w=T=>{const N=Math.floor(T/60),A=T%60;return`${N}:${A.toString().padStart(2,"0")}`},E=()=>{c(!0),setTimeout(()=>{e()},500)},C=async()=>{var T;try{if(!r)return console.error("âŒ No token found"),!1;const N=await oe.post("/api/booking",a,{headers:{Authorization:`Bearer ${r}`}});if(N.status!==201)return console.error("âŒ Booking creation failed"),!1;console.log("âœ… Booking created:",N.data);try{const A={to:i.email,user_name:i.name,room_type:a.room_type,number_of_rooms:a.number_of_rooms,checkin_date:Je(a.checkin_date).format("YYYY-MM-DD"),checkout_date:Je(a.checkout_date).format("YYYY-MM-DD"),total_price:a.total_price.toString(),deposit_paid:a.deposit_paid.toString(),remaining_amount:n?(a.total_price*.8).toString():"0",payment_status:n?"Deposit Paid (20%)":"Fully Paid",member:a.member,children:a.children};await oe.post("/api/Send_booking_email_successfully",A,{headers:{Authorization:`Bearer ${r}`}}),console.log("âœ… Email sent")}catch(A){console.warn("âš ï¸ Email failed (not critical):",A)}return localStorage.removeItem("pendingBooking"),!0}catch(N){return console.error("âŒ Error in createBooking:",((T=N.response)==null?void 0:T.data)||N),!1}};return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-box",children:[o.jsxs("h4",{children:["Scan QR Code to ",n?"Pay Deposit":"Pay Full Amount"]}),o.jsxs("p",{children:[o.jsxs("strong",{children:[n?"Deposit Amount (20%)":"Total Amount",":"]})," ",bU(t)]}),o.jsx("img",{src:b,alt:"QR Code",width:"300"}),o.jsx("p",{className:"mt-2 text-warning",children:o.jsxs("strong",{children:["Time remaining: ",w(m)]})}),o.jsxs("p",{className:"mt-2",children:["Status: ",o.jsx("span",{className:`badge bg-${u==="pending"?"warning":u==="confirmed"?"success":"danger"}`,children:u.toUpperCase()})]}),o.jsx("p",{className:"text-muted small",children:"Scan QR code with your phone to confirm payment"}),o.jsx("div",{className:"mt-3",children:o.jsx("button",{className:"btn btn-secondary w-100",onClick:E,disabled:l,children:"Cancel"})})]})})},Yo=t=>{typeof t!="number"&&(t=Number(t));const e=t<1e4?t*1e3:t;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e)},vU=({checkLogin:t,checkLogins:e})=>{var ne;const{user:s,token:n}=S.useContext(ms),[i,a]=S.useState(!0),[r,l]=S.useState([]),[c,u]=S.useState([]),[d,h]=S.useState(0),[f,m]=S.useState({checkin:"",checkout:"",roomType:"",room:1,children:0,member:1,price:"0",Total_price:"0",phone:""}),[v,_]=S.useState(!1),[x,y]=S.useState(!1),[g,b]=S.useState(0),[w,E]=S.useState(""),[C,T]=S.useState("deposit"),N=(X,G)=>!X||!G||!Je(X).isValid()||!Je(G).isValid()?0:Math.ceil(Math.abs(new Date(G)-new Date(X))/(1e3*60*60*24)),A=(X,G,re)=>{if(!G||!re||!Je(G).isValid()||!Je(re).isValid())return 0;const ge=Je(G),pe=Je(re);let be=0;for(let Ee=ge;Ee.isBefore(pe);Ee=Ee.add(1,"day")){const Te=nd(X,Ee.format("YYYY-MM-DD"))||X;be+=Te}return be},L=r.length>0&&((ne=r.find(X=>X.name===f.roomType))==null?void 0:ne.capacity)||0,D=()=>f.room*L,I=()=>f.room*2,q=new Date,B=X=>{const G=X.getFullYear(),re=String(X.getMonth()+1).padStart(2,"0"),ge=String(X.getDate()).padStart(2,"0");return`${G}-${re}-${ge}`},z=B(q),M=new Date;M.setMonth(M.getMonth()+6);const H=B(M),R=X=>{const{id:G,value:re}=X.target,ge=G==="member"?parseInt(re)||0:re;m(pe=>{if(G==="children"){const Te=parseInt(re)||0,Le=I();if(Te>Le)return window.showNotification("Only up to 2 children (under 12) are allowed per booking.","error"),pe}const be={...pe,[G]:re};if(G==="roomType"||G==="checkin"||G==="checkout"){const Te=r.find($=>$.name===(G==="roomType"?re:f.roomType)),Le=Te?Te.price:0,lt=A(Le,G==="checkin"?re:f.checkin,G==="checkout"?re:f.checkout);be.Total_price=(lt*be.room).toString(),h(Le),be.price=Le.toString();const wt=G==="checkin"?re:f.checkin,he=G==="checkout"?re:f.checkout;let Se="";if(wt&&he&&Je(wt).isValid()&&Je(he).isValid()){const $=Je(wt),Y=Je(he),U=[];for(let J=$;J.isBefore(Y);J=J.add(1,"day")){const Q=nd(Le,J.format("YYYY-MM-DD"));if(!(Q===Le)){const _e=[5,6].includes(J.day()),Z=Q/Le===1.5;(_e||Z)&&U.push({date:J.format("DD/MM/YYYY"),isWeekend:_e,isHoliday:Z,price:Q})}}U.length>0&&(Se=U.map(J=>{const Q=J.isWeekend&&J.isHoliday?"Weekend & Holiday":J.isWeekend?"Weekend":"Holiday";return`${J.date} (${Q}): Price is ${Yo(J.price)}/night`}).join(`
`))}if(E(Se),G==="roomType"){const $=G==="checkin"?re:f.checkin,Y=G==="checkout"?re:f.checkout,U=G==="roomType"?re:f.roomType,J=r.find(Q=>Q.name===re);if(U&&$&&Y&&Je($).isValid()&&Je(Y).isValid()){const Q=Je($).format("YYYY-MM-DD"),ie=Je(Y).format("YYYY-MM-DD");oe.get("/api/available_rooms",{params:{room_type:U,checkin_date:Q,checkout_date:ie}}).then(_e=>{const Z=_e.data.available_rooms;window.showNotification(Z>0?`${Z} room${Z>1?"s":""} available and This room type has a capacity of ${J.capacity} adults. Children are limited to 2 per booking.`:"No rooms available, please choose another room type or call hotline",Z>0?"success":"error")}).catch(_e=>{console.error("Error checking available rooms:",_e),window.showNotification("Failed to check room availability.","error")})}else window.showNotification("Please select check-in and check-out dates to check availability.","error")}}else G==="room"&&(be.Total_price=(parseFloat(f.Total_price)/parseInt(f.room)*parseInt(re)).toString());G==="member"&&ge>D()&&window.showNotification(`Maximum capacity is ${D()} member${D()>1?"s":""} for ${be.room} room${be.room>1?"s":""}. Please reduce the number of members.`,"error");const Ee=c.filter(Te=>Te.type===f.roomType&&Te.status==="available").length;return G==="room"&&ge>Ee&&window.showNotification(`Only ${Ee} room${Ee>1?"s":""} available (preliminary check)`,"error"),be})},V=X=>{T(X.target.value)},P=async X=>{if(X.preventDefault(),!s){t(),window.showNotification("Please log in to book a room.","error");return}if(!f.checkin||!f.checkout||!f.roomType||!f.member){window.showNotification("Please fill in all required fields.","error");return}if(!f.phone||f.phone.trim()===""){window.showNotification("Phone number is required.","error");return}if(!/^[0-9]{10,15}$/.test(f.phone.replace(/\s|-/g,""))){window.showNotification("Please enter a valid phone number (10-15 digits).","error");return}const re=new Date(f.checkin),ge=new Date(f.checkout),pe=new Date;if(pe.setHours(0,0,0,0),re<pe){window.showNotification("Check-in date cannot be in the past.","error");return}const be=new Date;if(be.setMonth(be.getMonth()+6),re>be){window.showNotification("You can only book up to 6 months in advance.","error");return}const Ee=new Date(re);if(Ee.setDate(Ee.getDate()+1),ge<Ee){window.showNotification("Check-out date must be at least 1 day after check-in date.","error");return}if(parseInt(f.member)>D(f.room)||parseInt(f.member)<=0){window.showNotification(`The number of guests (${f.member}) exceeds the capacity (${D(f.room)}).`,"error");return}if(N(f.checkin,f.checkout)>30){window.showNotification("Booking is limited to a maximum of 30 days as per regulations.","error");return}const Le=c.filter(Y=>Y.type===f.roomType&&Y.status==="available").length;if(console.log("Available rooms:",Le),Le<1){window.showNotification("No rooms available to book.","error");return}else if(Le<parseInt(f.room)){window.showNotification(`Only ${Le} room${Le>1?"s":""} available, but you selected ${f.room}.`,"error");return}const lt=1e16,wt=parseFloat(f.Total_price),he=wt*.2,Se=C==="deposit"?he:wt;if(Se>lt){window.showNotification("The payment amount exceeds the allowed limit. Please reduce the number of rooms or contact support.","error");return}const $={user_id:parseInt(s.id),name:s.name||"",email:s.email||"",phone:f.phone,room_type:f.roomType||"",number_of_rooms:parseInt(f.room)||1,children:parseInt(f.children)||0,member:parseInt(f.member)||1,price:parseFloat(d)||0,total_price:parseFloat(f.Total_price)||0,deposit_paid:parseFloat(C==="deposit"?Se:0),checkin_date:Je(f.checkin).format("YYYY-MM-DD"),checkout_date:Je(f.checkout).format("YYYY-MM-DD"),status:"confirmed"};localStorage.setItem("pendingBooking",JSON.stringify($)),b(Se),y(!0)},se=X=>{X?(_(!1),y(!0)):_(!1)},de=()=>{_(!1)};S.useEffect(()=>{const X=async()=>{try{const ge=(await oe.get("/api/room-types")).data.room_types||[];l(ge);const pe=[...new Set(ge.map(be=>be.name))].map(be=>{const Ee=ge.find(Te=>Te.name===be);return{name:be,price:Ee?Ee.price:"0.00",capacity:Ee?Ee.capacity:2}});l(pe)}catch(re){console.error("Error fetching rooms:",re),window.showNotification("Unable to load room data.","error")}},G=async()=>{var re;try{const pe=(await oe.get("/api/rooms")).data||[];u(pe)}catch(ge){console.error("Error fetching available rooms:",((re=ge.response)==null?void 0:re.data)||ge),window.showNotification("Unable to load available room data.","error")}};X(),G()},[]),S.useEffect(()=>{const X=setTimeout(()=>{a(!1)},1550);return()=>clearTimeout(X)},[]),S.useEffect(()=>{s&&s.phone&&m(X=>({...X,phone:s.phone}))},[s]);const fe=pn(),ae=S.useRef(null),F=S.useRef(null);return S.useEffect(()=>{if(fe.hash){const X=document.getElementById(fe.hash.substring(1));X&&X.scrollIntoView({behavior:"smooth"})}},[fe]),o.jsxs(o.Fragment,{children:[o.jsx(sr,{title:"Booking Now",description:"Book your stay with us"}),o.jsxs("div",{className:"bg",id:"booknow",align:"center",children:[o.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",className:"background-video video-container",children:o.jsx("source",{src:"/images/Dat/rooms/background.mp4",type:"video/mp4"})}),o.jsx("div",{className:"container-dat",style:{paddingTop:"7%"},children:i?o.jsx("div",{className:"loading-container",children:o.jsx("div",{className:"spinner"})}):o.jsxs("form",{className:"p-4 rounded text-light shadow booking-form",style:{backgroundColor:"rgba(33, 37, 41, 0.9)"},children:[o.jsx("h2",{className:"mb-4 text-center",children:"Hotel Booking"}),o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"checkin",className:"form-label",children:"Check-in:"}),o.jsx("input",{ref:ae,value:f.checkin,type:"date",id:"checkin",className:"form-control",onChange:R,min:z,max:H})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"checkout",className:"form-label",children:"Check-out:"}),o.jsx("input",{ref:F,value:f.checkout,type:"date",id:"checkout",className:"form-control",onChange:R,min:f.checkin?(()=>{const X=new Date(f.checkin);return X.setDate(X.getDate()+1),B(X)})():z,disabled:!f.checkin})]})]}),o.jsxs("div",{className:"row g-3 mt-1",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"room",className:"form-label",children:"Number of Rooms:"}),o.jsx("select",{name:"room",id:"room",className:"form-select",value:f.room,onChange:R,children:[1,2,3,4,5].map(X=>o.jsx("option",{value:X,children:X},X))})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"roomType",className:"form-label",children:"Room Type:"}),o.jsxs("select",{id:"roomType",className:"form-select",value:f.roomType,onChange:R,children:[o.jsx("option",{value:"",children:"Select room type"}),r.map(X=>o.jsx("option",{value:X.name,children:X.name},X.name))]})]})]}),o.jsxs("div",{className:"row g-3 mt-1",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"children",className:"form-label",children:"Children Ages(0-11):"}),o.jsx("input",{type:"number",id:"children",className:"form-control",min:"0",max:I(),onChange:R,placeholder:"0",value:f.children})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"member",className:"form-label",children:"Member:"}),o.jsx("input",{type:"number",id:"member",className:"form-control",min:0,max:D(f.room),onChange:R,placeholder:"1"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"phone",className:"form-label",children:["Phone Number ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"tel",id:"phone",name:"phone",className:"form-control",value:f.phone,onChange:R,placeholder:"Enter your phone number",pattern:"[0-9]*"})]}),o.jsx("div",{className:"row g-3 mt-1 justify-content-center",children:o.jsxs("div",{className:"col-md-12 text-center",children:[o.jsx("label",{className:"form-label",children:o.jsx("b",{children:"Payment Option:"})}),o.jsxs("div",{className:"d-flex justify-content-center gap-4 mt-2",children:[o.jsxs("label",{className:"d-flex align-items-center gap-2",style:{width:"20%"},children:[o.jsx("input",{type:"radio",name:"paymentOption",value:"deposit",checked:C==="deposit",onChange:V,style:{width:"20%"}}),o.jsx("p",{style:{width:"100%"},children:"Pay Deposit (20%)"})]}),o.jsxs("label",{className:"d-flex align-items-center gap-2",style:{width:"20%"},children:[o.jsx("input",{type:"radio",name:"paymentOption",value:"full",checked:C==="full",onChange:V,style:{width:"20%"}}),o.jsx("p",{style:{width:"100%"},children:"Pay Full Amount"})]})]})]})}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"view-price col-md-6",children:[o.jsxs("p",{children:["Days: ",N(f.checkin,f.checkout)||"0"]}),o.jsxs("p",{children:["The ",f.roomType||"room Type",": ",Yo(d),"/night (base)"]}),w&&o.jsx("p",{className:"price-notification",children:w})]}),o.jsxs("div",{className:"view-price col-md-6",children:[o.jsxs("p",{children:["Deposit (20%): ",Yo(parseFloat(f.Total_price)*.2)]}),o.jsxs("p",{children:["Total Price: ",Yo(parseFloat(f.Total_price))]}),C==="deposit"&&o.jsxs("p",{children:["Remaining (Due on Check-in): ",Yo(parseFloat(f.Total_price)*.8)]}),o.jsxs("p",{children:["Amount to Pay Now: ",Yo(C==="deposit"?parseFloat(f.Total_price)*.2:parseFloat(f.Total_price))]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{type:"submit",className:"btn btn-warning w-100",onClick:P,children:"Book Now"})}),v&&o.jsx(WA,{onConfirm:se,onClose:de}),x&&o.jsx(pO,{amount:g,onClose:()=>y(!1),isDeposit:C==="deposit",user:s,bookingData:JSON.parse(localStorage.getItem("pendingBooking")||"{}")})]})]})})]}),o.jsx("div",{children:o.jsx(y5,{checkLogins:e})})]})},_U=({isPopupLogin:t,closePopup:e,openRegisterPopup:s,openForgotPassword:n})=>{const[i,a]=S.useState(""),[r,l]=S.useState(""),[c,u]=S.useState({}),[d,h]=S.useState(!1),{login:f,setUser:m}=S.useContext(ms);bo();const v=y=>{y.target.classList.contains("popup-overlay")&&e()},_=async y=>{y.preventDefault();let g=!0;const b={};if(i||(g=!1,b.email="Email is required.",setTimeout(()=>{u(w=>{const{email:E,...C}=w;return C})},3e3)),r||(g=!1,b.password="Password is required.",setTimeout(()=>{u(w=>{const{password:E,...C}=w;return C})},3e3)),u(b),!g){u(b);return}u({}),h(!0);try{const w=await oe.post("/api/login",{email:i,password:r});if(w.status===200){const{user:E,token:C}=w.data;if(!E||!E.id)throw new Error("User data is incomplete: missing user");if(!C)throw new Error("Token not found in response");f(E,C),window.showNotification("Login successfully!","success"),e()}else throw new Error("Unexpected response status: "+w.message)}catch(w){console.log("Login error:",w),u(E=>({...E,general:"Email or password is incorrect."})),setTimeout(()=>{u(E=>{const{general:C,...T}=E;return T})},3e3)}finally{h(!1)}},x=async()=>{var y,g;h(!0);try{const b=await oe.get("/api/google/login");b.status===200&&b.data.url&&(window.location.href=b.data.url)}catch(b){console.error("Google login error:",b.response||b),console.error("Failed to initiate Google login:"+(((g=(y=b.response)==null?void 0:y.data)==null?void 0:g.message)||b.message),b),window.showNotification("Failed to initiate Google login: ","error")}};return o.jsx(o.Fragment,{children:t&&o.jsx("div",{className:"popup-overlay",onClick:v,children:o.jsxs("div",{className:"popup-content",children:[o.jsx("button",{className:"close-popup-btn",style:{color:"black"},onClick:e,children:"Ã—"}),o.jsx("h2",{children:"Login"}),o.jsxs("form",{onSubmit:_,children:[o.jsxs("div",{className:"input-container",children:[o.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:" ",onChange:y=>a(y.target.value),disabled:d}),o.jsx("label",{className:"form-input-label",children:"Email"})]}),c.email&&o.jsx("div",{className:"error-message",children:c.email}),o.jsxs("div",{className:"input-container",children:[o.jsx("input",{type:"password",id:"password",disabled:d,className:"form-input",placeholder:" ",onChange:y=>l(y.target.value)}),o.jsx("label",{className:"form-input-label",children:"Password"})]}),c.password&&o.jsx("div",{className:"error-message",children:c.password}),c.general&&o.jsx("div",{className:"error-message",children:c.general}),o.jsxs("div",{className:"switch-to-register",children:[o.jsx("p",{onClick:n,children:o.jsx(st,{children:"ForgotPassword"})}),o.jsxs("p",{children:["Don't have an account?"," ",o.jsx(st,{onClick:s,children:"Register"})]})]}),o.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:d,children:d?"Logging in...":"Login"})]}),o.jsx("hr",{}),o.jsx("div",{className:"social-login",children:o.jsx("button",{onClick:x,className:"google-login-btn",children:"Sign in with Google"})})]})})})};function xU({isPopupRegister:t,closePopup:e,openLoginPopup:s}){const[n,i]=S.useState(""),[a,r]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[h,f]=S.useState(""),[m,v]=S.useState({}),_=async x=>{var C,T;x.preventDefault();const y=/^[a-zA-ZÃ€-á»¹\s]+$/u,g=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*\W)[A-Za-z\d\W]{8,16}$/,b=/^\d{10,15}$/;let w=!0;const E={};if(y.test(n)||(w=!1,E.name="Name must not contain special characters and can include Vietnamese diacritics."),l?b.test(l)||(w=!1,E.phone="Phone number must contain only digits and be 10 to 15 digits long."):(w=!1,E.phone="Phone number is required."),g.test(u)||(w=!1,E.password="Password must be 8 to 16 characters long, include an uppercase letter, a lowercase letter, a number, and a special character."),u!==h&&(w=!1,E.confirmPassword="Passwords do not match."),v(E),!!w)try{(await oe.post("/api/register",{name:n,email:a,phone:l,password:u})).status===201&&(window.showNotification("Registered successfully!","success"),s())}catch(N){alert(((T=(C=N.response)==null?void 0:C.data)==null?void 0:T.message)||"Error during registration.")}};return o.jsx(o.Fragment,{children:t&&o.jsx("div",{className:"popup-overlay",onClick:x=>x.target.classList.contains("popup-overlay")&&e(),children:o.jsxs("div",{className:"popup-content",children:[o.jsx("button",{className:"close-popup-btn",onClick:e,style:{color:"black"},children:"Ã—"}),o.jsx("h2",{children:"Register"}),o.jsxs("form",{onSubmit:_,children:[[{label:"Name",type:"text",value:n,onChange:i,error:m.name},{label:"Email",type:"email",value:a,onChange:r,error:m.email},{label:"Phone",type:"text",value:l,onChange:c,error:m.phone},{label:"Password",type:"password",value:u,onChange:d,error:m.password},{label:"Confirm Password",type:"password",value:h,onChange:f,error:m.confirmPassword}].map(({label:x,type:y,value:g,onChange:b,error:w},E)=>o.jsxs("label",{children:[x,":",o.jsx("input",{type:y,value:g,onChange:C=>b(C.target.value)}),w&&o.jsx("div",{className:"error-message",children:w})]},E)),o.jsx("button",{type:"submit",children:"Register"})]}),o.jsxs("p",{children:["Already have an account?"," ",o.jsx(st,{onClick:s,children:"Login Now"})]})]})})})}const wU=()=>{const{user:t}=S.useContext(ms),[e,s]=S.useState([]),[n,i]=S.useState([]),[a,r]=S.useState(!0);return S.useEffect(()=>{if(!t){r(!1);return}(async()=>{r(!0);try{const c=await oe.get(`/api/reviews/${t.id}`);c.data.success&&Array.isArray(c.data.data)?s(c.data.data):(console.warn("Invalid reviews data:",c.data),s([]),window.showNotification("No reviews data available","warning"))}catch(c){console.error("Failed to fetch reviews:",c),s([]),window.showNotification("Error loading reviews","error")}finally{r(!1)}})()},[t]),S.useEffect(()=>{if(!t){r(!1);return}(async()=>{if(!t){r(!1);return}r(!0);try{const c=await oe.get(`/api/complaints/${t.id}`);c.data.success&&Array.isArray(c.data.data)?i(c.data.data):(console.warn("Invalid complaints data:",c.data),i([]),window.showNotification("No complaints data available","warning"))}catch(c){console.error("Failed to fetch complaints:",c),i([]),window.showNotification("Error loading complaints","error")}finally{r(!1)}})()},[t]),a?o.jsx("div",{children:"Loading reviews and complaints..."}):o.jsxs("div",{className:"user-reviews",children:[o.jsx("h3",{children:"My Reviews & Complaints"}),o.jsxs("div",{className:"reviews-complaints-container",children:[o.jsxs("div",{className:"reviews-column",children:[o.jsx("h4",{children:"Reviews"}),e.length===0?o.jsx("p",{children:"You have not submitted any reviews yet."}):o.jsx("div",{className:"reviews-list",children:e.map(l=>o.jsxs("div",{className:"review-card",children:[o.jsxs("div",{className:"review-header",children:[o.jsx("span",{className:"review-date",children:Je(l.created_at).format("DD/MM/YYYY")}),o.jsx("span",{className:"review-rating",children:"â˜…".repeat(l.rating)+"â˜†".repeat(5-l.rating)})]}),o.jsx("p",{className:"review-comment",children:l.comment||"No comment"})]},l.id))})]}),o.jsxs("div",{className:"complaints-column",children:[o.jsx("h4",{children:"Complaints"}),n.length===0?o.jsx("p",{children:"You have not submitted any complaints yet."}):o.jsx("div",{className:"complaints-list",children:n.map(l=>o.jsxs("div",{className:"complaint-card",children:[o.jsxs("div",{className:"complaint-header",children:[o.jsx("span",{className:"complaint-date",children:Je(l.created_at).format("DD/MM/YYYY")}),o.jsx("span",{className:"complaint-rating",children:"â˜…".repeat(l.rating)+"â˜†".repeat(5-l.rating)})]}),o.jsxs("p",{className:"complaint-room",children:[o.jsx("strong",{children:"Complaint Type:"})," ",l.complaint_type]}),o.jsxs("p",{className:"complaint-comment",children:[o.jsx("strong",{children:"Description:"}),l.description||"No description"]})]},l.id))})]})]})]})},SU=()=>{const{user:t,token:e,updateUser:s}=S.useContext(ms),[n,i]=S.useState([]),[a,r]=S.useState(!0),[l,c]=S.useState(null),[u,d]=S.useState(!1),[h,f]=S.useState(!1),[m,v]=S.useState({name:"",email:"",phone:""}),[_,x]=S.useState({current_password:"",new_password:"",new_password_confirmation:""}),[y,g]=S.useState(null),[b,w]=S.useState(null),[E,C]=S.useState(null),T=R=>new Date(R).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),N=R=>Math.round(R).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");S.useEffect(()=>{if(window.scrollTo(0,0),t!==null){if(!t||!t.id){c("Please log in to view your information."),r(!1);return}v({name:t.name||"",email:t.email||"",phone:t.phone||""}),r(!1)}},[t]),S.useEffect(()=>{(async()=>{try{if(!t||!t.id||!e)return;const P=(await oe.get(`/api/users/${t.id}/bookings`,{headers:{Authorization:`Bearer ${e}`}})).data.bookings.sort((de,fe)=>new Date(fe.created_at)-new Date(de.created_at)),se=Object.values(P.reduce((de,fe)=>{const ae=`${fe.room_type}|${fe.children}|${fe.member}|${fe.checkin_date}|${fe.checkout_date}|${fe.total_price}`;return de[ae]?(de[ae].number_of_rooms+=fe.number_of_rooms,de[ae].original_ids.push(fe.id)):de[ae]={...fe,number_of_rooms:fe.number_of_rooms,original_ids:[fe.id]},de},{}));i(se),g(se[0]||null),r(!1)}catch(V){console.error("Error fetching bookings:",V.response||V.message),c("Failed to load bookings. Please try again."),r(!1)}})()},[t,e]);const A=R=>{const{name:V,value:P}=R.target;v(se=>({...se,[V]:P}))},L=R=>{const{name:V,value:P}=R.target;x(se=>({...se,[V]:P}))},D=R=>{const V=R.target.files[0],P=2*1024*1024;if(V){if(V.size>P){window.showNotification("Image file exceeds the 2MB limit. Please choose a smaller image!","error"),w(null),C(null),R.target.value="";return}w(V);const se=new FileReader;se.onloadend=()=>{C(se.result)},se.readAsDataURL(V)}},I=async R=>{var V,P,se;R.preventDefault(),await oe.get("/sanctum/csrf-cookie");try{const de=new FormData;de.append("name",m.name),de.append("email",m.email),de.append("phone",m.phone),b&&de.append("avatar",b),de.append("_method","PUT");const fe=await oe.post(`/api/users/${t.id}`,de,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});s(fe.data.user),d(!1),w(null),C(null),H?window.showNotification("Profile updated successfully and logged in again to load new avarta!","success"):window.showNotification("Profile updated successfully!","success")}catch(de){console.error("Error updating profile:",((V=de.response)==null?void 0:V.data)||de.message),window.showNotification("Failed to update profile: "+(((se=(P=de.response)==null?void 0:P.data)==null?void 0:se.message)||de.message),"error")}},q=async R=>{var V;if(R.preventDefault(),_.new_password!==_.new_password_confirmation){window.showNotification("New password and confirmation do not match.","error");return}try{await oe.get("/sanctum/csrf-cookie",{withCredentials:!0});const P=await oe.post(`/api/users/${t.id}/change-password`,_,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`},withCredentials:!0});f(!1),x({current_password:"",new_password:"",new_password_confirmation:""}),window.showNotification("Password changed successfully!","success")}catch(P){console.error("Error changing password:",((V=P.response)==null?void 0:V.data)||P.message),window.showNotification("Failed to change password","error")}},B=()=>{d(!1),v({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),w(null),C(null)},z=()=>{f(!1),x({current_password:"",new_password:"",new_password_confirmation:""})},M=async R=>{var P,se,de;if(console.log(`Canceling booking with ID: ${R}`),window.confirm("Are you sure you want to cancel this booking? If you confirm, you will lose your deposit or call hotline now."))try{const fe=n.find(X=>X.original_ids.includes(R));if(!fe){window.showNotification("Booking not found.","error");return}const ae=new Date(fe.checkin_date);if(new Date>=ae){window.showNotification("Cannot cancel booking after check-in date.","error");return}const ne=fe.original_ids.map(X=>oe.delete(`/api/bookings/${X}`,{headers:{Authorization:`Bearer ${e}`}}));await Promise.all(ne),i(n.filter(X=>!X.original_ids.includes(R))),window.showNotification("Booking cancelled successfully!","success")}catch(fe){console.error("Error cancelling booking:",((P=fe.response)==null?void 0:P.data)||fe.message),window.showNotification(((de=(se=fe.response)==null?void 0:se.data)==null?void 0:de.message)||"Failed to cancel booking","error")}};if(a)return o.jsx("div",{className:"container_account",children:o.jsx("p",{className:"text-center text-black mt-5",children:"Loading..."})});if(l)return o.jsx("div",{className:"container_account",children:o.jsx("p",{className:"text-center text-black mt-5",children:l})});const H=t.provider!=="google";return o.jsxs(o.Fragment,{children:[o.jsx(sr,{title:"Information Account"}),o.jsx("div",{className:"container_account",children:o.jsx("div",{className:"card",children:o.jsxs("div",{className:"account-wrapper",children:[o.jsxs("div",{className:"account-left",children:[H&&u?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:E||t.avatar||"/images/Dat/avatar/default.png",alt:"Avatar Preview",className:"rounded-circle account-avatar",onError:R=>{R.target.src="/images/Dat/avatar/default.png"}},Date.now()),o.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"form-control mt-2",id:"avatar-input"})]}):o.jsx("img",{src:t.avatar||"/images/Dat/avatar/default.png",alt:"Avatar",className:"rounded-circle account-avatar",onError:R=>{R.target.src="/images/Dat/avatar/default.png"}}),o.jsx("h2",{className:"account-name",children:t.name||"Unknown User"})]}),o.jsxs("div",{className:"account-right",children:[o.jsx("h1",{className:"text-center mb-4",children:"Account"}),u?o.jsxs("form",{className:"edit-form",onSubmit:I,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"name",className:"form-label",children:"Name:"}),o.jsx("input",{type:"text",id:"name",name:"name",className:"form-control",value:m.name,onChange:A,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email:"}),o.jsx("input",{type:"email",id:"email",name:"email",className:"form-control",value:m.email,onChange:A,disabled:t.provider==="google",required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone:"}),o.jsx("input",{type:"text",id:"phone",name:"phone",className:"form-control",value:m.phone,onChange:A})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,children:"Cancel"})]}):h?o.jsxs("form",{className:"edit-form",onSubmit:q,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"current_password",className:"form-label",children:"Current Password:"}),o.jsx("input",{type:"password",id:"current_password",name:"current_password",className:"form-control",value:_.current_password,onChange:L,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"new_password",className:"form-label",children:"New Password:"}),o.jsx("input",{type:"password",id:"new_password",name:"new_password",className:"form-control",value:_.new_password,onChange:L,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"new_password_confirmation",className:"form-label",children:"Confirm New Password:"}),o.jsx("input",{type:"password",id:"new_password_confirmation",name:"new_password_confirmation",className:"form-control",value:_.new_password_confirmation,onChange:L,required:!0})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Change Password"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:z,children:"Cancel"})]}):o.jsx("div",{className:"user-info-card shadow-sm mb-4",children:o.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[o.jsxs("div",{className:"user-details",children:[o.jsx("h5",{className:"card-title mb-3",children:"User Information"}),o.jsxs("div",{className:"info-row",children:[o.jsxs("span",{className:"info",children:[o.jsx("strong",{children:"Email:"})," ",o.jsx("span",{className:"text-muted",children:t.email})]}),o.jsxs("span",{className:"info",children:[o.jsx("strong",{children:"Phone:"})," ",o.jsx("span",{className:"text-muted",children:t.phone})]})]})]}),o.jsxs("div",{children:[o.jsx("button",{className:"btn btn-primary btn-sm me-2",onClick:()=>d(!0),children:"Edit Profile"}),H&&o.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>f(!0),children:"Change Password"})]})]})}),o.jsx("h2",{className:"mt-3 mb-3",children:"Your Bookings"}),n.length>0?o.jsx("div",{className:"bookings-container",children:n.map(R=>{const se=new Date(R.checkin_date)>new Date;return o.jsx("div",{className:"cards card-wrapper mb-3 shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title text-center",children:R.room_type}),o.jsxs("div",{className:"card-text",children:[o.jsxs("div",{className:"info-row",children:[o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Check-in:"})," ",o.jsx("span",{className:"text-muted",children:T(R.checkin_date)})]}),o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Check-out:"})," ",o.jsx("span",{className:"text-muted",children:T(R.checkout_date)})]}),o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Number of rooms:"})," ",o.jsx("span",{className:"text-muted",children:R.number_of_rooms})]})]}),o.jsxs("div",{className:"info-row",children:[o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Children Ages:"})," ",o.jsx("span",{className:"text-muted",children:R.children})]}),o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Member:"})," ",o.jsx("span",{className:"text-muted",children:R.member})]})]}),o.jsxs("div",{className:"info-row",children:[o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Days:"})," ",o.jsx("span",{className:"text-muted",children:Math.ceil(Math.abs(new Date(R.checkout_date)-new Date(R.checkin_date))/(1e3*60*60*24))})]}),o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Price:"})," ",o.jsxs("span",{className:"text-muted",children:[N(R.price)," VNÄ/night"]})]}),o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Deposit:"})," ",o.jsxs("span",{className:"text-muted",children:[N(parseFloat(R.total_price)*.2)," VNÄ % of total price"]})]})]}),o.jsx("div",{className:"info-row",children:o.jsxs("span",{className:"info-item",children:[o.jsx("strong",{children:"Total Cost:"})," ",o.jsxs("span",{className:"text-muted",children:[N(R.total_price)," VNÄ"]})]})})]}),se&&o.jsx("button",{className:"btn btn-danger btn-sm mt-3",onClick:()=>M(R.id),children:"Cancel Booking"})]})},R.id)})}):o.jsx("p",{className:"text-center",children:"No bookings found."})]})]})})}),o.jsx(wU,{})]})},jU=({isPopupForgotPassword:t,closePopup:e,openLoginPopup:s})=>{const[n,i]=S.useState(""),[a,r]=S.useState(""),[l,c]=S.useState(!1),u=h=>{h.target.classList.contains("popup-overlay")&&e()};S.useEffect(()=>{if(a){const h=setTimeout(()=>r(""),5e3);return()=>clearTimeout(h)}},[a]);const d=async h=>{var f,m,v;h.preventDefault(),console.log("Email input:",n),c(!0),r("");try{const _=await oe.post("/api/ForgotPassword",{email:n},{headers:{"X-Requested-With":"XMLHttpRequest"}});_.status===200&&r(_.data.message||"Reset link sent to your email.")}catch(_){console.error("Forgot Password error:",_.response||_);let x="An error occurred.";((f=_.response)==null?void 0:f.status)===422&&((m=_.response.data.errors)!=null&&m.email?x=_.response.data.errors.email[0]||"Email does not exist":(v=_.response.data.message)!=null&&v.toLowerCase().includes("email")&&(x="Email does not exist")),r(x)}finally{c(!1)}};return o.jsx(o.Fragment,{children:t&&o.jsx("div",{className:"popup-overlay",onClick:u,children:o.jsxs("div",{className:"popup-content",children:[o.jsx("button",{className:"close-popup-btn",onClick:e,children:"Ã—"}),o.jsx("h2",{children:"Forgot Password"}),o.jsxs("form",{onSubmit:d,children:[o.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email",value:n,onChange:h=>i(h.target.value),required:!0}),o.jsx("button",{type:"submit",disabled:l,children:l?"Sending...":"Send Reset Link"}),a&&o.jsx("p",{children:a})]}),o.jsx("button",{className:"btn btn-primary",style:{marginTop:"20px"},onClick:s,children:"Back to Login"})]})})})};function EU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gO=EU,NU=typeof hl=="object"&&hl&&hl.Object===Object&&hl,TU=NU,CU=TU,kU=typeof self=="object"&&self&&self.Object===Object&&self,AU=CU||kU||Function("return this")(),yO=AU,OU=yO,DU=function(){return OU.Date.now()},MU=DU,RU=/\s/;function PU(t){for(var e=t.length;e--&&RU.test(t.charAt(e)););return e}var LU=PU,$U=LU,IU=/^\s+/;function BU(t){return t&&t.slice(0,$U(t)+1).replace(IU,"")}var zU=BU,HU=yO,FU=HU.Symbol,bO=FU,tE=bO,vO=Object.prototype,UU=vO.hasOwnProperty,VU=vO.toString,Wc=tE?tE.toStringTag:void 0;function qU(t){var e=UU.call(t,Wc),s=t[Wc];try{t[Wc]=void 0;var n=!0}catch{}var i=VU.call(t);return n&&(e?t[Wc]=s:delete t[Wc]),i}var WU=qU,YU=Object.prototype,GU=YU.toString;function KU(t){return GU.call(t)}var XU=KU,sE=bO,QU=WU,JU=XU,ZU="[object Null]",e6="[object Undefined]",nE=sE?sE.toStringTag:void 0;function t6(t){return t==null?t===void 0?e6:ZU:nE&&nE in Object(t)?QU(t):JU(t)}var s6=t6;function n6(t){return t!=null&&typeof t=="object"}var i6=n6,a6=s6,r6=i6,o6="[object Symbol]";function l6(t){return typeof t=="symbol"||r6(t)&&a6(t)==o6}var c6=l6,u6=zU,iE=gO,d6=c6,aE=NaN,h6=/^[-+]0x[0-9a-f]+$/i,f6=/^0b[01]+$/i,m6=/^0o[0-7]+$/i,p6=parseInt;function g6(t){if(typeof t=="number")return t;if(d6(t))return aE;if(iE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=u6(t);var s=f6.test(t);return s||m6.test(t)?p6(t.slice(2),s?2:8):h6.test(t)?aE:+t}var y6=g6,b6=gO,Cy=MU,rE=y6,v6="Expected a function",_6=Math.max,x6=Math.min;function w6(t,e,s){var n,i,a,r,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(v6);e=rE(e)||0,b6(s)&&(d=!!s.leading,h="maxWait"in s,a=h?_6(rE(s.maxWait)||0,e):a,f="trailing"in s?!!s.trailing:f);function m(C){var T=n,N=i;return n=i=void 0,u=C,r=t.apply(N,T),r}function v(C){return u=C,l=setTimeout(y,e),d?m(C):r}function _(C){var T=C-c,N=C-u,A=e-T;return h?x6(A,a-N):A}function x(C){var T=C-c,N=C-u;return c===void 0||T>=e||T<0||h&&N>=a}function y(){var C=Cy();if(x(C))return g(C);l=setTimeout(y,_(C))}function g(C){return l=void 0,f&&n?m(C):(n=i=void 0,r)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function w(){return l===void 0?r:g(Cy())}function E(){var C=Cy(),T=x(C);if(n=arguments,i=this,c=C,T){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(y,e),m(c)}return l===void 0&&(l=setTimeout(y,e)),r}return E.cancel=b,E.flush=w,E}var S6=w6;const j6=Zm(S6),Go=t=>{typeof t!="number"&&(t=Number(t));const e=t<1e4?t*1e3:t;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e)},E6=({closePopup:t,isPopupBookNow:e,selectedRoomName:s})=>{var fe;const{user:n}=S.useContext(ms),[i,a]=S.useState([]),[r,l]=S.useState(0),[c,u]=S.useState([]),[d,h]=S.useState({checkin:"",checkout:"",roomType:"",room:1,children:0,member:1,price:"0",total_price:"0",phone:""}),[f,m]=S.useState(!1),[v,_]=S.useState(""),[x,y]=S.useState("deposit"),[g,b]=S.useState(!1),[w,E]=S.useState(0),C=(ae,F)=>Math.ceil(Math.abs(new Date(F)-new Date(ae))/(1e3*60*60*24)),T=(ae,F,ne)=>{if(!F||!ne||!Je(F).isValid()||!Je(ne).isValid())return 0;const X=Je(F),G=Je(ne);let re=0;for(let ge=X;ge.isBefore(G);ge=ge.add(1,"day")){const pe=nd(ae,ge.format("YYYY-MM-DD"))||ae;re+=pe}return re},N=i.length>0&&((fe=i.find(ae=>ae.name===d.roomType))==null?void 0:fe.capacity)||0,A=()=>d.room*N,L=()=>d.room*2;S.useEffect(()=>{(async()=>{try{const[F,ne]=await Promise.all([oe.get("/api/room_types"),oe.get("/api/rooms")]),X=Array.isArray(F.data)?F.data:F.data.data||[];a(X),u(ne.data||[])}catch(F){console.error("Failed to fetch room types:",F),window.showNotification("Error loading room types","error")}})()},[]),S.useEffect(()=>{e||(h({checkin:"",checkout:"",roomType:"",room:1,children:0,member:1,price:"0",total_price:"0"}),l(0),_(""))},[e]),S.useEffect(()=>{if(e&&s&&i.length>0){const ae=i.find(F=>F.name===s);ae&&!d.roomType&&(h(F=>({...F,roomType:ae.name,price:ae.price.toString(),total_price:"0"})),l(ae.price))}},[e,s,i]),S.useEffect(()=>{(async()=>{try{const[F,ne]=await Promise.all([oe.get("/api/room_types"),oe.get("/api/rooms")]);let X=[];if(Array.isArray(F.data))X=F.data.map(G=>({id:G.id,name:G.name,price:G.price,capacity:G.capacity||0}));else if(F.data&&F.data.data&&Array.isArray(F.data.data))X=F.data.data.map(G=>({id:G.id,name:G.name,price:G.price,capacity:G.capacity||0}));else{console.error("Unexpected data structure:",F.data),window.showNotification("Invalid room types data","error");return}a(X),u(ne.data||[])}catch(F){console.error("Error fetching room types:",F.response||F),window.showNotification("Failed to load room types","error")}})()},[]),S.useEffect(()=>{n&&n.phone&&h(ae=>({...ae,phone:n.phone}))},[n]);const D=ae=>{const{id:F,value:ne}=ae.target;if(h(re=>{const ge={...re,[F]:ne};F==="checkin"&&(ge.checkout="");const pe=r||0,be=ge.checkin,Ee=ge.checkout;if(be&&Ee&&Je(be).isValid()&&Je(Ee).isValid()){let Te="";const Le=Je(be),lt=Je(Ee),wt=[];for(let he=Le;he.isBefore(lt);he=he.add(1,"day")){const Se=nd(pe,he.format("YYYY-MM-DD"));if(Se!==pe){const $=[5,6].includes(he.day()),Y=Se/pe===1.5;($||Y)&&wt.push({date:he.format("DD/MM/YYYY"),type:$&&Y?"Weekend & Holiday":$?"Weekend":"Holiday",price:Se})}}wt.length>0&&(Te=wt.map(he=>`${he.date} (${he.type}): Price is ${Go(he.price)}/night`).join(`
`)),_(Te)}return ge}),F==="room"||F==="checkin"||F==="checkout"){const re=F==="room"?ne:d.room,ge=F==="checkin"?ne:d.checkin,pe=F==="checkout"?ne:d.checkout;if(ge&&pe&&r){const Ee=T(r,ge,pe)*parseInt(re);h(Te=>({...Te,total_price:Ee.toString()}))}}const X=c.filter(re=>re.type===d.roomType&&re.status==="available").length;F==="room"&&parseInt(ne)>X&&window.showNotification(`Only ${X} room${X>1?"s":""} available`,"error");const G=parseInt(d.member)+parseInt(d.children||0);if((F==="member"||F==="children")&&G>A()&&window.showNotification(`Maximum capacity is ${A(d.room)} member${A(d.room)>1?"s":""} for ${d.room} room${d.room>1?"s":""}. Please reduce the number of members.`,"error"),F==="roomType"){const re=i.find(pe=>pe.id===parseInt(ne)),ge=re?re.price:0;l(ge)}},I=ae=>{const F=ae.getFullYear(),ne=String(ae.getMonth()+1).padStart(2,"0"),X=String(ae.getDate()).padStart(2,"0"),G=String(ae.getHours()).padStart(2,"0"),re=String(ae.getMinutes()).padStart(2,"0");return`${F}-${ne}-${X}T${G}:${re}`},q=new Date;I(q);const B=ae=>{const F=ae.getFullYear(),ne=String(ae.getMonth()+1).padStart(2,"0"),X=String(ae.getDate()).padStart(2,"0");return`${F}-${ne}-${X}`},z=B(q),M=new Date;M.setMonth(M.getMonth()+6);const H=B(M),R=async ae=>{if(ae.preventDefault(),!d.checkin||!d.checkout||!d.member||!d.phone){window.showNotification("Please fill in all required fields.","error");return}const F=new Date(d.checkin),ne=new Date(d.checkout),X=new Date;if(X.setHours(0,0,0,0),F<X){window.showNotification("Check-in date cannot be in the past.","error");return}const G=new Date;if(G.setMonth(G.getMonth()+6),F>G){window.showNotification("You can only book up to 6 months in advance.","error");return}const re=new Date(F);if(re.setDate(re.getDate()+1),ne<re){window.showNotification("Check-out date must be at least 1 day after check-in date.","error");return}if(parseInt(d.member)>A(d.room)||parseInt(d.member)<=0){window.showNotification(`Cannot book. Number of members (${d.member}) exceeds room capacity (${A(d.room)}).`,"error");return}if(parseInt(d.children)>A(d.room)||parseInt(d.children)<0){window.showNotification(`Cannot book. Number of children (${d.children}) exceeds room capacity (${A(d.room)}).`,"error");return}if(C(d.checkin,d.checkout)>30){window.showNotification("Booking is limited to a maximum of 30 days as per regulations.","error");return}const pe=1e16,be=parseFloat(d.total_price),Ee=be*.2,Te=x==="deposit"?Ee:be;if(Te>pe){window.showNotification("The payment amount exceeds the allowed limit. Please reduce the number of rooms or contact support.","error");return}const Le={user_id:n.id,name:n.name,email:n.email,phone:d.phone,room_type:d.roomType,number_of_rooms:parseInt(d.room),children:parseInt(d.children),member:parseInt(d.member),price:parseFloat(r),total_price:parseFloat(d.total_price),deposit_paid:x==="deposit"?Te:0,checkin_date:d.checkin,checkout_date:d.checkout,status:"confirmed"};localStorage.setItem("pendingBooking",JSON.stringify(Le)),E(Te),b(!0)},V=ae=>{ae?(m(!1),b(!0)):m(!1)},P=async ae=>{ae&&ae.preventDefault();try{const F=x==="deposit",ne=await oe.post("/api/booking",{user_id:n.id,name:n.name,email:n.email,phone:n.phone,room_type:d.roomType,number_of_rooms:d.room,children:d.children,member:d.member,checkin_date:d.checkin,checkout_date:d.checkout,price:d.price,total_price:d.total_price,status:F?"pending_payment":"confirmed",deposit_paid:F?w:0});t(),m(!1),_(""),window.showNotification("Booking created successfully!","success")}catch(F){console.error("Error creating booking:",F.response||F),window.showNotification("Failed to create booking or the room is full in checkin date, Pls call hotline","error")}finally{b(!1)}},se=()=>{m(!1),_("")},de=ae=>{y(ae.target.value)};return o.jsx(o.Fragment,{children:e&&o.jsx("div",{className:"popup-booknow",children:o.jsx("div",{className:"popup-overlay",onClick:ae=>ae.target.classList.contains("popup-overlay")&&t()&&_(""),children:o.jsxs("div",{className:"popup-content",children:[o.jsx("button",{className:"close-popup-btn",onClick:t,children:"Ã—"}),o.jsx("h2",{children:"Book Now"}),o.jsxs("form",{className:"book-now-form",children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"checkin",className:"form-label",children:"Check-in Date:"}),o.jsx("input",{type:"date",id:"checkin",className:"form-control",value:d.checkin,min:z,max:H,onChange:D})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"checkout",className:"form-label",children:"Check-out Date:"}),o.jsx("input",{type:"date",id:"checkout",className:"form-control",value:d.checkout,min:d.checkin?(()=>{const ae=new Date(d.checkin);return ae.setDate(ae.getDate()+1),B(ae)})():z,disabled:!d.checkin,onChange:D})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"roomType",children:"Room Type:"}),o.jsx("input",{type:"text",id:"roomType",className:"form-control",value:d.roomType,readOnly:!0})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{children:"Number of Rooms:"}),o.jsx("select",{name:"room",id:"room",className:"form-select",onChange:D,children:[1,2,3,4,5].map(ae=>o.jsx("option",{value:ae,children:ae},ae))})]})]}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{children:"Children (0â€“11):"}),o.jsx("input",{type:"number",id:"children",className:"form-control",min:"0",max:L(),onChange:D,placeholder:"0"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{children:"Member:"}),o.jsx("input",{type:"number",id:"member",className:"form-control",min:"1",max:A(),onChange:D,placeholder:"1"})]})]}),o.jsxs("div",{className:"form-group mb-3",children:[o.jsxs("label",{htmlFor:"phone",className:"form-label",children:["Phone Number ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"tel",id:"phone",name:"phone",className:"form-control",value:d.phone,onChange:D,placeholder:"Enter your phone number",pattern:"[0-9]*"})]}),o.jsxs("div",{className:"row payment-option",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:o.jsx("b",{children:"Payment Option:"})}),o.jsx("div",{children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 text-end",children:o.jsxs("label",{children:["Pay Deposit (20%)",o.jsx("input",{type:"radio",name:"paymentOption",value:"deposit",checked:x==="deposit",onChange:de})]})}),o.jsx("div",{className:"col-md-6 text-end",children:o.jsxs("label",{children:["Pay Full Amount",o.jsx("input",{type:"radio",name:"paymentOption",value:"full",checked:x==="full",onChange:de})]})})]})})]}),o.jsx("div",{className:"col-md-6",children:v&&o.jsx("p",{className:"popup-booknow text-warning",style:{whiteSpace:"pre-line"},children:v})})]}),o.jsx("div",{className:"view-price-popup info-row",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"popup-booknow col-md-6",children:[o.jsxs("p",{className:"popup-booknow info-item",children:["Days: ",C(d.checkin,d.checkout)||"0"]}),o.jsxs("p",{className:"popup-booknow info-item",children:["Base Price: ",Go(r),"/night"]})]}),o.jsxs("div",{className:"popup-booknow col-md-6 view-price",children:[o.jsxs("p",{children:["Deposit (20%): ",Go(parseFloat(d.total_price)*.2)]}),o.jsxs("p",{children:["Total Price: ",Go(parseFloat(d.total_price))]}),x==="deposit"&&o.jsxs("p",{children:["Remaining (Due on Check-in): ",Go(parseFloat(d.total_price)*.8)]}),o.jsxs("p",{children:["Amount to Pay Now: ",Go(x==="deposit"?parseFloat(d.total_price)*.2:parseFloat(d.total_price))]})]})]})}),o.jsx("button",{onClick:R,className:"btn btn-primary w-100",children:"Submit"}),f&&o.jsx(WA,{onConfirm:V,onClose:se}),g&&o.jsx(pO,{amount:w,onClose:()=>b(!1),onConfirm:P,isDeposit:x==="deposit",user:n,bookingData:JSON.parse(localStorage.getItem("pendingBooking")||"{}")})]})]})})})})},N6=({message:t,type:e="success",onClose:s})=>{const[n,i]=S.useState(!1);return S.useEffect(()=>{i(!1);const a=setTimeout(()=>{i(!0)},10),r=setTimeout(()=>{i(!1)},3010);return()=>{clearTimeout(a),clearTimeout(r)}},[t,e]),S.useEffect(()=>{if(!n){const a=setTimeout(()=>{s()},300);return()=>clearTimeout(a)}},[n,s]),o.jsxs("div",{className:`notification ${e} ${n?"show":"hide"}`,children:[o.jsx("i",{className:`icon fas ${e==="success"?"fa-check-circle":"fa-exclamation-circle"}`}),o.jsx("span",{children:t}),o.jsx("button",{className:"close-btn",onClick:()=>i(!1),children:"Ã—"})]})},T6=()=>{const[t,e]=S.useState([]),s=(i,a="success",r=3e3)=>{const l=Date.now();t.find(u=>u.message===i&&u.type===a)||(e(u=>[...u,{id:l,message:i,type:a}]),setTimeout(()=>n(l),r))},n=i=>{e(a=>a.filter(r=>r.id!==i))};return S.useEffect(()=>{window.showNotification=s},[]),o.jsx("div",{className:"notification-container",children:t.map((i,a)=>o.jsx("div",{style:{animationDelay:`${a*100}ms`},children:o.jsx(N6,{message:i.message,type:i.type,onClose:()=>n(i.id)})},i.id))})},va=({children:t})=>{const{user:e,isAdmin:s,loading:n}=S.useContext(ms);return n?o.jsx("div",{children:"Äang táº£i..."}):e?s()?t:o.jsx(ab,{to:"/",replace:!0}):o.jsx(ab,{to:"/",replace:!0})},oE=({children:t})=>{const{user:e,isStaff:s,loading:n}=S.useContext(ms);return n?o.jsx("div",{children:"Äang táº£i..."}):!e||!s()?o.jsx(ab,{to:"/",replace:!0}):t},C6=({openLoginPopup:t})=>{const[e]=m1(),[s,n]=S.useState(""),[i,a]=S.useState(""),[r,l]=S.useState(""),[c,u]=S.useState(!1),d=e.get("token"),h=e.get("email"),f=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*\W)[A-Za-z\d\W]{8,16}$/,m=async y=>{var g,b;if(y.preventDefault(),u(!0),l(""),s!==i){l("âŒ Passwords do not match."),setTimeout(()=>l(""),3e3),u(!1);return}if(!f.test(s)){l("âŒ Password must be 8-16 characters and include uppercase, lowercase, number, and special character."),setTimeout(()=>l(""),3e3),u(!1);return}try{(await oe.post("/api/reset-password",{token:d,email:h,password:s,password_confirmation:i},{headers:{"X-Requested-With":"XMLHttpRequest"}})).status===200&&(l("âœ… Password has been reset successfully. Redirecting to login..."),setTimeout(()=>{t(),window.location.href="/"},2e3))}catch(w){const E=((b=(g=w.response)==null?void 0:g.data)==null?void 0:b.message)||"An error occurred while resetting password.";console.error("Reset Password error:",w.response||w),l(`âŒ ${E}`),setTimeout(()=>l(""),3e3)}finally{u(!1)}},v=()=>{window.location.href="/"},x=(y=>({length:y.length>=8&&y.length<=16,uppercase:/[A-Z]/.test(y),lowercase:/[a-z]/.test(y),number:/\d/.test(y),specialChar:/\W/.test(y)}))(s);return o.jsxs("div",{className:"resetPass-page",children:[o.jsx("header",{className:"resetPass-header",children:o.jsx("h1",{children:"ðŸ” Reset Your Password"})}),o.jsx("main",{className:"resetPass-main",children:o.jsxs("form",{onSubmit:m,className:"resetPass-form",children:[o.jsx("input",{type:"email",className:"form-input",placeholder:"âœ‰ï¸ Enter your email",value:h||""}),o.jsx("input",{type:"password",className:"form-input",placeholder:"ðŸ”‘ New Password",value:s,onChange:y=>n(y.target.value),required:!0}),o.jsx("input",{type:"password",className:"form-input",placeholder:"ðŸ”‘ Confirm New Password",value:i,onChange:y=>a(y.target.value),required:!0}),o.jsxs("ul",{className:"password-checklist",children:[o.jsxs("li",{className:x.length?"valid":"invalid",children:[x.length?"âœ”":"âŒ"," 8â€“16 characters"]}),o.jsxs("li",{className:x.uppercase?"valid":"invalid",children:[x.uppercase?"âœ”":"âŒ"," At least one uppercase letter"]}),o.jsxs("li",{className:x.lowercase?"valid":"invalid",children:[x.lowercase?"âœ”":"âŒ"," At least one lowercase letter"]}),o.jsxs("li",{className:x.number?"valid":"invalid",children:[x.number?"âœ”":"âŒ"," At least one number"]}),o.jsxs("li",{className:x.specialChar?"valid":"invalid",children:[x.specialChar?"âœ”":"âŒ"," At least one special character"]})]}),o.jsx("button",{type:"submit",className:"btn-submit",disabled:c,children:c?"ðŸ”„ Resetting...":"ðŸ” Reset Password"}),r&&o.jsx("p",{className:`message ${r.includes("success")?"success-message":"error-message"}`,children:r}),o.jsx("button",{className:"btn-back",onClick:v,children:"â¬… Back to Login"})]})})]})},lE=()=>{const[t,e]=S.useState(!1),[s,n]=S.useState(window.innerWidth>=768),i=pn(),a=["User Management","Room list","Employee List","Edit Offer","Manage Bookings","Chart","Manage Reviews","Manage Complaints","Manage Room Info"],r=["UserManagement","RoomListManagement","EmployeeListManagement","EditOffer","ManageBookings","Chart","ReviewsManagement","ManageComplaints","RoomManagement"],l=i.pathname==="/admin";return S.useEffect(()=>{const c=()=>n(window.innerWidth>=768);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),o.jsxs("div",{className:"admin-dashboard",style:{display:"flex"},children:[s&&o.jsxs("div",{className:"sidebar d-none d-md-block",style:{position:"fixed",top:0,left:0,height:"100vh",width:"220px",backgroundColor:"#33393e",paddingTop:"1rem",zIndex:1e3},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("img",{src:"/images/logo/moonbaylogo.png",alt:"",style:{height:"65px",borderRadius:"50%"}}),o.jsx("div",{style:{color:"white",fontWeight:"bold"},children:"MANAGER"}),o.jsx("hr",{style:{color:"#7d89a1"}})]}),o.jsx("div",{style:{color:"white",padding:"0 1rem"},children:a.map((c,u)=>o.jsx("div",{style:{padding:"8px 0"},children:o.jsx(ka,{to:`/admin/${r[u]}`,className:({isActive:d})=>d?"sidebar-link_Hung active":"sidebar-link_Hung",children:o.jsx("b",{children:c})})},u))})]}),!s&&t&&o.jsx("div",{className:"mobile-sidebar-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:999},onClick:()=>e(!1),children:o.jsxs("div",{className:"mobile-sidebar-content",style:{backgroundColor:"#33393e",width:"100%",maxHeight:"100vh",overflowY:"auto",padding:"1rem",animation:"slideDown 0.3s ease"},onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("div",{style:{color:"white",fontWeight:"bold"},children:"MENU"}),o.jsx("button",{onClick:()=>e(!1),className:"btn btn-light",children:"âœ•"})]}),o.jsx("hr",{}),o.jsx("div",{style:{color:"white"},children:a.map((c,u)=>o.jsx("div",{style:{padding:"8px 0"},children:o.jsx(ka,{to:`/admin/${r[u]}`,className:({isActive:d})=>d?"sidebar-link_Hung active":"sidebar-link_Hung",onClick:()=>e(!1),children:o.jsx("b",{children:c})})},u))})]})}),o.jsxs("div",{className:"main-content",style:{marginLeft:s?"220px":"0",width:"100%",padding:"1rem",transition:"margin-left 0.3s ease"},children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[!s&&o.jsx("button",{onClick:()=>e(!0),className:"btn btn-outline-dark",children:"â˜°"}),o.jsx(st,{to:"/",style:{textDecoration:"none"},children:o.jsx("b",{children:"Home page"})}),o.jsxs("div",{children:[o.jsx("img",{src:"/images/Hung/admin.jpg",alt:"Admin",style:{width:"50px",border:"2px solid black",borderRadius:"50%"}}),o.jsx("b",{children:" Admin"})]})]}),l&&o.jsxs("div",{align:"center",style:{padding:"2% 0"},children:[o.jsx("h1",{children:"Welcome to Moonbay hotel management system!"}),o.jsx("img",{src:"/images/Hung/manager_BG.jpg",alt:"",style:{maxWidth:"60%",height:"auto",display:"block"}})]}),o.jsx(l1,{})]})]})},_O=S.createContext(),k6=({children:t})=>{const[e,s]=S.useState(""),[n,i]=S.useState(null),[a,r]=S.useState(null),l=async(u,d,h)=>{try{const f=_t.get("auth_token");if(!f)throw new Error("KhÃ´ng tÃ¬m tháº¥y token xÃ¡c thá»±c");r(null);const m=await oe.get("/api/findUserbystaff",{params:{name:u,phone:d,email:h},headers:{Authorization:`Bearer ${f}`}});m.data.message==="User found"?i(m.data.user):(i(null),r("User not found"))}catch{r("Failed to search user"),i(null)}},c=()=>{i(null),r(null),s("")};return o.jsx(_O.Provider,{value:{searchQuery:e,setSearchQuery:s,searchUser:l,searchResults:n,searchError:a,resetSearch:c},children:t})},Hd=()=>{const t=S.useContext(_O);if(!t)throw new Error("useSearch must be used within a SearchProvider");return t},A6=({handleSearchChange:t})=>{var d;const{user:e,logout:s}=S.useContext(ms),{searchQuery:n,setSearchQuery:i}=Hd(),a=bo(),r=pn(),l=r.pathname!=="/staff"&&r.pathname!=="/staff/",c=()=>{a("/staff/profile")},u=()=>{s(),a("/")};return o.jsxs("header",{className:"staff-header bg-dark text-white d-flex align-items-center justify-content-between px-3 py-2",children:[o.jsx("div",{className:"d-flex align-items-center",onClick:()=>window.location.href="/staff",children:o.jsx("h4",{className:"mb-0",children:"Staff Dashboard"})}),o.jsxs("div",{className:"d-flex align-items-center",children:[!l&&o.jsx("div",{className:"search-bar me-3",children:o.jsx("input",{type:"text",className:"form-control search-staff",placeholder:"Search data...",value:n,onChange:t})}),o.jsxs("div",{className:"staff-box d-flex align-items-center",onClick:c,style:{cursor:"pointer"},children:[o.jsx("img",{src:(d=e.avatar)!=null&&d.startsWith("http")?e.avatar:`/storage/${e.avatar}`,alt:"Avatar",width:"40",height:"40",className:"staff-img",onError:h=>{h.target.src="/images/Dat/avatar/default.png"}}),o.jsxs("div",{className:"staff-info",children:[o.jsx("p",{className:"staff-name mb-0",children:e.name}),o.jsx("p",{className:"staff-designation mb-0",children:e.email})]})]}),o.jsx("div",{className:"logout-button ms-3",children:o.jsxs("button",{className:"btn btn-outline-light btn-sm",onClick:u,children:[o.jsx("i",{className:"fas fa-sign-out-alt me-1"})," Sign out"]})})]})]})},O6=({onToggle:t})=>{const[e,s]=S.useState(!0),{searchQuery:n,setSearchQuery:i}=Hd(),a=()=>{const l=!e;s(l),t&&t(l)},r=()=>{window.location.href="/"};return o.jsx("div",{className:"staff-sidebar-page",children:o.jsxs("div",{className:`sidebar-wrapper-staff bg-dark text-white ${e?"":" sidebar-closed-staff"}`,children:[o.jsxs("div",{className:"sidebar-header-staff d-flex align-items-center justify-content-between p-3 border-bottom",children:[o.jsxs("div",{className:"d-flex align-items-center",onClick:r,children:[o.jsx("img",{src:"/images/logo/moonbaylogo.png",className:"logo-icon-staff me-2",alt:"logo icon"}),e&&o.jsx("h4",{className:"logo-text-staff mb-0",children:"MoonBay"})]}),o.jsx("div",{className:"toggle-icon",onClick:a,style:{cursor:"pointer"},children:o.jsx("i",{className:`bx ${e?"bx-arrow-to-left":"bx-arrow-to-right"} text-white`})})]}),o.jsxs("ul",{className:"nav flex-column mt-3",children:[o.jsx("li",{className:"nav-item",children:o.jsxs(ka,{className:"nav-link text-white d-flex align-items-center btn ",to:"/staff/BookingList",children:[o.jsx("i",{className:"bx bx-list-ul me-2"}),e&&"Booking History"]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(ka,{className:"nav-link text-white d-flex align-items-center btn ",to:"/staff/StaffCustomerManagement",children:[o.jsx("i",{className:"bx bx-user-circle me-2"}),e&&"Customer Management"]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(ka,{className:"nav-link text-white d-flex align-items-center",to:"/staff/StaffRoomManagement",children:[o.jsx("i",{className:"bx bx-door-open me-2"}),e&&"Room Management"]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(ka,{className:"nav-link text-white d-flex align-items-center btn ",to:"/staff/StaffServiceManager",children:[o.jsx("i",{className:"bx bx-cog me-2"}),e&&"Service Management"]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(ka,{className:"nav-link text-white d-flex align-items-center btn ",to:"/staff/ContactAdminManager",children:[o.jsx("i",{className:"bx bx-envelope me-2"}),e&&"Contact Management"]})})]})]})})},D6=()=>o.jsx("footer",{className:"staff-footer bg-dark text-white text-center py-3",children:o.jsxs("p",{className:"mb-0",children:["Â© ",new Date().getFullYear()," MoonBay. All Rights Reserved."]})}),cE=()=>{const{searchQuery:t,setSearchQuery:e}=Hd(),[s,n]=S.useState(!0),i=r=>{e(r.target.value.toLowerCase())},a=r=>{n(r)};return o.jsxs("div",{className:"staff-layout",style:{height:"100vh"},children:[o.jsx(A6,{handleSearchChange:i}),o.jsxs("div",{className:"staff-content d-flex",style:{paddingTop:"70px"},children:[o.jsx(O6,{handleSearchChange:i,onToggle:a}),o.jsx("main",{className:"flex-grow-1 staff-dashboard-main",style:{height:"calc(100vh - 70px)",overflowY:"auto",marginLeft:s?"240px":"90px",transition:"margin-left 0.3s",width:s?"calc(100% - 240px)":"calc(100% - 90px)"},children:o.jsx(l1,{})})]}),o.jsx(D6,{})]})},M6=S.createContext(),R6=({children:t,isOpen:e,setIsOpen:s})=>{const[n,i]=S.useState(e||!1),[a,r]=S.useState([{sender:"bot",text:"Xin chÃ o! TÃ´i cÃ³ thá»ƒ giÃºp gÃ¬ Ä‘Æ°á»£c cho báº¡n."}]),[l,c]=S.useState(""),[u,d]=S.useState(!1),h=["CÃ³ nhá»¯ng loáº¡i phÃ²ng nÃ o trong há»‡ thá»‘ng?","GiÃ¡ phÃ²ng bao nhiÃªu?","CÃ³ Æ°u Ä‘Ã£i nÃ o Ä‘ang Ã¡p dá»¥ng khÃ´ng?","LÃ m tháº¿ nÃ o Ä‘á»ƒ Ä‘áº·t phÃ²ng?"];S.useEffect(()=>{i(e)},[e]);const f=()=>{s(y=>!y)},m=y=>c(y.target.value),v=async(y,g=null)=>{var E,C,T,N,A;y.preventDefault();const b=g||l;if(!b.trim())return;const w={sender:"user",text:b};r(L=>[...L,w]),d(!0);try{const L=await oe.post("/api/chatbot",{prompt:b});console.log("Backend response:",L.data);const D={sender:"bot",text:L.data.response||"Xin lá»—i, khÃ´ng nháº­n Ä‘Æ°á»£c pháº£n há»“i tá»« há»‡ thá»‘ng."};r(I=>[...I,D])}catch(L){console.error("Chatbot error:",((E=L.response)==null?void 0:E.data)||L.message);const D=((T=(C=L.response)==null?void 0:C.data)==null?void 0:T.response)||((A=(N=L.response)==null?void 0:N.data)==null?void 0:A.error)||"Xin lá»—i, Ä‘Ã£ xáº£y ra lá»—i khi xá»­ lÃ½ yÃªu cáº§u.";r(I=>[...I,{sender:"bot",text:D}])}finally{c(""),d(!1)}},_=y=>g=>{v(g,y)},x=y=>{const g=/\[([^\]]+)\]\(([^)]+)\)/g,b=[];let w=0,E;for(;(E=g.exec(y))!==null;){const[C,T,N]=E,A=E.index;if(A>w&&b.push(y.slice(w,A)),/\.(jpg|jpeg|png|gif)$/i.test(N)){const D=N.startsWith("http")?N:N.startsWith("/")?`/storage${N}`:`/storage/${N}`;b.push(o.jsx("div",{className:"chatbot-image",children:o.jsx("img",{src:D,alt:T,style:{maxWidth:"100%",height:"auto",borderRadius:"8px"},onError:I=>console.log("Image load error:",I)})},A))}else b.push(o.jsx("a",{href:N,className:"chatbot-link",onClick:D=>{D.preventDefault(),window.location.href=N,s(!1)},children:T},A));w=A+C.length}return w<y.length&&b.push(y.slice(w)),b};return S.useEffect(()=>{const y=document.querySelector(".chatbot-body");y&&(y.scrollTop=y.scrollHeight)},[a]),o.jsxs(M6.Provider,{value:{toggleChatbot:f},children:[t,o.jsx("div",{className:"chatbot-container",children:o.jsxs("div",{className:`chatbot ${n?"open":""}`,children:[o.jsxs("div",{className:"chatbot-header",onClick:f,children:[o.jsx("h5",{children:"Trá»£ lÃ½ MoonBay Hotel"}),o.jsx("span",{children:n?"âˆ’":"+"})]}),n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"chatbot-body",children:[a.length===1&&o.jsx("div",{className:"chatbot-message bot faq-message",children:o.jsxs("div",{className:"faq-container",children:[o.jsx("p",{children:"CÃ¢u há»i thÆ°á»ng gáº·p:"}),h.map((y,g)=>o.jsx("button",{className:"faq-button",onClick:_(y),disabled:u,children:y},g))]})}),a.map((y,g)=>o.jsx("div",{className:`chatbot-message ${y.sender}`,children:o.jsx("p",{style:{whiteSpace:"pre-line"},children:x(y.text)})},g)),u&&o.jsx("div",{className:"chatbot-message bot",children:o.jsxs("p",{children:["Äang xá»­ lÃ½ cÃ¢u há»i cá»§a báº¡n ",o.jsx("span",{className:"typing-dots",children:"..."})]})})]}),o.jsxs("form",{className:"chatbot-input",onSubmit:v,children:[o.jsx("input",{type:"text",value:l,onChange:m,placeholder:"Há»i vá» phÃ²ng, giÃ¡, sá»©c chá»©a... hoáº·c báº¥t ká»³ cÃ¢u há»i nÃ o!",disabled:u}),o.jsx("button",{type:"submit",disabled:u,children:"Gá»­i"})]})]})]})})]})};function xO(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=xO(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function so(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=xO(t))&&(n&&(n+=" "),n+=e);return n}function P6(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}P6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Fd=t=>typeof t=="number"&&!isNaN(t),mo=t=>typeof t=="string",ca=t=>typeof t=="function",L6=t=>mo(t)||Fd(t),Tv=t=>mo(t)||ca(t)?t:null,$6=(t,e)=>t===!1||Fd(t)&&t>0?t:e,Cv=t=>S.isValidElement(t)||mo(t)||ca(t)||Fd(t);function I6(t,e,s=300){let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${s}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,s)})})}function B6({enter:t,exit:e,appendPosition:s=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:r,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:h}){let f=s?`${t}--${r}`:t,m=s?`${e}--${r}`:e,v=S.useRef(0);return S.useLayoutEffect(()=>{let _=u.current,x=f.split(" "),y=g=>{g.target===u.current&&(h(),_.removeEventListener("animationend",y),_.removeEventListener("animationcancel",y),v.current===0&&g.type!=="animationcancel"&&_.classList.remove(...x))};_.classList.add(...x),_.addEventListener("animationend",y),_.addEventListener("animationcancel",y)},[]),S.useEffect(()=>{let _=u.current,x=()=>{_.removeEventListener("animationend",x),n?I6(_,c,i):c()};d||(l?x():(v.current=1,_.className+=` ${m}`,_.addEventListener("animationend",x)))},[d]),we.createElement(we.Fragment,null,a)}}function uE(t,e){return{content:wO(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function wO(t,e,s=!1){return S.isValidElement(t)&&!mo(t.type)?S.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:s}):ca(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:s}):t}function z6({closeToast:t,theme:e,ariaLabel:s="close"}){return we.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":s},we.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},we.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function H6({delay:t,isRunning:e,closeToast:s,type:n="default",hide:i,className:a,controlledProgress:r,progress:l,rtl:c,isIn:u,theme:d}){let h=i||r&&l===0,f={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};r&&(f.transform=`scaleX(${l})`);let m=so("Toastify__progress-bar",r?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),v=ca(a)?a({rtl:c,type:n,defaultClassName:m}):so(m,a),_={[r&&l>=1?"onTransitionEnd":"onAnimationEnd"]:r&&l<1?null:()=>{u&&s()}};return we.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},we.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),we.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:v,style:f,..._}))}var F6=1,SO=()=>`${F6++}`;function U6(t,e,s){let n=1,i=0,a=[],r=[],l=e,c=new Map,u=new Set,d=g=>(u.add(g),()=>u.delete(g)),h=()=>{r=Array.from(c.values()),u.forEach(g=>g())},f=({containerId:g,toastId:b,updateId:w})=>{let E=g?g!==t:t!==1,C=c.has(b)&&w==null;return E||C},m=(g,b)=>{c.forEach(w=>{var E;(b==null||b===w.props.toastId)&&((E=w.toggle)==null||E.call(w,g))})},v=g=>{var b,w;(w=(b=g.props)==null?void 0:b.onClose)==null||w.call(b,g.removalReason),g.isActive=!1},_=g=>{if(g==null)c.forEach(v);else{let b=c.get(g);b&&v(b)}h()},x=()=>{i-=a.length,a=[]},y=g=>{var b,w;let{toastId:E,updateId:C}=g.props,T=C==null;g.staleId&&c.delete(g.staleId),g.isActive=!0,c.set(E,g),h(),s(uE(g,T?"added":"updated")),T&&((w=(b=g.props).onOpen)==null||w.call(b))};return{id:t,props:l,observe:d,toggle:m,removeToast:_,toasts:c,clearQueue:x,buildToast:(g,b)=>{if(f(b))return;let{toastId:w,updateId:E,data:C,staleId:T,delay:N}=b,A=E==null;A&&i++;let L={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(b).filter(([I,q])=>q!=null)),toastId:w,updateId:E,data:C,isIn:!1,className:Tv(b.className||l.toastClassName),progressClassName:Tv(b.progressClassName||l.progressClassName),autoClose:b.isLoading?!1:$6(b.autoClose,l.autoClose),closeToast(I){c.get(w).removalReason=I,_(w)},deleteToast(){let I=c.get(w);if(I!=null){if(s(uE(I,"removed")),c.delete(w),i--,i<0&&(i=0),a.length>0){y(a.shift());return}h()}}};L.closeButton=l.closeButton,b.closeButton===!1||Cv(b.closeButton)?L.closeButton=b.closeButton:b.closeButton===!0&&(L.closeButton=Cv(l.closeButton)?l.closeButton:!0);let D={content:g,props:L,staleId:T};l.limit&&l.limit>0&&i>l.limit&&A?a.push(D):Fd(N)?setTimeout(()=>{y(D)},N):y(D)},setProps(g){l=g},setToggle:(g,b)=>{let w=c.get(g);w&&(w.toggle=b)},isToastActive:g=>{var b;return(b=c.get(g))==null?void 0:b.isActive},getSnapshot:()=>r}}var As=new Map,ud=[],kv=new Set,V6=t=>kv.forEach(e=>e(t)),jO=()=>As.size>0;function q6(){ud.forEach(t=>NO(t.content,t.options)),ud=[]}var W6=(t,{containerId:e})=>{var s;return(s=As.get(e||1))==null?void 0:s.toasts.get(t)};function EO(t,e){var s;if(e)return!!((s=As.get(e))!=null&&s.isToastActive(t));let n=!1;return As.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function Y6(t){if(!jO()){ud=ud.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||L6(t))As.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=As.get(t.containerId);e?e.removeToast(t.id):As.forEach(s=>{s.removeToast(t.id)})}}var G6=(t={})=>{As.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function NO(t,e){Cv(t)&&(jO()||ud.push({content:t,options:e}),As.forEach(s=>{s.buildToast(t,e)}))}function K6(t){var e;(e=As.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function TO(t,e){As.forEach(s=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===s.id)&&s.toggle(t,e==null?void 0:e.id)})}function X6(t){let e=t.containerId||1;return{subscribe(s){let n=U6(e,t,V6);As.set(e,n);let i=n.observe(s);return q6(),()=>{i(),As.delete(e)}},setProps(s){var n;(n=As.get(e))==null||n.setProps(s)},getSnapshot(){var s;return(s=As.get(e))==null?void 0:s.getSnapshot()}}}function Q6(t){return kv.add(t),()=>{kv.delete(t)}}function J6(t){return t&&(mo(t.toastId)||Fd(t.toastId))?t.toastId:SO()}function Ud(t,e){return NO(t,e),e.toastId}function kp(t,e){return{...e,type:e&&e.type||t,toastId:J6(e)}}function Ap(t){return(e,s)=>Ud(e,kp(t,s))}function le(t,e){return Ud(t,kp("default",e))}le.loading=(t,e)=>Ud(t,kp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Z6(t,{pending:e,error:s,success:n},i){let a;e&&(a=mo(e)?le.loading(e,i):le.loading(e.render,{...i,...e}));let r={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null){le.dismiss(a);return}let f={type:u,...r,...i,data:h},m=mo(d)?{render:d}:d;return a?le.update(a,{...f,...m}):le(m.render,{...f,...m}),h},c=ca(t)?t():t;return c.then(u=>l("success",n,u)).catch(u=>l("error",s,u)),c}le.promise=Z6;le.success=Ap("success");le.info=Ap("info");le.error=Ap("error");le.warning=Ap("warning");le.warn=le.warning;le.dark=(t,e)=>Ud(t,kp("default",{theme:"dark",...e}));function eV(t){Y6(t)}le.dismiss=eV;le.clearWaitingQueue=G6;le.isActive=EO;le.update=(t,e={})=>{let s=W6(t,e);if(s){let{props:n,content:i}=s,a={delay:100,...n,...e,toastId:e.toastId||t,updateId:SO()};a.toastId!==t&&(a.staleId=t);let r=a.render||i;delete a.render,Ud(r,a)}};le.done=t=>{le.update(t,{progress:1})};le.onChange=Q6;le.play=t=>TO(!0,t);le.pause=t=>TO(!1,t);function tV(t){var e;let{subscribe:s,getSnapshot:n,setProps:i}=S.useRef(X6(t)).current;i(t);let a=(e=S.useSyncExternalStore(s,n,n))==null?void 0:e.slice();function r(l){if(!a)return[];let c=new Map;return t.newestOnTop&&a.reverse(),a.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:r,isToastActive:EO,count:a==null?void 0:a.length}}function sV(t){let[e,s]=S.useState(!1),[n,i]=S.useState(!1),a=S.useRef(null),r=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=t;K6({id:t.toastId,containerId:t.containerId,fn:s}),S.useEffect(()=>{if(t.pauseOnFocusLoss)return f(),()=>{m()}},[t.pauseOnFocusLoss]);function f(){document.hasFocus()||y(),window.addEventListener("focus",x),window.addEventListener("blur",y)}function m(){window.removeEventListener("focus",x),window.removeEventListener("blur",y)}function v(T){if(t.draggable===!0||t.draggable===T.pointerType){g();let N=a.current;r.canCloseOnClick=!0,r.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(r.start=T.clientX,r.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(r.start=T.clientY,r.removalDistance=N.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function _(T){let{top:N,bottom:A,left:L,right:D}=a.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=L&&T.clientX<=D&&T.clientY>=N&&T.clientY<=A?y():x()}function x(){s(!0)}function y(){s(!1)}function g(){r.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",E)}function b(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",E)}function w(T){let N=a.current;if(r.canDrag&&N){r.didMove=!0,e&&y(),t.draggableDirection==="x"?r.delta=T.clientX-r.start:r.delta=T.clientY-r.start,r.start!==T.clientX&&(r.canCloseOnClick=!1);let A=t.draggableDirection==="x"?`${r.delta}px, var(--y)`:`0, calc(${r.delta}px + var(--y))`;N.style.transform=`translate3d(${A},0)`,N.style.opacity=`${1-Math.abs(r.delta/r.removalDistance)}`}}function E(){b();let T=a.current;if(r.canDrag&&r.didMove&&T){if(r.canDrag=!1,Math.abs(r.delta)>r.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let C={onPointerDown:v,onPointerUp:_};return l&&c&&(C.onMouseEnter=y,t.stacked||(C.onMouseLeave=x)),h&&(C.onClick=T=>{d&&d(T),r.canCloseOnClick&&u(!0)}),{playToast:x,pauseToast:y,isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:C}}var nV=typeof window<"u"?S.useLayoutEffect:S.useEffect,Op=({theme:t,type:e,isLoading:s,...n})=>we.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function iV(t){return we.createElement(Op,{...t},we.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function aV(t){return we.createElement(Op,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function rV(t){return we.createElement(Op,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function oV(t){return we.createElement(Op,{...t},we.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function lV(){return we.createElement("div",{className:"Toastify__spinner"})}var Av={info:aV,warning:iV,success:rV,error:oV,spinner:lV},cV=t=>t in Av;function uV({theme:t,type:e,isLoading:s,icon:n}){let i=null,a={theme:t,type:e};return n===!1||(ca(n)?i=n({...a,isLoading:s}):S.isValidElement(n)?i=S.cloneElement(n,a):s?i=Av.spinner():cV(e)&&(i=Av[e](a))),i}var dV=t=>{let{isRunning:e,preventExitTransition:s,toastRef:n,eventHandlers:i,playToast:a}=sV(t),{closeButton:r,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:m,position:v,className:_,style:x,progressClassName:y,updateId:g,role:b,progress:w,rtl:E,toastId:C,deleteToast:T,isIn:N,isLoading:A,closeOnClick:L,theme:D,ariaLabel:I}=t,q=so("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":L}),B=ca(_)?_({rtl:E,position:v,type:d,defaultClassName:q}):so(q,_),z=uV(t),M=!!w||!c,H={closeToast:f,type:d,theme:D},R=null;return r===!1||(ca(r)?R=r(H):S.isValidElement(r)?R=S.cloneElement(r,H):R=z6(H)),we.createElement(m,{isIn:N,done:T,position:v,preventExitTransition:s,nodeRef:n,playToast:a},we.createElement("div",{id:C,tabIndex:0,onClick:u,"data-in":N,className:B,...i,style:x,ref:n,...N&&{role:b,"aria-label":I}},z!=null&&we.createElement("div",{className:so("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},z),wO(l,t,!e),R,!t.customProgressBar&&we.createElement(H6,{...g&&!M?{key:`p-${g}`}:{},rtl:E,theme:D,delay:c,isRunning:e,isIn:N,closeToast:f,hide:h,type:d,className:y,controlledProgress:M,progress:w||0})))},hV=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),fV=B6(hV("bounce",!0)),mV={position:"top-right",transition:fV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Ai(t){let e={...mV,...t},s=t.stacked,[n,i]=S.useState(!0),a=S.useRef(null),{getToastToRender:r,isToastActive:l,count:c}=tV(e),{className:u,style:d,rtl:h,containerId:f,hotKeys:m}=e;function v(x){let y=so("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":h});return ca(u)?u({position:x,rtl:h,defaultClassName:y}):so(y,Tv(u))}function _(){s&&(i(!0),le.play())}return nV(()=>{var x;if(s){let y=a.current.querySelectorAll('[data-in="true"]'),g=12,b=(x=e.position)==null?void 0:x.includes("top"),w=0,E=0;Array.from(y).reverse().forEach((C,T)=>{let N=C;N.classList.add("Toastify__toast--stacked"),T>0&&(N.dataset.collapsed=`${n}`),N.dataset.pos||(N.dataset.pos=b?"top":"bot");let A=w*(n?.2:1)+(n?0:g*T);N.style.setProperty("--y",`${b?A:A*-1}px`),N.style.setProperty("--g",`${g}`),N.style.setProperty("--s",`${1-(n?E:0)}`),w+=N.offsetHeight,E+=.025})}},[n,c,s]),S.useEffect(()=>{function x(y){var g;let b=a.current;m(y)&&((g=b.querySelector('[tabIndex="0"]'))==null||g.focus(),i(!1),le.pause()),y.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(i(!0),le.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[m]),we.createElement("section",{ref:a,className:"Toastify",id:f,onMouseEnter:()=>{s&&(i(!1),le.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},r((x,y)=>{let g=y.length?{...d}:{...d,pointerEvents:"none"};return we.createElement("div",{tabIndex:-1,className:v(x),"data-stacked":s,style:g,key:`c-${x}`},y.map(({content:b,props:w})=>we.createElement(dV,{...w,stacked:s,collapseAll:_,isIn:l(w.toastId,w.containerId),key:`t-${w.key}`},b)))}))}const dE=()=>{const[t,e]=S.useState([]),[s,n]=S.useState(!0),[i,a]=S.useState(1),[r,l]=S.useState(1),[c,u]=S.useState(!1),[d,h]=S.useState(null),[f,m]=S.useState("");S.useEffect(()=>{(async()=>{try{const b=await oe.get(`http://localhost:8000/api/users_manager?page=${i}`);e(b.data.data),l(b.data.last_page),n(!1)}catch{le.error("Unable to load customer list. Please try again later."),n(!1)}})()},[i]);const v=()=>{i>1&&a(i-1)},_=()=>{i<r&&a(i+1)},x=g=>{h(g),m(g.status),u(!0)},y=async()=>{if(!(!d||!f))try{await oe.put(`http://localhost:8000/api/users_manager/${d.id}`,{status:f}),e(t.map(g=>g.id===d.id?{...g,status:f}:g)),u(!1),le.success("User status updated successfully")}catch{le.error("Failed to update user status. Please try again later.")}};return o.jsx("div",{className:"user-management",children:o.jsxs("div",{className:"container-fluid py-5 bg-light min-vh-100",children:[o.jsx(Ai,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),o.jsx("div",{className:"text-center mb-5",children:o.jsxs("h1",{className:"display-5 fw-bold text-primary",children:[o.jsx("i",{className:"bi bi-people-fill me-2"}),"Customer Management"]})}),s&&o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),!s&&o.jsx("div",{className:"card shadow-lg border-0",children:o.jsxs("div",{className:"card-body p-4",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-bordered align-middle",children:[o.jsx("thead",{className:"table-primary",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"text-center",children:"ID"}),o.jsx("th",{scope:"col",className:"text-center",children:"Name"}),o.jsx("th",{scope:"col",className:"text-center",children:"Email"}),o.jsx("th",{scope:"col",className:"text-center",children:"Phone"}),o.jsx("th",{scope:"col",className:"text-center",children:"Role"}),o.jsx("th",{scope:"col",className:"text-center",children:"Status"}),o.jsx("th",{scope:"col",className:"text-center",children:"Created At"}),o.jsx("th",{scope:"col",className:"text-center",children:"Action"})]})}),o.jsx("tbody",{children:t.length>0?t.map((g,b)=>o.jsxs("tr",{className:"hover-row",children:[o.jsx("td",{className:"text-center",children:g.id}),o.jsx("td",{className:"text-center",children:g.name}),o.jsx("td",{className:"text-center",children:g.email}),o.jsx("td",{className:"text-center",children:g.phone||"N/A"}),o.jsx("td",{className:"text-center",children:o.jsx("span",{className:"badge bg-info",children:g.role})}),o.jsx("td",{className:"text-center",children:o.jsx("span",{className:`badge ${g.status==="active"?"bg-success":g.status==="inactive"?"bg-warning":"bg-danger"}`,children:g.status})}),o.jsx("td",{className:"text-center",children:g.created_at?new Date(g.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}),o.jsx("td",{className:"text-center",children:o.jsx("button",{onClick:()=>x(g),className:"btn btn-primary btn-sm",title:"Edit User Status",children:o.jsx("i",{className:"bi bi-pencil-fill"})})})]},g.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:"8",className:"text-center text-muted py-3",children:"No customers available."})})})]})}),c&&d&&o.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Update User Status"}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>u(!1)})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsxs("label",{className:"form-label",children:["Status for ",d.name]}),o.jsxs("select",{className:"form-select",value:f,onChange:g=>m(g.target.value),children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"banned",children:"Banned"})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>u(!1),children:"Cancel"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:y,children:"Save"})]})]})})}),o.jsx("nav",{"aria-label":"Page navigation",children:o.jsxs("ul",{className:"pagination justify-content-center mt-4",children:[o.jsx("li",{className:`page-item ${i===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:v,disabled:i===1,children:o.jsx("i",{className:"bi bi-chevron-left"})})}),o.jsx("li",{className:"page-item disabled",children:o.jsxs("span",{className:"page-link",children:[i," / ",r]})}),o.jsx("li",{className:`page-item ${i===r?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:_,disabled:i===r,children:o.jsx("i",{className:"bi bi-chevron-right"})})})]})})]})})]})})},hE=()=>{const[t,e]=S.useState([]),[s,n]=S.useState(!0),[i,a]=S.useState(1),[r,l]=S.useState(1),[c,u]=S.useState(!1),[d,h]=S.useState(!1),[f,m]=S.useState(null),[v,_]=S.useState({room_number:"",type:"",price:"",status:"available"});S.useEffect(()=>{x()},[i]);const x=async()=>{try{const A=await oe.get(`http://localhost:8000/api/room_list?page=${i}`);e(A.data.data),l(A.data.last_page),n(!1)}catch{le.error("Unable to load room list. Please try again later."),n(!1)}},y=A=>{const{name:L,value:D}=A.target;_({...v,[L]:D})},g=()=>{_({room_number:"",type:"",price:"",status:"available"})},b=async A=>{A.preventDefault();try{await oe.post("http://localhost:8000/api/room_list",v),le.success("Room added successfully!"),u(!1),g(),x()}catch{le.error("Failed to add room. Please try again.")}},w=async A=>{A.preventDefault();try{await oe.put(`http://localhost:8000/api/room_list/${f.id}`,v),le.success("Room updated successfully!"),h(!1),x()}catch{le.error("Failed to update room. Please try again.")}},E=async A=>{if(window.confirm("Are you sure you want to delete this room?"))try{await oe.delete(`http://localhost:8000/api/room_list/${A}`),le.success("Room deleted successfully!"),x()}catch{le.error("Failed to delete room. Please try again.")}},C=A=>{m(A),_({room_number:A.room_number,type:A.type,price:A.price,status:A.status}),h(!0)},T=()=>{i>1&&a(i-1)},N=()=>{i<r&&a(i+1)};return o.jsxs("div",{className:"container-fluid py-4 bg-light min-vh-100",children:[o.jsx(Ai,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h1",{className:"display-4 text-primary fw-bold",children:"Room List Management"}),o.jsx("button",{className:"btn btn-primary",onClick:()=>u(!0),children:"Add New Room"})]}),s&&o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),!s&&o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-striped table-hover table-bordered align-middle",children:[o.jsx("thead",{className:"table-dark",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"text-center",children:"ID"}),o.jsx("th",{scope:"col",className:"text-center",children:"Room Number"}),o.jsx("th",{scope:"col",className:"text-center",children:"Type"}),o.jsx("th",{scope:"col",className:"text-center",children:"Price (VND)"}),o.jsx("th",{scope:"col",className:"text-center",children:"Status"}),o.jsx("th",{scope:"col",className:"text-center",children:"Actions"})]})}),o.jsx("tbody",{children:t.length>0?t.map((A,L)=>o.jsxs("tr",{children:[o.jsx("td",{className:"text-center",children:A.id}),o.jsx("td",{className:"text-center",children:A.room_number}),o.jsx("td",{className:"text-center",children:A.type}),o.jsx("td",{className:"text-center",children:new Intl.NumberFormat("vi-VN").format(A.price)}),o.jsx("td",{className:"text-center",children:o.jsx("span",{className:`badge ${A.status==="available"?"bg-success":A.status==="booked"?"bg-warning":"bg-danger"}`,children:A.status})}),o.jsxs("td",{className:"text-center",children:[o.jsx("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>C(A),children:"Edit"}),o.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>E(A.id),children:"Delete"})]})]},A.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:"8",className:"text-center text-muted",children:"No rooms available."})})})]})}),o.jsx("nav",{"aria-label":"Page navigation",children:o.jsxs("ul",{className:"pagination justify-content-center mt-4",children:[o.jsx("li",{className:`page-item ${i===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:T,disabled:i===1,children:o.jsx("span",{"aria-hidden":"true",children:"Â«"})})}),o.jsx("li",{className:"page-item disabled",children:o.jsxs("span",{className:"page-link",children:[i," / ",r]})}),o.jsx("li",{className:`page-item ${i===r?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:N,disabled:i===r,children:o.jsx("span",{"aria-hidden":"true",children:"Â»"})})})]})})]})}),o.jsx("div",{className:`modal fade ${c?"show d-block":""}`,tabIndex:"-1",role:"dialog",style:{backgroundColor:c?"rgba(0,0,0,0.5)":"transparent"},children:o.jsx("div",{className:"modal-dialog",role:"document",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Add New Room"}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>u(!1),"aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:b,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),o.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:v.room_number,onChange:y,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type"}),o.jsx("input",{type:"text",className:"form-control",id:"type",name:"type",value:v.type,onChange:y,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"price",className:"form-label",children:"Price (VND)"}),o.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:v.price,onChange:y,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),o.jsxs("select",{className:"form-select",id:"status",name:"status",value:v.status,onChange:y,children:[o.jsx("option",{value:"available",children:"Available"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Room"})}),o.jsx("div",{className:"col-md-6",children:o.jsx("button",{className:"btn btn-secondary ms-2",onClick:g,children:" Reset  "})})]})]})})]})})}),o.jsx("div",{className:`modal fade ${d?"show d-block":""}`,tabIndex:"-1",role:"dialog",style:{backgroundColor:d?"rgba(0,0,0,0.5)":"transparent"},children:o.jsx("div",{className:"modal-dialog",role:"document",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Edit Room"}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>h(!1),"aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:w,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"room_number_edit",className:"form-label",children:"Room Number"}),o.jsx("input",{type:"text",className:"form-control",id:"room_number_edit",name:"room_number",value:v.room_number,onChange:y,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"type_edit",className:"form-label",children:"Type"}),o.jsx("input",{type:"text",className:"form-control",id:"type_edit",name:"type",value:v.type,onChange:y,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"price_edit",className:"form-label",children:"Price (VND)"}),o.jsx("input",{type:"number",className:"form-control",id:"price_edit",name:"price",value:v.price,onChange:y,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"status_edit",className:"form-label",children:"Status"}),o.jsxs("select",{className:"form-select",id:"status_edit",name:"status",value:v.status,onChange:y,children:[o.jsx("option",{value:"available",children:"Available"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Room"})}),o.jsx("div",{className:"col-md-6",children:o.jsx("button",{className:"btn btn-secondary ms-2",onClick:g,children:" Reset  "})})]})]})})]})})})]})},fE=()=>{const[t,e]=S.useState([]),[s,n]=S.useState(!0),[i,a]=S.useState(1),[r,l]=S.useState(1),[c,u]=S.useState(!1),[d,h]=S.useState(!1),[f,m]=S.useState(null),[v,_]=S.useState({name:"",email:"",phone:"",role:"staff",status:"active"});S.useEffect(()=>{(async()=>{try{const A=await oe.get(`http://localhost:8000/api/staff_manager?page=${i}`),L=A.data.data;e(L),l(A.data.last_page),n(!1)}catch{le.error("Unable to load staff list. Please try again later."),n(!1)}})()},[i]);const x=()=>{i>1&&a(i-1)},y=()=>{i<r&&a(i+1)},g=async N=>{if(window.confirm("Are you sure you want to delete this staff?"))try{await oe.delete(`http://localhost:8000/api/staff_manager/${N}`),e(t.filter(A=>A.id!==N)),le.success("Staff deleted successfully"),t.length===1&&i>1&&a(i-1)}catch{le.error("Failed to delete staff. Please try again later.")}},b=async N=>{N.preventDefault();try{const A=await oe.post("http://localhost:8000/api/staff_manager",v);e([...t,A.data]),u(!1),C(),le.success("Staff added successfully")}catch{le.error("Failed to add staff. Please try again later.")}},w=async N=>{N.preventDefault();try{const A=await oe.put(`http://localhost:8000/api/staff_manager/${f.id}`,v);e(t.map(L=>L.id===f.id?A.data:L)),h(!1),C(),le.success("Staff updated successfully")}catch{le.error("Failed to update staff. Please try again later.")}},E=N=>{m(N),_({name:N.name,email:N.email,phone:N.phone||"",role:N.role,status:N.status}),h(!0)},C=()=>{_({name:"",email:"",phone:"",role:"staff",status:"active"}),m(null)},T=N=>{const{name:A,value:L}=N.target;_({...v,[A]:L})};return o.jsxs("div",{className:"container-fluid py-4 bg-light min-vh-100",children:[o.jsx(Ai,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h1",{className:"display-4 text-primary fw-bold",children:"Staff List Management"}),o.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>u(!0),children:"Add New Staff"})]}),s&&o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),!s&&o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-striped table-hover table-bordered align-middle",children:[o.jsx("thead",{className:"table-dark",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"text-center",children:"ID"}),o.jsx("th",{scope:"col",className:"text-center",children:"Name"}),o.jsx("th",{scope:"col",className:"text-center",children:"Email"}),o.jsx("th",{scope:"col",className:"text-center",children:"Phone Number"}),o.jsx("th",{scope:"col",className:"text-center",children:"Role"}),o.jsx("th",{scope:"col",className:"text-center",children:"Status"}),o.jsx("th",{scope:"col",className:"text-center",children:"Created At"}),o.jsx("th",{scope:"col",className:"text-center",children:"Action"})]})}),o.jsx("tbody",{children:t.length>0?t.map((N,A)=>o.jsxs("tr",{children:[o.jsx("td",{className:"text-center",children:N.id}),o.jsx("td",{className:"text-center",children:N.name}),o.jsx("td",{className:"text-center",children:N.email}),o.jsx("td",{className:"text-center",children:N.phone||"N/A"}),o.jsx("td",{className:"text-center",children:N.role}),o.jsx("td",{className:"text-center",children:o.jsx("span",{className:`badge ${N.status==="active"?"bg-success":N.status==="inactive"?"bg-warning":"bg-danger"}`,children:N.status})}),o.jsx("td",{className:"text-center",children:N.created_at?new Date(N.created_at).toLocaleDateString("vi-VN"):"N/A"}),o.jsxs("td",{className:"text-center",children:[o.jsx("button",{onClick:()=>E(N),className:"btn btn-warning btn-sm me-2",children:"Edit"}),o.jsx("button",{onClick:()=>g(N.id),className:"btn btn-danger btn-sm",children:"Delete"})]})]},N.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:"9",className:"text-center text-muted",children:"No staff members available."})})})]})}),o.jsx("nav",{"aria-label":"Page navigation",children:o.jsxs("ul",{className:"pagination justify-content-center mt-4",children:[o.jsx("li",{className:`page-item ${i===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:x,disabled:i===1,children:o.jsx("span",{"aria-hidden":"true",children:"Â«"})})}),o.jsx("li",{className:"page-item disabled",children:o.jsxs("span",{className:"page-link",children:[i," / ",r]})}),o.jsx("li",{className:`page-item ${i===r?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:y,disabled:i===r,children:o.jsx("span",{"aria-hidden":"true",children:"Â»"})})})]})})]})}),o.jsx("div",{className:`modal fade ${c?"show d-block":""}`,tabIndex:"-1",role:"dialog",children:o.jsx("div",{className:"modal-dialog",role:"document",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",style:{backgroundColor:"#a37d2c",color:"white"},children:[o.jsx("h5",{className:"modal-title",children:"Add New Staff"}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>{u(!1),C()}})]}),o.jsxs("form",{onSubmit:b,children:[o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:v.name,onChange:T,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:v.email,onChange:T,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),o.jsx("input",{type:"text",className:"form-control",id:"phone",name:"phone",value:v.phone,onChange:T})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"role",className:"form-label",children:"Role"}),o.jsxs("select",{className:"form-select",id:"role",name:"role",value:v.role,onChange:T,children:[o.jsx("option",{value:"staff",children:"Staff"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"manager",children:"Manager"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),o.jsxs("select",{className:"form-select",id:"status",name:"status",value:v.status,onChange:T,children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("div",{className:"col-md-5",align:"center",children:o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>C(),style:{width:"80px",height:"40px"},children:"Reset"})}),o.jsx("div",{className:"col-md-6",align:"center",children:o.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"130px",height:"40px"},children:"Add Staff"})})]})]})]})})}),o.jsx("div",{className:`modal fade ${d?"show d-block":""}`,tabIndex:"-1",role:"dialog",children:o.jsx("div",{className:"modal-dialog",role:"document",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",style:{backgroundColor:"#408074",color:"white"},children:[o.jsx("h5",{className:"modal-title",children:"Edit Staff"}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>{h(!1),C()}})]}),o.jsxs("form",{onSubmit:w,children:[o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:v.name,onChange:T,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:v.email,onChange:T,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),o.jsx("input",{type:"text",className:"form-control",id:"phone",name:"phone",value:v.phone,onChange:T})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"role",className:"form-label",children:"Role"}),o.jsxs("select",{className:"form-select",id:"role",name:"role",value:v.role,onChange:T,children:[o.jsx("option",{value:"staff",children:"Staff"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"manager",children:"Manager"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),o.jsxs("select",{className:"form-select",id:"status",name:"status",value:v.status,onChange:T,children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),o.jsxs("div",{className:"modal-footer row",children:[o.jsx("div",{className:"col-md-5",align:"center",children:o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>C(),style:{width:"80px",height:"40px"},children:"Reset"})}),o.jsx("div",{className:"col-md-6",align:"center",children:o.jsx("button",{type:"submit",className:"btn btn-primary ",style:{width:"130px",height:"40px"},children:"Save"})})]})]})]})})})]})},mE=()=>{const[t,e]=S.useState([]);S.useEffect(()=>{oe.get("/api/special-offers").then(r=>{const l=r.data.filter(c=>c.season||c.free_services||c.total_bill_threshold||c.stay_duration_days||c.other_package_description);e(l),setTimeout(()=>{const c=l[0];c&&(c.season&&(document.getElementById("season").value=c.season),c.free_services&&(document.getElementById("service").value=c.free_services),c.season_start&&(document.getElementById("seasonStart").value=c.season_start.substring(0,10)),c.season_end&&(document.getElementById("seasonEnd").value=c.season_end.substring(0,10)),c.total_bill_threshold&&(document.getElementById("totalBill").value=c.total_bill_threshold),c.discount_percent&&(document.getElementById("discount").value=c.discount_percent),c.discount_start&&(document.getElementById("discountStart").value=c.discount_start.substring(0,10)),c.discount_end&&(document.getElementById("discountEnd").value=c.discount_end.substring(0,10)),c.stay_duration_days&&(document.getElementById("totalDays").value=c.stay_duration_days),c.gift_description&&(document.getElementById("souvenir").value=c.gift_description),c.gift_start&&(document.getElementById("giftStart").value=c.gift_start.substring(0,10)),c.gift_end&&(document.getElementById("giftEnd").value=c.gift_end.substring(0,10)),c.other_package_description&&(document.getElementById("condition").value=c.other_package_description),c.offer_type&&(document.getElementById("endow").value=c.offer_type),c.other_offer_start&&(document.getElementById("otherStart").value=c.other_offer_start.substring(0,10)),c.other_offer_end&&(document.getElementById("otherEnd").value=c.other_offer_end.substring(0,10)))},100)}).catch(r=>{console.error("Error while getting offer:",r)})},[]);const s=r=>{var u;r.preventDefault();const l={season:document.getElementById("season").value,free_services:document.getElementById("service").value,season_start:document.getElementById("seasonStart").value,season_end:document.getElementById("seasonEnd").value,total_bill_threshold:document.getElementById("totalBill").value,discount_percent:document.getElementById("discount").value,discount_start:document.getElementById("discountStart").value,discount_end:document.getElementById("discountEnd").value,stay_duration_days:document.getElementById("totalDays").value,gift_description:document.getElementById("souvenir").value,gift_start:document.getElementById("giftStart").value,gift_end:document.getElementById("giftEnd").value,other_package_description:document.getElementById("condition").value,offer_type:document.getElementById("endow").value,other_offer_start:document.getElementById("otherStart").value,other_offer_end:document.getElementById("otherEnd").value},c=(u=t[0])==null?void 0:u.id;c?oe.put(`http://localhost:8000/api/special-offers/${c}`,l).then(d=>{alert("Update successful!"),window.location.reload()}).catch(d=>{console.error("Error while updating:",d),alert("An error occurred while sending data..")}):alert("No offers to update.")},[n,i]=S.useState(""),a=async()=>{try{const r=await oe.post("http://localhost:8000/api/send-offers",{},{headers:{Accept:"application/json"}});i("Offers sent successfully!")}catch(r){console.error("Error sending offers:",r),i("Failed to send offers.")}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"container py-5",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("h1",{className:"card-title mb-4",children:"Send promotional information to customers"}),o.jsx("button",{className:"btn btn-primary mb-3",onClick:a,children:"Send Offers"}),n&&o.jsx("p",{className:"alert alert-info",children:n})]})})}),o.jsx("div",{className:"row offer_Hung",style:{padding:"0 5%",justifyContent:"center","--bs-gutter-x":0},children:t.map((r,l)=>o.jsxs(we.Fragment,{children:[r.season&&r.free_services&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%",marginRight:"2%"},children:o.jsx("div",{className:"chiecla1_hung",style:{backgroundImage:`url('/images/Hung/${r.season.toLowerCase()}.jpg')`,backgroundSize:"cover",width:"100%",height:"200px"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"rgba(0, 0, 0, 0.25)",color:"white",height:"100%",paddingTop:"2%",textAlign:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Season"})}),o.jsx("b",{children:r.season})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Service"})}),o.jsx("b",{children:r.free_services})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),": ",o.jsx("br",{})," ",new Date(r.season_start).toLocaleDateString("vi-VN")," - ",new Date(r.season_end).toLocaleDateString("vi-VN")]})]})})}),r.total_bill_threshold&&r.discount_percent&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%",marginRight:"2%"},children:o.jsx("div",{style:{width:"100%",height:"200px",textAlign:"center"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"#1f97c9",color:"white",height:"100%",paddingTop:"2%"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Total Bill"})}),o.jsxs("b",{children:[Math.floor(r.total_bill_threshold).toLocaleString("vi-VN")," VND"]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Discount"})}),o.jsxs("b",{children:[r.discount_percent,"%"]})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),o.jsx("br",{})," ",new Date(r.discount_start).toLocaleDateString("vi-VN")," - ",new Date(r.discount_end).toLocaleDateString("vi-VN")]})]})})}),r.stay_duration_days&&r.gift_description&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%",marginRight:"2%"},children:o.jsx("div",{style:{width:"100%",height:"200px",textAlign:"center"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"#1f97c9",color:"white",height:"100%",paddingTop:"2%"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Total days"})}),o.jsxs("b",{children:[r.stay_duration_days," day"]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Souvenir"})}),o.jsx("b",{children:r.gift_description})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),": ",o.jsx("br",{}),new Date(r.gift_start).toLocaleDateString("vi-VN")," - ",new Date(r.gift_end).toLocaleDateString("vi-VN")]})]})})}),r.other_package_description&&r.offer_type&&o.jsx("div",{className:"col-md-2",style:{paddingBottom:"2%"},children:o.jsx("div",{className:"chiecla1_hung",style:{backgroundImage:"url('/images/Hung/Uudaikhac.jpg')",backgroundSize:"cover",width:"100%",height:"200px"},children:o.jsxs("div",{className:"row container chiecla1_hung",style:{backgroundColor:"rgba(0, 0, 0, 0.25)",color:"white",height:"100%",paddingTop:"2%",textAlign:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Condition"})}),o.jsx("b",{children:r.other_package_description})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("b",{children:"Endow"})}),o.jsx("b",{children:r.offer_type})]}),o.jsx("hr",{}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("b",{children:"Time"}),": ",o.jsx("br",{})," ",new Date(r.other_offer_start).toLocaleDateString("vi-VN")," - ",new Date(r.other_offer_end).toLocaleDateString("vi-VN")]})]})})})]},l))}),o.jsxs("div",{className:"container mt-5",children:[o.jsx("h4",{className:"mb-4",children:"Edit / Add Offer"}),o.jsxs("form",{onSubmit:s,children:[o.jsxs("fieldset",{className:"border p-3 mb-4",children:[o.jsx("legend",{className:"w-auto px-2",children:"Seasons & Services"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"season",children:"Season"}),o.jsxs("select",{className:"form-control",id:"season",children:[o.jsx("option",{children:"Spring"}),o.jsx("option",{children:"Summer"}),o.jsx("option",{children:"Autumn"}),o.jsx("option",{children:"Winter"})]})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"service",children:"Service"}),o.jsxs("select",{className:"form-control",id:"service",children:[o.jsx("option",{children:"Spa"}),o.jsx("option",{children:"Swimming pool"}),o.jsx("option",{children:"Gym"}),o.jsx("option",{children:"Buffet"}),o.jsx("option",{children:"Shuttle and Transportation"})]})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"seasonStart",children:"Start Date"}),o.jsx("input",{type:"date",className:"form-control",id:"seasonStart"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"seasonEnd",children:"End Date"}),o.jsx("input",{type:"date",className:"form-control",id:"seasonEnd"})]})]})]}),o.jsxs("fieldset",{className:"border p-3 mb-4",children:[o.jsx("legend",{className:"w-auto px-2",children:"Invoice Offer"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"totalBill",children:"Total Bill (VND)"}),o.jsx("input",{type:"number",className:"form-control",id:"totalBill"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"discount",children:"Discount (%)"}),o.jsx("input",{type:"number",className:"form-control",id:"discount"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"discountStart",children:"Start Date"}),o.jsx("input",{type:"date",className:"form-control",id:"discountStart"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"discountEnd",children:"End Date"}),o.jsx("input",{type:"date",className:"form-control",id:"discountEnd"})]})]})]}),o.jsxs("fieldset",{className:"border p-3 mb-4",children:[o.jsx("legend",{className:"w-auto px-2",children:"Accommodation Offers"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"totalDays",children:"Total Stay Days"}),o.jsx("input",{type:"number",className:"form-control",id:"totalDays"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"souvenir",children:"Souvenir"}),o.jsx("input",{type:"text",className:"form-control",id:"souvenir"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"giftStart",children:"Start Date"}),o.jsx("input",{type:"date",className:"form-control",id:"giftStart"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"giftEnd",children:"End Date"}),o.jsx("input",{type:"date",className:"form-control",id:"giftEnd"})]})]})]}),o.jsxs("fieldset",{className:"border p-3 mb-4",children:[o.jsx("legend",{className:"w-auto px-2",children:"Other offers"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"condition",children:"Condition"}),o.jsx("input",{type:"text",className:"form-control",id:"condition"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"endow",children:"Endow"}),o.jsx("input",{type:"text",className:"form-control",id:"endow"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"otherStart",children:"Start Date"}),o.jsx("input",{type:"date",className:"form-control",id:"otherStart"})]}),o.jsxs("div",{className:"form-group col-md-6",children:[o.jsx("label",{htmlFor:"otherEnd",children:"End Date"}),o.jsx("input",{type:"date",className:"form-control",id:"otherEnd"})]})]})]}),o.jsxs("div",{className:"mt-4 d-flex justify-content-end gap-3",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),o.jsx("button",{type:"reset",className:"btn btn-secondary",children:"Reset"})]})]})]})]})};var CO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pE=we.createContext&&we.createContext(CO),pV=["attr","size","title"];function gV(t,e){if(t==null)return{};var s=yV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function yV(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Mm.apply(this,arguments)}function gE(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,n)}return s}function Rm(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(s),!0).forEach(function(n){bV(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):gE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function bV(t,e,s){return e=vV(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function vV(t){var e=_V(t,"string");return typeof e=="symbol"?e:e+""}function _V(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kO(t){return t&&t.map((e,s)=>we.createElement(e.tag,Rm({key:s},e.attr),kO(e.child)))}function gx(t){return e=>we.createElement(xV,Mm({attr:Rm({},t.attr)},e),kO(t.child))}function xV(t){var e=s=>{var{attr:n,size:i,title:a}=t,r=gV(t,pV),l=i||s.size||"1em",c;return s.className&&(c=s.className),t.className&&(c=(c?c+" ":"")+t.className),we.createElement("svg",Mm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,r,{className:c,style:Rm(Rm({color:t.color||s.color},s.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&we.createElement("title",null,a),t.children)};return pE!==void 0?we.createElement(pE.Consumer,null,s=>e(s)):e(CO)}function wV(t){return gx({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function Pm(t){return gx({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Ov(t){return gx({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(t)}const AO=({selectedRating:t,onChange:e,ratingsCount:s={}})=>{const n=i=>{e(i===t?null:i)};return o.jsx("div",{className:"flex items-center space-x-2 mb-4",children:[5,4,3,2,1].map(i=>o.jsxs("button",{onClick:()=>n(i),className:`flex items-center px-2 py-1 rounded border ${t===i?"bg-yellow-300":"bg-white"}`,children:[Array.from({length:i},(a,r)=>o.jsx(Pm,{color:"#FBBF24"},r)),o.jsxs("span",{className:"ml-1",children:["(",s[i]||0," reviews)"]})]},i))})},yE=()=>{const{token:t}=S.useContext(ms),[e,s]=S.useState([]),[n,i]=S.useState(!0),[a,r]=S.useState(1),[l,c]=S.useState(1),[u,d]=S.useState({}),[h,f]=S.useState(""),[m,v]=S.useState(null),[_,x]=S.useState({}),[y,g]=S.useState(0),[b,w]=S.useState({}),[E,C]=S.useState(!1),[T,N]=S.useState(null),[A,L]=S.useState(!1),[D,I]=S.useState(new Set),q=async(F=1)=>{var ne;i(!0);try{const X=t?{Authorization:`Bearer ${t}`}:{},G=await oe.get("/api/admin/reviews",{params:{page:F,sort_rating:h,filter_rating:m},headers:X});s(G.data.reviews.data),r(G.data.reviews.current_page),c(G.data.reviews.last_page),g(G.data.reviews.total),x(G.data.ratingsCount||{});const re=G.data.reviews.data.filter(ge=>{var pe;return(pe=ge.user)==null?void 0:pe.is_banned}).map(ge=>ge.user_id);I(new Set(re))}catch(X){console.error("Error loading reviews:",((ne=X.response)==null?void 0:ne.data)||X.message),le.error("Failed to load reviews. Please try again.")}finally{i(!1)}},B=async F=>{var ne;if(window.confirm("Are you sure you want to delete this review?"))try{const X=t?{Authorization:`Bearer ${t}`}:{};await oe.delete(`http://localhost:8000/api/reviews/${F}`,{headers:X}),le.success("Review deleted successfully!"),q(a)}catch(X){console.error("Deletion failed:",((ne=X.response)==null?void 0:ne.data)||X.message),le.error("Failed to delete review. Please try again.")}},z=async F=>{var X,G,re;const ne=b[F]||"";if(!ne.trim()){le.error("Please enter a reply!");return}try{const ge=t?{Authorization:`Bearer ${t}`}:{},pe=await oe.post(`http://localhost:8000/api/admin/reviews/${F}/reply`,{admin_reply:ne},{headers:ge});le.success(pe.data.message||"Reply submitted successfully!"),w(be=>({...be,[F]:""})),q(a)}catch(ge){console.error("Error submitting reply:",((X=ge.response)==null?void 0:X.data)||ge.message),le.error(((re=(G=ge.response)==null?void 0:G.data)==null?void 0:re.message)||"Failed to submit reply. Please try again.")}},M=async()=>{var F,ne,X,G;if(T){L(!0);try{const re=t?{Authorization:`Bearer ${t}`}:{},ge=await oe.post(`http://localhost:8000/api/admin/users/${T}/ban`,{},{headers:re});le.success(ge.data.message||"User has been banned and can no longer submit reviews!"),I(pe=>new Set(pe).add(T)),q(a)}catch(re){console.error("Ban failed:",((F=re.response)==null?void 0:F.data)||re.message);const ge=((X=(ne=re.response)==null?void 0:ne.data)==null?void 0:X.message)||"Failed to ban user. Please try again.";((G=re.response)==null?void 0:G.status)===409?(le.error("User is already banned and cannot submit reviews."),I(pe=>new Set(pe).add(T))):le.error(ge)}finally{L(!1),C(!1),N(null)}}},H=async F=>{var ne,X,G;if(window.confirm("Are you sure you want to unban this user?"))try{const re=t?{Authorization:`Bearer ${t}`}:{},ge=await oe.post(`http://localhost:8000/api/admin/users/${F}/unban`,{},{headers:re});le.success(ge.data.message||"User has been unbanned and can now submit reviews!"),I(pe=>{const be=new Set(pe);return be.delete(F),be}),q(a)}catch(re){console.error("Unban failed:",((ne=re.response)==null?void 0:ne.data)||re.message),le.error(((G=(X=re.response)==null?void 0:X.data)==null?void 0:G.message)||"Failed to unban user. Please try again.")}},R=F=>{N(F),C(!0)},V=()=>{C(!1),N(null)};S.useEffect(()=>{q(a)},[a,h,m]);const P=()=>{a>1&&r(a-1)},se=()=>{a<l&&r(a+1)},de=(F,ne)=>{d(X=>({...X,[`${ne}-${F}`]:!X[`${ne}-${F}`]}))},fe=F=>{f(F.target.value),r(1)},ae=F=>{v(F),r(1)};return o.jsxs("div",{className:"p-4 bg-light min-vh-100",children:[o.jsx(Ai,{}),o.jsx("h1",{className:"display-5 fw-bold mb-4 text-center",children:"Manage Reviews"}),o.jsxs("div",{className:"row mb-4",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"me-2",children:"Sort by rating:"}),o.jsxs("select",{value:h,onChange:fe,className:"form-select w-auto d-inline-block",children:[o.jsx("option",{value:"",children:"Default"}),o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"me-2",children:"Filter by rating:"}),o.jsx(AO,{selectedRating:m,onChange:ae,ratingsCount:_})]})]}),n?o.jsx("p",{className:"text-center",children:"Loading data..."}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-striped table-hover table-bordered",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-3 text-start",scope:"col",children:"ID"}),o.jsx("th",{className:"py-3 text-start",scope:"col",children:"UserID"}),o.jsx("th",{className:"py-3 text-start",scope:"col",children:"Email"}),o.jsx("th",{className:"py-3 text-start",scope:"col",children:"Rating"}),o.jsx("th",{className:"py-3 text-start",scope:"col",children:"Comment"}),o.jsx("th",{className:"py-3 text-start",scope:"col",children:"Admin Reply"}),o.jsx("th",{className:"py-3 text-start",scope:"col",children:"Date"}),o.jsx("th",{className:"py-3 text-start",scope:"col",children:"Action"})]})}),o.jsxs("tbody",{children:[e.map(F=>o.jsxs("tr",{className:"align-middle",children:[o.jsx("td",{className:"py-2 text-center",children:F.id}),o.jsx("td",{className:"py-2 text-center",children:F.user_id}),o.jsx("td",{className:"py-2 text-center text-truncate",style:{maxWidth:"150px"},children:F.email}),o.jsx("td",{className:"py-2 text-center",style:{minWidth:"100px"},children:o.jsx("div",{className:"d-flex justify-content-center align-items-center",children:[...Array(5)].map((ne,X)=>X<F.rating?o.jsx(Pm,{color:"#F59E0B"},X):o.jsx(Ov,{color:"#F59E0B"},X))})}),o.jsx("td",{className:"py-2 text-center",style:{maxWidth:"100%",wordBreak:"break-word"},children:u[`comment-${F.id}`]?o.jsxs(o.Fragment,{children:[F.comment,o.jsx("button",{onClick:()=>de(F.id,"comment"),className:"btn btn-link text-decoration-underline ms-2",children:"Collapse"})]}):o.jsxs(o.Fragment,{children:[F.comment.length>100?`${F.comment.slice(0,40)}...`:F.comment,F.comment.length>100&&o.jsx("button",{onClick:()=>de(F.id,"comment"),className:"btn btn-link text-decoration-underline ms-2",children:"Read more"})]})}),o.jsx("td",{className:"py-2 text-center",style:{maxWidth:"100%",wordBreak:"break-all"},children:F.admin_reply?u[`admin_reply-${F.id}`]?o.jsxs(o.Fragment,{children:[F.admin_reply,o.jsx("button",{onClick:()=>de(F.id,"admin_reply"),className:"btn btn-link text-decoration-underline ms-2",children:"Collapse"})]}):o.jsxs(o.Fragment,{children:[F.admin_reply.length>100?`${F.admin_reply.slice(0,40)}...`:F.admin_reply,F.admin_reply.length>100&&o.jsx("button",{onClick:()=>de(F.id,"admin_reply"),className:"btn btn-link text-decoration-underline ms-2",children:"Read more"})]}):"No reply yet"}),o.jsx("td",{className:"py-2 text-center",children:new Date(F.created_at).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),o.jsx("td",{className:"py-2 text-center",children:o.jsxs("div",{className:"d-flex flex-column gap-2",children:[o.jsxs("div",{children:[o.jsx("textarea",{value:b[F.id]||"",onChange:ne=>w(X=>({...X,[F.id]:ne.target.value})),placeholder:"Enter admin reply",className:"form-control mb-1",rows:"2"}),o.jsx("button",{onClick:()=>z(F.id),className:"btn btn-primary rounded w-100",children:"Reply"})]}),o.jsx("button",{onClick:()=>B(F.id),className:"btn btn-danger rounded",children:"Delete"}),D.has(F.user_id)?o.jsx("button",{onClick:()=>H(F.user_id),className:"btn btn-success rounded",children:"Unban User"}):o.jsx("button",{onClick:()=>R(F.user_id),className:"btn btn-warning rounded",children:"Ban User"})]})})]},F.id)),e.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"8",className:"text-center py-4",children:"No reviews available."})})]})]})}),o.jsx("div",{children:o.jsxs("p",{className:"text-center mb-4 text-secondary",children:["Total reviews: ",o.jsx("strong",{children:y})]})}),o.jsxs("div",{className:"mt-4 mb-4 d-flex justify-content-center gap-3",children:[o.jsx("button",{onClick:P,disabled:a===1,className:"btn btn-primary px-4 py-2",children:"Previous"}),o.jsxs("span",{className:"d-flex align-items-center",children:["Page ",a," / ",l]}),o.jsx("button",{onClick:se,disabled:a===l,className:"btn btn-primary px-4 py-2",children:"Next"})]})]}),o.jsx("div",{className:`modal fade ${E?"show d-block":""}`,tabIndex:"-1",style:{backgroundColor:E?"rgba(0,0,0,0.5)":"transparent"},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Confirm Ban User"}),o.jsx("button",{type:"button",className:"btn-close",onClick:V})]}),o.jsx("div",{className:"modal-body",children:"Are you sure you want to ban this user? This will prevent them from submitting reviews."}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:V,children:"Cancel"}),o.jsx("button",{type:"button",className:"btn btn-danger",onClick:M,disabled:A,children:A?"Banning...":"Ban User"})]})]})})})]})},Ko={pending:1,resolved:2,rejected:3},bE=()=>{const[t,e]=S.useState([]),[s,n]=S.useState([]),[i,a]=S.useState(!0),[r,l]=S.useState({}),[c,u]=S.useState(1),[d,h]=S.useState(1),[f,m]=S.useState(0);S.useEffect(()=>{v(c)},[c]);const v=async w=>{a(!0);try{const[E,C]=await Promise.all([oe.get(`/api/admin/complaints?page=${w}`),oe.get("/api/admin/employees")]),T=E.data.data.sort((N,A)=>Ko[N.status]!==Ko[A.status]?Ko[N.status]-Ko[A.status]:new Date(N.created_at)-new Date(A.created_at));e(T),n(C.data),h(E.data.last_page),m(E.data.total),a(!1),l({})}catch(E){console.error("Error loading data:",E),le.error("Failed to load complaints!"),a(!1)}},_=()=>{const E=[],C=[];let T;for(let N=1;N<=d;N++)(N===1||N===d||N>=c-2&&N<=c+2)&&E.push(N);for(let N of E)T&&(N-T===2?C.push(T+1):N-T!==1&&C.push("...")),C.push(N),T=N;return C},x=w=>{w>=1&&w<=d&&w!==c&&u(w)},y=(w,E,C)=>{l(T=>({...T,[w]:{...T[w],[E]:C}}))},g=async w=>{if(window.confirm("Are you sure you want to save changes?"))try{const E=r[w];if(!E)return;await oe.put(`/api/admin/complaints/${w}`,E),le.success("Changes saved successfully!");const T=[...t.map(N=>N.id===w?{...N,...E}:N)].sort((N,A)=>{const L=Ko[N.status]||99,D=Ko[A.status]||99;return L!==D?L-D:new Date(N.created_at)-new Date(A.created_at)});e(T),l(N=>{const A={...N};return delete A[w],A})}catch(E){console.error("Error saving:",E),le.error("Failed to save changes!")}},b=async w=>{if(window.confirm("Are you sure you want to delete this complaint?"))try{await oe.delete(`/api/admin/complaints/${w}`),le.success("Complaint deleted successfully!"),v(c)}catch(E){console.error("Error deleting:",E),le.error("Failed to delete complaint!")}};return i?o.jsx("div",{className:"container text-center py-5",children:"Loading data..."}):o.jsxs("div",{className:"container py-5 bg-light rounded-3 shadow-sm",children:[o.jsx(Ai,{}),o.jsx("h2",{className:"text-center mb-4 fw-bold",children:"Manage Complaints"}),o.jsx("style",{children:`
          /* Äiá»u chá»‰nh Ä‘á»™ rá»™ng cá»™t */
          .custom-table th, .custom-table td {
            vertical-align: middle;
            text-align: center;
            white-space: nowrap; /* NgÄƒn wrap ná»™i dung */
            overflow: hidden;
            text-overflow: ellipsis; /* Hiá»ƒn thá»‹ ... náº¿u ná»™i dung quÃ¡ dÃ i */
          }

          /* Äá»™ rá»™ng cá»‘ Ä‘á»‹nh cho tá»«ng cá»™t */
          .custom-table th:nth-child(1), .custom-table td:nth-child(1) {
            width: 50px; /* ID */
          }
          .custom-table th:nth-child(2), .custom-table td:nth-child(2) {
            width: 60px; /* UserID */
          }
          .custom-table th:nth-child(3), .custom-table td:nth-child(3) {
            width: 80px; /* Name */
          }
          .custom-table th:nth-child(4), .custom-table td:nth-child(4) {
            width: 120px; /* Email */
          }
          .custom-table th:nth-child(5), .custom-table td:nth-child(5) {
            width: 100px; /* Phone Number */
          }
          .custom-table th:nth-child(6), .custom-table td:nth-child(6) {
            width: 100px; /* Complaint Type */
          }
          .custom-table th:nth-child(7), .custom-table td:nth-child(7) {
            width: 150px; /* Description */
          }
          .custom-table th:nth-child(8), .custom-table td:nth-child(8) {
            width: 80px; /* Contact Preference */
          }
          .custom-table th:nth-child(9), .custom-table td:nth-child(9) {
            width: 100px; /* Created Date */
          }
          .custom-table th:nth-child(10), .custom-table td:nth-child(10) {
            width: 150px; /* Status */
          }
          .custom-table th:nth-child(11), .custom-table td:nth-child(11) {
            width: 150px; /* Handler */
          }
          .custom-table th:nth-child(12), .custom-table td:nth-child(12) {
            width: 120px; /* Action */
          }

          /* Äáº£m báº£o dropdown hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ ná»™i dung */
          .custom-table .form-select {
            width: 100%;
            min-width: 120px;
            padding: 5px;
          }

          /* Responsive cho mÃ n hÃ¬nh nhá» */
          @media (max-width: 768px) {
            .custom-table th, .custom-table td {
              font-size: 14px;
              padding: 8px 4px; /* Giáº£m padding trÃªn mobile */
            }
            .custom-table th:nth-child(1), .custom-table td:nth-child(1) {
              width: 40px;
            }
            .custom-table th:nth-child(2), .custom-table td:nth-child(2) {
              width: 50px;
            }
            .custom-table th:nth-child(3), .custom-table td:nth-child(3) {
              width: 60px;
            }
            .custom-table th:nth-child(4), .custom-table td:nth-child(4) {
              width: 100px;
            }
            .custom-table th:nth-child(5), .custom-table td:nth-child(5) {
              width: 80px;
            }
            .custom-table th:nth-child(6), .custom-table td:nth-child(6) {
              width: 80px;
            }
            .custom-table th:nth-child(7), .custom-table td:nth-child(7) {
              width: 120px;
            }
            .custom-table th:nth-child(8), .custom-table td:nth-child(8) {
              width: 60px;
            }
            .custom-table th:nth-child(9), .custom-table td:nth-child(9) {
              width: 80px;
            }
            .custom-table th:nth-child(10), .custom-table td:nth-child(10) {
              width: 120px;
            }
            .custom-table th:nth-child(11), .custom-table td:nth-child(11) {
              width: 120px;
            }
            .custom-table th:nth-child(12), .custom-table td:nth-child(12) {
              width: 100px;
            }
          }

          /* Äáº£m báº£o cÃ¡c nÃºt Save/Delete khÃ´ng bá»‹ co láº¡i */
          .custom-table .btn-sm {
            padding: 5px 10px;
            font-size: 14px;
          }
        `}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-striped table-bordered table-hover align-middle custom-table",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{className:"text-center",children:[o.jsx("th",{scope:"col",children:"ID"}),o.jsx("th",{scope:"col",children:"UserID"}),o.jsx("th",{scope:"col",children:"Name"}),o.jsx("th",{scope:"col",children:"Email"}),o.jsx("th",{scope:"col",children:"Phone Number"}),o.jsx("th",{scope:"col",children:"Complaint Type"}),o.jsx("th",{scope:"col",children:"Description"}),o.jsx("th",{scope:"col",children:"Contact Preference"}),o.jsx("th",{scope:"col",children:"Created Date"}),o.jsx("th",{scope:"col",children:"Status"}),o.jsx("th",{scope:"col",children:"Handler"}),o.jsx("th",{scope:"col",children:"Action"})]})}),o.jsx("tbody",{children:t.map(w=>{const E=r[w.id]||{},C=E.status??w.status??"pending",T=E.handler_name??w.handler_name??"";return o.jsxs("tr",{className:"text-center",children:[o.jsx("td",{children:w.id}),o.jsx("td",{children:w.user_id}),o.jsx("td",{children:w.name}),o.jsx("td",{children:w.customer_email}),o.jsx("td",{children:w.customer_phone}),o.jsx("td",{children:w.complaint_type}),o.jsx("td",{children:w.description}),o.jsx("td",{children:w.contact_preference}),o.jsx("td",{children:new Date(w.created_at).toLocaleDateString()}),o.jsx("td",{children:o.jsxs("select",{value:C,onChange:N=>y(w.id,"status",N.target.value),className:"form-select form-select-sm",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"resolved",children:"Resolved"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})}),o.jsx("td",{children:o.jsxs("select",{value:T,onChange:N=>y(w.id,"handler_name",N.target.value),className:"form-select form-select-sm",children:[o.jsx("option",{value:"",children:"-- Select employee --"}),s.map(N=>o.jsx("option",{value:N.name,children:N.name},N.id))]})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[o.jsx("button",{onClick:()=>g(w.id),className:"btn btn-primary btn-sm",children:"Save"}),o.jsx("button",{onClick:()=>b(w.id),className:"btn btn-danger btn-sm",children:"Delete"})]})})]},w.id)})})]})}),o.jsx("div",{className:"text-center mt-3",children:o.jsxs("p",{className:"fw-bold",children:["Total complaints: ",f]})}),o.jsx("nav",{"aria-label":"Page navigation",className:"d-flex justify-content-center mt-3",children:o.jsxs("ul",{className:"pagination",children:[o.jsx("li",{className:`page-item ${c===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(c-1),children:"Previous"})}),_().map((w,E)=>w==="..."?o.jsx("li",{className:"page-item disabled",children:o.jsx("span",{className:"page-link",children:"..."})},E):o.jsx("li",{className:`page-item ${w===c?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(w),children:w})},w)),o.jsx("li",{className:`page-item ${c===d?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(c+1),children:"Next"})})]})})]})},vE=()=>{const[t,e]=S.useState([]),[s,n]=S.useState(null),[i,a]=S.useState(!0),[r,l]=S.useState(null),[c,u]=S.useState(""),[d,h]=S.useState(!1),[f,m]=S.useState({name:"",capacity:"",price:"",description:"",image:null});S.useEffect(()=>{v()},[]);const v=()=>{a(!0),fetch("/api/room_types").then(D=>D.json()).then(D=>{const I=D.map(q=>(q.image?q.image_url=q.image.startsWith("http")?q.image:`/storage/room_types_huy/${q.image}`:q.image_url=null,q));e(I),a(!1)}).catch(D=>{console.error("ERROR: ",D),le.error("Failed to fetch rooms."),a(!1)})},_=D=>{if(!D&&D!==0)return"";const I=parseFloat(D);return isNaN(I)?"":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(I).replace("â‚«","").trim()},x=D=>D.replace(/[^0-9]/g,""),y=D=>{const{name:I,value:q}=D.target;if(I==="price"){const B=x(q);n({...s,[I]:B})}else n({...s,[I]:q})},g=D=>{const{name:I,value:q}=D.target;if(I==="price"){const B=x(q);m({...f,[I]:B})}else m({...f,[I]:q})},b=D=>{n({...D,image:null}),l(D.id)},w=D=>{const I=D.target.files[0];if(I&&I instanceof File&&["image/jpeg","image/png","image/jpg","image/gif"].includes(I.type)){if(I.size>2*1024*1024){le.error("Image size must not exceed 2MB.");return}n({...s,image:I})}else le.error("Please select a valid image file (JPEG, PNG, JPG, GIF).")},E=D=>{const I=D.target.files[0];if(I&&I instanceof File&&["image/jpeg","image/png","image/jpg","image/gif"].includes(I.type)){if(I.size>2*1024*1024){le.error("Image size must not exceed 2MB.");return}m({...f,image:I})}else le.error("Please select a valid image file (JPEG, PNG, JPG, GIF).")},C=()=>{if(!s){le.error("No room selected for editing.");return}if(!s.name||!s.capacity||!s.price){le.error("Please fill in all required fields (Name, Capacity, Price).");return}const D=parseInt(s.capacity),I=parseFloat(s.price);if(isNaN(D)||D<1){le.error("Capacity must be a positive integer.");return}if(isNaN(I)||I<0){le.error("Price must be a non-negative number.");return}const q=new FormData;q.append("name",String(s.name)),q.append("capacity",String(D)),q.append("price",String(I)),q.append("description",String(s.description||"")),s.image&&s.image instanceof File&&q.append("image",s.image);for(let[B,z]of q.entries())console.log(`${B}: ${z instanceof File?z.name:z}`);a(!0),q.append("_method","PUT"),fetch(`/api/room_types/${s.id}`,{method:"POST",body:q}).then(B=>B.ok?B.json():B.json().then(z=>{throw new Error(`HTTP ERROR! status: ${B.status}, response: ${JSON.stringify(z)}`)})).then(B=>{console.log("Response from server:",B),le.success("Room updated successfully!"),n(null),v(),a(!1)}).catch(B=>{console.error("Error:",B.message);try{const z=JSON.parse(B.message.split("response: ")[1]);if(z.messages){const M=Object.values(z.messages).flat().join(" ");le.error(`Update failed: ${M}`)}else le.error(`Update failed: ${z.error||B.message}`)}catch{le.error(`Update failed: ${B.message}`)}a(!1)})},T=()=>{if(!f.name||!f.capacity||!f.price){le.error("Please fill in all required fields (Name, Capacity, Price).");return}const D=parseInt(f.capacity),I=parseFloat(f.price);if(isNaN(D)||D<1){le.error("Capacity must be a positive integer.");return}if(isNaN(I)||I<0){le.error("Price must be a non-negative number.");return}const q=new FormData;q.append("name",String(f.name)),q.append("capacity",String(D)),q.append("price",String(I)),q.append("description",String(f.description||"")),f.image&&f.image instanceof File&&q.append("image",f.image);for(let[B,z]of q.entries())console.log(`${B}: ${z instanceof File?z.name:z}`);a(!0),fetch("/api/room_types",{method:"POST",body:q}).then(B=>B.ok?B.json():B.json().then(z=>{throw new Error(`HTTP ERROR! status: ${B.status}, response: ${JSON.stringify(z)}`)})).then(B=>{le.success("New room added successfully!"),h(!1),m({name:"",capacity:"",price:"",description:"",image:null}),v(),a(!1)}).catch(B=>{console.error("ERROR when adding room:",B);try{const z=JSON.parse(B.message.split("response: ")[1]);if(z.messages){const M=Object.values(z.messages).flat().join(" ");le.error(`Add room failed: ${M}`)}else le.error(`Add room failed: ${z.error||B.message}`)}catch{le.error(`Add room failed: ${B.message}`)}a(!1)})},N=D=>{l(r===D?null:D)},A=t.filter(D=>D.name.toLowerCase().includes(c.toLowerCase())),L=D=>{window.confirm("Are you sure you want to delete this room type?")&&(a(!0),fetch(`/api/room_types/${D}`,{method:"DELETE"}).then(I=>{if(!I.ok)return I.json().then(q=>{throw new Error(`HTTP ERROR! status: ${I.status}, response: ${JSON.stringify(q)}`)});le.success("Room deleted successfully!"),v()}).catch(I=>{console.error("ERROR when deleting room:",I),le.error(`Delete failed: ${I.message}`),a(!1)}))};return o.jsxs("div",{className:"container mt-4",children:[o.jsx(Ai,{}),o.jsxs("div",{className:"bg-primary text-white p-4 rounded-top",children:[o.jsx("h2",{className:"h4 mb-1",children:"Room Type Management"}),o.jsx("p",{className:"mb-0",children:"Add, edit and manage room types in your hotel"})]}),o.jsxs("div",{className:"border p-4 rounded-bottom bg-white",children:[o.jsxs("div",{className:"row mb-4",children:[o.jsx("div",{className:"col-md-6 mb-2",children:o.jsx("div",{className:"row mb-4",children:o.jsx("div",{className:"col-md-8 mb-2",children:o.jsxs("div",{className:"position-relative",children:[o.jsx(jz,{size:16,className:"position-absolute top-50 start-0 translate-middle-y ms-2 text-muted"}),o.jsx("input",{type:"text",className:"form-control ps-5",placeholder:"Search room type...",value:c,onChange:D=>u(D.target.value)})]})})})}),o.jsx("div",{className:"col-md-6 text-md-end",children:o.jsxs("button",{className:"btn btn-primary",onClick:()=>h(!0),children:[o.jsx(CA,{size:16,className:"me-2"})," Add Room Type"]})})]}),d&&o.jsxs("div",{className:"card card-body mb-4",children:[o.jsx("h5",{children:"Add New Room Type"}),o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Room Name"}),o.jsx("input",{type:"text",className:"form-control",value:f.name,onChange:g,name:"name"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Capacity"}),o.jsx("input",{type:"number",className:"form-control",value:f.capacity,onChange:g,name:"capacity"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Price (VND)"}),o.jsx("input",{type:"text",className:"form-control",value:_(f.price),onChange:g,name:"price"})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",rows:3,value:f.description,onChange:g,name:"description"})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Image"}),o.jsx("input",{type:"file",className:"form-control",accept:"image/jpeg,image/png,image/jpg,image/gif",onChange:E})]})]}),o.jsxs("div",{className:"mt-3 d-flex gap-2",children:[o.jsxs("button",{className:"btn btn-success",onClick:T,children:[o.jsx(wm,{size:18,className:"me-2"})," Save"]}),o.jsxs("button",{className:"btn btn-secondary",onClick:()=>h(!1),children:[o.jsx(Sm,{size:18,className:"me-2"})," Cancel"]})]})]}),i&&t.length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary mb-2"}),o.jsx("p",{children:"Loading data..."})]}):A.length===0?o.jsxs("div",{className:"alert alert-info text-center",children:[o.jsx(TA,{size:24,className:"me-2"}),c?"No matching room type found.":"No room types available."]}):o.jsx("div",{className:"accordion",id:"roomAccordion",children:A.map(D=>o.jsxs("div",{className:"accordion-item mb-3",children:[o.jsx("h2",{className:"accordion-header",children:o.jsx("button",{className:`accordion-button ${r===D.id?"":"collapsed"}`,type:"button",onClick:()=>(s==null?void 0:s.id)!==D.id&&N(D.id),children:o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("strong",{children:D.name}),o.jsxs("div",{className:"text-muted small mt-1",children:[o.jsx(Cz,{size:14,className:"me-1"})," ",D.capacity," people |"," ",o.jsx(yz,{size:14,className:"me-1 text-success"})," ",_(D.price)]})]})})}),o.jsx("div",{className:`accordion-collapse collapse ${r===D.id?"show":""}`,children:o.jsx("div",{className:"accordion-body",children:(s==null?void 0:s.id)===D.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Room Name"}),o.jsx("input",{name:"name",className:"form-control",value:s.name,onChange:y})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Capacity"}),o.jsx("input",{type:"number",name:"capacity",className:"form-control",value:s.capacity,onChange:y})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Price (VND)"}),o.jsx("input",{type:"text",name:"price",className:"form-control",value:_(s.price),onChange:y})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{name:"description",className:"form-control",value:s.description,onChange:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Image"}),o.jsx("input",{type:"file",name:"image",className:"form-control",accept:"image/jpeg,image/png,image/jpg,image/gif",onChange:w})]})]}),o.jsxs("div",{className:"d-flex gap-2 mt-3",children:[o.jsxs("button",{className:"btn btn-success",onClick:C,children:[o.jsx(wm,{size:18,className:"me-2"})," Save"]}),o.jsxs("button",{className:"btn btn-secondary",onClick:()=>n(null),children:[o.jsx(Sm,{size:18,className:"me-2"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{children:D.description}),D.image_url&&o.jsx("img",{src:D.image_url,alt:D.name,className:"img-fluid mb-2",style:{maxWidth:"50%"}}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsxs("button",{className:"btn btn-warning",onClick:()=>b(D),children:[o.jsx(rx,{size:18})," Edit"]}),o.jsxs("button",{className:"btn btn-danger",onClick:()=>L(D.id),children:[o.jsx(ox,{size:18})," Delete"]})]})]})})})]},D.id))})]})]})},SV=({checkLogins:t})=>{const{user:e,token:s}=S.useContext(ms),[n,i]=S.useState({user_id:(e==null?void 0:e.id)||"",email:(e==null?void 0:e.email)||"",rating:"",comment:""}),[a,r]=S.useState(!1),[l,c]=S.useState([]),[u,d]=S.useState({}),[h,f]=S.useState(1),[m,v]=S.useState(1),[_,x]=S.useState(null),[y,g]=S.useState({}),[b,w]=S.useState(0),E=[{label:"Home",link:"/"},{label:"Reviews"}],C=async(B=1)=>{var z;try{const M=s?{Authorization:`Bearer ${s}`}:{},H=await oe.get("/api/reviews",{params:{page:B,filter_rating:_},headers:M}),R=H.data.reviews;c(R.data),v(R.last_page),g(H.data.ratingsCount||{}),w(H.data.reviews.total)}catch(M){console.error("Error loading reviews:",((z=M.response)==null?void 0:z.data)||M.message),le.error("Failed to load reviews. Please try again.")}};S.useEffect(()=>{C(h)},[h,_]);const T=async B=>{var z,M,H;if(B.preventDefault(),!n.rating||!n.comment){le.error("Please select a star rating and enter a comment!");return}if(!s||s==="null"||s===""){le.error("Invalid token, please log in again!");return}try{r(!0);const R={Authorization:`Bearer ${s}`};await oe.post("http://localhost:8000/api/reviews",{user_id:e==null?void 0:e.id,email:e==null?void 0:e.email,rating:n.rating,comment:n.comment},{headers:R}),le.success("Thank you for submitting your review!"),f(m),C(m),i({user_id:n.user_id,email:n.email,rating:"",comment:""})}catch(R){console.error("Error submitting review:",((z=R.response)==null?void 0:z.data)||R.message),((H=(M=R.response)==null?void 0:M.data)==null?void 0:H.message)==="Banned users cannot access this resource"?le.error("You are banned from submitting reviews. Please contact support."):le.error("Unable to submit review. Please try again or contact support.")}finally{r(!1)}},N=(B,z)=>{d(M=>({...M,[`${z}-${B}`]:!M[`${z}-${B}`]}))},A=()=>{h>1&&f(h-1)},L=()=>{h<m&&f(h+1)},D=B=>{if(!B)return"Customer";const[z,M]=B.split("@");return M?`${z.slice(0,3)}***@${M}`:"Customer"},I=B=>{x(B),f(1)},q=()=>{const[B,z]=S.useState(0),M=H=>{i({...n,rating:H.toString()})};return o.jsx("div",{className:"star-rating mb-2",children:[1,2,3,4,5].map(H=>o.jsx("span",{className:`star ${H<=(B||parseInt(n.rating)||0)?"filled":""}`,onClick:()=>M(H),onMouseEnter:()=>z(H),onMouseLeave:()=>z(0),role:"button",tabIndex:0,"aria-label":`Rate ${H} star${H>1?"s":""}`,children:H<=(B||parseInt(n.rating)||0)?o.jsx(Pm,{color:"#F59E0B"}):o.jsx(Ov,{color:"#F59E0B"})},H))})};return o.jsxs(o.Fragment,{children:[o.jsx(sr,{}),o.jsx(Ai,{}),o.jsxs("div",{className:"container border p-4 rounded mt-4 mb-4",children:[o.jsx(tr,{items:E}),o.jsx("h3",{align:"center",children:"Customer Reviews"}),e?o.jsxs("form",{onSubmit:T,className:"border p-3 rounded mb-4",children:[o.jsx("h5",{className:"text-center",children:"Submit Your Review"}),o.jsx("input",{type:"hidden",value:n.user_id}),o.jsx("input",{type:"email",className:"form-control mb-2",value:n.email,readOnly:!0}),o.jsx(q,{}),o.jsx("textarea",{className:"form-control mb-2",placeholder:"Share your experience",value:n.comment,onChange:B=>i({...n,comment:B.target.value}),required:!0,rows:"3"}),o.jsx("button",{className:"btn btn-primary w-100",type:"submit",disabled:a,children:a?"Submitting...":"Submit Review"})]}):o.jsxs("div",{className:"alert alert-info",align:"center",children:["Please"," ",o.jsx("button",{onClick:t,className:"btn btn-link p-0",style:{textDecoration:"none"},children:"log in"})," ","to submit your review."]}),o.jsx("div",{children:o.jsxs("p",{className:"text-center mb-6 text-gray-700",children:["Total reviews: ",o.jsx("strong",{children:b})]})}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"me-2",children:"Filter by star rating:"}),o.jsx(AO,{selectedRating:_,onChange:I,ratingsCount:y})]}),Array.isArray(l)&&l.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-center",children:l.map(B=>o.jsxs("div",{className:"border rounded p-3 mb-3",style:{height:"auto",overflow:"hidden",position:"relative",alignContent:"center"},children:[o.jsx("strong",{children:D(B.email)||"Customer"})," -"," ",[...Array(5)].map((z,M)=>M<B.rating?o.jsx(Pm,{color:"#F59E0B"},M):o.jsx(Ov,{color:"#F59E0B"},M)),o.jsx("p",{className:"mt-2",style:{textAlign:"center"},children:u[`comment-${B.id}`]?o.jsxs(o.Fragment,{children:[B.comment,o.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:()=>N(B.id,"comment"),children:"Hide"})]}):o.jsxs(o.Fragment,{children:[B.comment.length>100?`${B.comment.slice(0,100)}...`:B.comment,B.comment.length>100&&o.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:()=>N(B.id,"comment"),children:"Read more"})]})}),B.admin_reply&&o.jsxs("p",{className:"mt-2 text-green-600",style:{textAlign:"center"},children:[o.jsx("b",{style:{color:"red"},children:"Moonbay Hotel:"})," ",u[`admin_reply-${B.id}`]?o.jsxs(o.Fragment,{children:[B.admin_reply,o.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:()=>N(B.id,"admin_reply"),children:"Hide"})]}):o.jsxs(o.Fragment,{children:[B.admin_reply.length>100?`${B.admin_reply.slice(0,100)}...`:B.admin_reply,B.admin_reply.length>100&&o.jsx("button",{className:"btn btn-link p-0 ms-2",onClick:()=>N(B.id,"admin_reply"),children:"Read more"})]})]})]},B.id))}),o.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-3 mt-3 mb-3",children:[o.jsx("button",{className:"btn btn-primary",onClick:A,disabled:h===1,children:"Previous"}),o.jsxs("span",{children:["Page ",h," / ",m]}),o.jsx("button",{className:"btn btn-primary",onClick:L,disabled:h===m,children:"Next"})]})]}):o.jsx("p",{className:"mb-4",children:"No reviews yet."})]}),o.jsx("style",{children:`
          .star-rating {
            display: flex;
            gap: 5px;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
          }
          .star {
            cursor: pointer;
            transition: transform 0.2s ease;
          }
          .star:hover {
            transform: scale(1.1);
          }
        `})]})},OO=6048e5,jV=864e5,_E=Symbol.for("constructDateFrom");function Jn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&_E in t?t[_E](e):t instanceof Date?new t.constructor(e):new Date(e)}function Kt(t,e){return Jn(e||t,t)}function Dv(t,e,s){const n=Kt(t,s==null?void 0:s.in);if(isNaN(e))return Jn(t,NaN);if(!e)return n;const i=n.getDate(),a=Jn(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const r=a.getDate();return i>=r?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let EV={};function Dp(){return EV}function dd(t,e){var l,c,u,d;const s=Dp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((d=(u=s.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Kt(t,e==null?void 0:e.in),a=i.getDay(),r=(a<n?7:0)+a-n;return i.setDate(i.getDate()-r),i.setHours(0,0,0,0),i}function Lm(t,e){return dd(t,{...e,weekStartsOn:1})}function DO(t,e){const s=Kt(t,e==null?void 0:e.in),n=s.getFullYear(),i=Jn(s,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Lm(i),r=Jn(s,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const l=Lm(r);return s.getTime()>=a.getTime()?n+1:s.getTime()>=l.getTime()?n:n-1}function xE(t){const e=Kt(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function MO(t,...e){const s=Jn.bind(null,e.find(n=>typeof n=="object"));return e.map(s)}function Js(t,e){const s=Kt(t,e==null?void 0:e.in);return s.setHours(0,0,0,0),s}function NV(t,e,s){const[n,i]=MO(s==null?void 0:s.in,t,e),a=Js(n),r=Js(i),l=+a-xE(a),c=+r-xE(r);return Math.round((l-c)/jV)}function TV(t,e){const s=DO(t,e),n=Jn(t,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),Lm(n)}function ui(t,e,s){const[n,i]=MO(s==null?void 0:s.in,t,e);return+Js(n)==+Js(i)}function CV(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kV(t){return!(!CV(t)&&typeof t!="number"||isNaN(+Kt(t)))}function AV(t,e){const s=Kt(t,e==null?void 0:e.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const OV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DV=(t,e,s)=>{let n;const i=OV[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function ky(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const MV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LV={date:ky({formats:MV,defaultWidth:"full"}),time:ky({formats:RV,defaultWidth:"full"}),dateTime:ky({formats:PV,defaultWidth:"full"})},$V={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IV=(t,e,s,n)=>$V[t];function Yc(t){return(e,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const r=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):r;i=t.formattingValues[l]||t.formattingValues[r]}else{const r=t.defaultWidth,l=s!=null&&s.width?String(s.width):t.defaultWidth;i=t.values[l]||t.values[r]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const BV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qV=(t,e)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},WV={ordinalNumber:qV,era:Yc({values:BV,defaultWidth:"wide"}),quarter:Yc({values:zV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yc({values:HV,defaultWidth:"wide"}),day:Yc({values:FV,defaultWidth:"wide"}),dayPeriod:Yc({values:UV,defaultWidth:"wide",formattingValues:VV,defaultFormattingWidth:"wide"})};function Gc(t){return(e,s={})=>{const n=s.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const r=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?GV(l,h=>h.test(r)):YV(l,h=>h.test(r));let u;u=t.valueCallback?t.valueCallback(c):c,u=s.valueCallback?s.valueCallback(u):u;const d=e.slice(r.length);return{value:u,rest:d}}}function YV(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function GV(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function KV(t){return(e,s={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let r=t.valueCallback?t.valueCallback(a[0]):a[0];r=s.valueCallback?s.valueCallback(r):r;const l=e.slice(i.length);return{value:r,rest:l}}}const XV=/^(\d+)(th|st|nd|rd)?/i,QV=/\d+/i,JV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZV={any:[/^b/i,/^(a|c)/i]},e8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t8={any:[/1/i,/2/i,/3/i,/4/i]},s8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},i8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},a8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l8={ordinalNumber:KV({matchPattern:XV,parsePattern:QV,valueCallback:t=>parseInt(t,10)}),era:Gc({matchPatterns:JV,defaultMatchWidth:"wide",parsePatterns:ZV,defaultParseWidth:"any"}),quarter:Gc({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gc({matchPatterns:s8,defaultMatchWidth:"wide",parsePatterns:n8,defaultParseWidth:"any"}),day:Gc({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:a8,defaultParseWidth:"any"}),dayPeriod:Gc({matchPatterns:r8,defaultMatchWidth:"any",parsePatterns:o8,defaultParseWidth:"any"})},RO={code:"en-US",formatDistance:DV,formatLong:LV,formatRelative:IV,localize:WV,match:l8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c8(t,e){const s=Kt(t,e==null?void 0:e.in);return NV(s,AV(s))+1}function u8(t,e){const s=Kt(t,e==null?void 0:e.in),n=+Lm(s)-+TV(s);return Math.round(n/OO)+1}function PO(t,e){var d,h,f,m;const s=Kt(t,e==null?void 0:e.in),n=s.getFullYear(),i=Dp(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,r=Jn((e==null?void 0:e.in)||t,0);r.setFullYear(n+1,0,a),r.setHours(0,0,0,0);const l=dd(r,e),c=Jn((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=dd(c,e);return+s>=+l?n+1:+s>=+u?n:n-1}function d8(t,e){var l,c,u,d;const s=Dp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((d=(u=s.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=PO(t,e),a=Jn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),dd(a,e)}function h8(t,e){const s=Kt(t,e==null?void 0:e.in),n=+dd(s,e)-+d8(s,e);return Math.round(n/OO)+1}function dt(t,e){const s=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return s+n}const _a={y(t,e){const s=t.getFullYear(),n=s>0?s:1-s;return dt(e==="yy"?n%100:n,e.length)},M(t,e){const s=t.getMonth();return e==="M"?String(s+1):dt(s+1,2)},d(t,e){return dt(t.getDate(),e.length)},a(t,e){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,e){return dt(t.getHours()%12||12,e.length)},H(t,e){return dt(t.getHours(),e.length)},m(t,e){return dt(t.getMinutes(),e.length)},s(t,e){return dt(t.getSeconds(),e.length)},S(t,e){const s=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return dt(i,e.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wE={G:function(t,e,s){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,e,s){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return _a.y(t,e)},Y:function(t,e,s,n){const i=PO(t,n),a=i>0?i:1-i;if(e==="YY"){const r=a%100;return dt(r,2)}return e==="Yo"?s.ordinalNumber(a,{unit:"year"}):dt(a,e.length)},R:function(t,e){const s=DO(t);return dt(s,e.length)},u:function(t,e){const s=t.getFullYear();return dt(s,e.length)},Q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return dt(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return dt(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,s){const n=t.getMonth();switch(e){case"M":case"MM":return _a.M(t,e);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,s){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return dt(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,s,n){const i=h8(t,n);return e==="wo"?s.ordinalNumber(i,{unit:"week"}):dt(i,e.length)},I:function(t,e,s){const n=u8(t);return e==="Io"?s.ordinalNumber(n,{unit:"week"}):dt(n,e.length)},d:function(t,e,s){return e==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):_a.d(t,e)},D:function(t,e,s){const n=c8(t);return e==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):dt(n,e.length)},E:function(t,e,s){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,s,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return dt(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,s,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return dt(a,e.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,s){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return dt(i,e.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,s){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,s){const n=t.getHours();let i;switch(n===12?i=Xo.noon:n===0?i=Xo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,s){const n=t.getHours();let i;switch(n>=17?i=Xo.evening:n>=12?i=Xo.afternoon:n>=4?i=Xo.morning:i=Xo.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,s){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return _a.h(t,e)},H:function(t,e,s){return e==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):_a.H(t,e)},K:function(t,e,s){const n=t.getHours()%12;return e==="Ko"?s.ordinalNumber(n,{unit:"hour"}):dt(n,e.length)},k:function(t,e,s){let n=t.getHours();return n===0&&(n=24),e==="ko"?s.ordinalNumber(n,{unit:"hour"}):dt(n,e.length)},m:function(t,e,s){return e==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):_a.m(t,e)},s:function(t,e,s){return e==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):_a.s(t,e)},S:function(t,e){return _a.S(t,e)},X:function(t,e,s){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return jE(n);case"XXXX":case"XX":return Pr(n);case"XXXXX":case"XXX":default:return Pr(n,":")}},x:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"x":return jE(n);case"xxxx":case"xx":return Pr(n);case"xxxxx":case"xxx":default:return Pr(n,":")}},O:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SE(n,":");case"OOOO":default:return"GMT"+Pr(n,":")}},z:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SE(n,":");case"zzzz":default:return"GMT"+Pr(n,":")}},t:function(t,e,s){const n=Math.trunc(+t/1e3);return dt(n,e.length)},T:function(t,e,s){return dt(+t,e.length)}};function SE(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?s+String(i):s+String(i)+e+dt(a,2)}function jE(t,e){return t%60===0?(t>0?"-":"+")+dt(Math.abs(t)/60,2):Pr(t,e)}function Pr(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),i=dt(Math.trunc(n/60),2),a=dt(n%60,2);return s+i+e+a}const EE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},f8=(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return EE(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",EE(n,e)).replace("{{time}}",LO(i,e))},m8={p:LO,P:f8},p8=/^D+$/,g8=/^Y+$/,y8=["D","DD","YY","YYYY"];function b8(t){return p8.test(t)}function v8(t){return g8.test(t)}function _8(t,e,s){const n=x8(t,e,s);if(console.warn(n),y8.includes(t))throw new RangeError(n)}function x8(t,e,s){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const w8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j8=/^'([^]*?)'?$/,E8=/''/g,N8=/[a-zA-Z]/;function Rt(t,e,s){var d,h,f,m,v,_,x,y;const n=Dp(),i=(s==null?void 0:s.locale)??n.locale??RO,a=(s==null?void 0:s.firstWeekContainsDate)??((h=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,r=(s==null?void 0:s.weekStartsOn)??((_=(v=s==null?void 0:s.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=Kt(t,s==null?void 0:s.in);if(!kV(l))throw new RangeError("Invalid time value");let c=e.match(S8).map(g=>{const b=g[0];if(b==="p"||b==="P"){const w=m8[b];return w(g,i.formatLong)}return g}).join("").match(w8).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:T8(g)};if(wE[b])return{isToken:!0,value:g};if(b.match(N8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:r,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&v8(b)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&b8(b))&&_8(b,e,String(t));const w=wE[b[0]];return w(l,b,i.localize,u)}).join("")}function T8(t){const e=t.match(j8);return e?e[1].replace(E8,"'"):t}function C8(t,e){const s=Kt(t,e==null?void 0:e.in),n=s.getFullYear(),i=s.getMonth(),a=Jn(s,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function Kc(t,e){return+Kt(t)>+Kt(e)}function Ii(t,e){return+Kt(t)<+Kt(e)}function k8(t,e,s){const n=+Kt(t,s==null?void 0:s.in),[i,a]=[+Kt(e.start,s==null?void 0:s.in),+Kt(e.end,s==null?void 0:s.in)].sort((r,l)=>r-l);return n>=i&&n<=a}function NE(t,e,s){return Dv(t,-1,s)}var Os="top",hn="bottom",fn="right",Ds="left",Mp="auto",wc=[Os,hn,fn,Ds],po="start",ec="end",$O="clippingParents",yx="viewport",cl="popper",IO="reference",Mv=wc.reduce(function(t,e){return t.concat([e+"-"+po,e+"-"+ec])},[]),bx=[].concat(wc,[Mp]).reduce(function(t,e){return t.concat([e,e+"-"+po,e+"-"+ec])},[]),BO="beforeRead",zO="read",HO="afterRead",FO="beforeMain",UO="main",VO="afterMain",qO="beforeWrite",WO="write",YO="afterWrite",GO=[BO,zO,HO,FO,UO,VO,qO,WO,YO];function Ti(t){return t?(t.nodeName||"").toLowerCase():null}function mn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function go(t){var e=mn(t).Element;return t instanceof e||t instanceof Element}function Dn(t){var e=mn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vx(t){if(typeof ShadowRoot>"u")return!1;var e=mn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function A8(t){var e=t.state;Object.keys(e.elements).forEach(function(s){var n=e.styles[s]||{},i=e.attributes[s]||{},a=e.elements[s];!Dn(a)||!Ti(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(r){var l=i[r];l===!1?a.removeAttribute(r):a.setAttribute(r,l===!0?"":l)}))})}function O8(t){var e=t.state,s={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,s.popper),e.styles=s,e.elements.arrow&&Object.assign(e.elements.arrow.style,s.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},r=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:s[n]),l=r.reduce(function(c,u){return c[u]="",c},{});!Dn(i)||!Ti(i)||(Object.assign(i.style,l),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}const _x={name:"applyStyles",enabled:!0,phase:"write",fn:A8,effect:O8,requires:["computeStyles"]};function Si(t){return t.split("-")[0]}var no=Math.max,$m=Math.min,tc=Math.round;function Rv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function KO(){return!/^((?!chrome|android).)*safari/i.test(Rv())}function sc(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&Dn(t)&&(i=t.offsetWidth>0&&tc(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&tc(n.height)/t.offsetHeight||1);var r=go(t)?mn(t):window,l=r.visualViewport,c=!KO()&&s,u=(n.left+(c&&l?l.offsetLeft:0))/i,d=(n.top+(c&&l?l.offsetTop:0))/a,h=n.width/i,f=n.height/a;return{width:h,height:f,top:d,right:u+h,bottom:d+f,left:u,x:u,y:d}}function xx(t){var e=sc(t),s=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-s)<=1&&(s=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:n}}function XO(t,e){var s=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(s&&vx(s)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ua(t){return mn(t).getComputedStyle(t)}function D8(t){return["table","td","th"].indexOf(Ti(t))>=0}function cr(t){return((go(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rp(t){return Ti(t)==="html"?t:t.assignedSlot||t.parentNode||(vx(t)?t.host:null)||cr(t)}function TE(t){return!Dn(t)||ua(t).position==="fixed"?null:t.offsetParent}function M8(t){var e=/firefox/i.test(Rv()),s=/Trident/i.test(Rv());if(s&&Dn(t)){var n=ua(t);if(n.position==="fixed")return null}var i=Rp(t);for(vx(i)&&(i=i.host);Dn(i)&&["html","body"].indexOf(Ti(i))<0;){var a=ua(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Vd(t){for(var e=mn(t),s=TE(t);s&&D8(s)&&ua(s).position==="static";)s=TE(s);return s&&(Ti(s)==="html"||Ti(s)==="body"&&ua(s).position==="static")?e:s||M8(t)||e}function wx(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Mu(t,e,s){return no(t,$m(e,s))}function R8(t,e,s){var n=Mu(t,e,s);return n>s?s:n}function QO(){return{top:0,right:0,bottom:0,left:0}}function JO(t){return Object.assign({},QO(),t)}function ZO(t,e){return e.reduce(function(s,n){return s[n]=t,s},{})}var P8=function(e,s){return e=typeof e=="function"?e(Object.assign({},s.rects,{placement:s.placement})):e,JO(typeof e!="number"?e:ZO(e,wc))};function L8(t){var e,s=t.state,n=t.name,i=t.options,a=s.elements.arrow,r=s.modifiersData.popperOffsets,l=Si(s.placement),c=wx(l),u=[Ds,fn].indexOf(l)>=0,d=u?"height":"width";if(!(!a||!r)){var h=P8(i.padding,s),f=xx(a),m=c==="y"?Os:Ds,v=c==="y"?hn:fn,_=s.rects.reference[d]+s.rects.reference[c]-r[c]-s.rects.popper[d],x=r[c]-s.rects.reference[c],y=Vd(a),g=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,b=_/2-x/2,w=h[m],E=g-f[d]-h[v],C=g/2-f[d]/2+b,T=Mu(w,C,E),N=c;s.modifiersData[n]=(e={},e[N]=T,e.centerOffset=T-C,e)}}function $8(t){var e=t.state,s=t.options,n=s.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||XO(e.elements.popper,i)&&(e.elements.arrow=i))}const eD={name:"arrow",enabled:!0,phase:"main",fn:L8,effect:$8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nc(t){return t.split("-")[1]}var I8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function B8(t,e){var s=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:tc(s*i)/i||0,y:tc(n*i)/i||0}}function CE(t){var e,s=t.popper,n=t.popperRect,i=t.placement,a=t.variation,r=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,f=r.x,m=f===void 0?0:f,v=r.y,_=v===void 0?0:v,x=typeof d=="function"?d({x:m,y:_}):{x:m,y:_};m=x.x,_=x.y;var y=r.hasOwnProperty("x"),g=r.hasOwnProperty("y"),b=Ds,w=Os,E=window;if(u){var C=Vd(s),T="clientHeight",N="clientWidth";if(C===mn(s)&&(C=cr(s),ua(C).position!=="static"&&l==="absolute"&&(T="scrollHeight",N="scrollWidth")),C=C,i===Os||(i===Ds||i===fn)&&a===ec){w=hn;var A=h&&C===E&&E.visualViewport?E.visualViewport.height:C[T];_-=A-n.height,_*=c?1:-1}if(i===Ds||(i===Os||i===hn)&&a===ec){b=fn;var L=h&&C===E&&E.visualViewport?E.visualViewport.width:C[N];m-=L-n.width,m*=c?1:-1}}var D=Object.assign({position:l},u&&I8),I=d===!0?B8({x:m,y:_},mn(s)):{x:m,y:_};if(m=I.x,_=I.y,c){var q;return Object.assign({},D,(q={},q[w]=g?"0":"",q[b]=y?"0":"",q.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+_+"px)":"translate3d("+m+"px, "+_+"px, 0)",q))}return Object.assign({},D,(e={},e[w]=g?_+"px":"",e[b]=y?m+"px":"",e.transform="",e))}function z8(t){var e=t.state,s=t.options,n=s.gpuAcceleration,i=n===void 0?!0:n,a=s.adaptive,r=a===void 0?!0:a,l=s.roundOffsets,c=l===void 0?!0:l,u={placement:Si(e.placement),variation:nc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,CE(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,CE(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Sx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:z8,data:{}};var Vh={passive:!0};function H8(t){var e=t.state,s=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,r=n.resize,l=r===void 0?!0:r,c=mn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",s.update,Vh)}),l&&c.addEventListener("resize",s.update,Vh),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",s.update,Vh)}),l&&c.removeEventListener("resize",s.update,Vh)}}const jx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:H8,data:{}};var F8={left:"right",right:"left",bottom:"top",top:"bottom"};function Mf(t){return t.replace(/left|right|bottom|top/g,function(e){return F8[e]})}var U8={start:"end",end:"start"};function kE(t){return t.replace(/start|end/g,function(e){return U8[e]})}function Ex(t){var e=mn(t),s=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:s,scrollTop:n}}function Nx(t){return sc(cr(t)).left+Ex(t).scrollLeft}function V8(t,e){var s=mn(t),n=cr(t),i=s.visualViewport,a=n.clientWidth,r=n.clientHeight,l=0,c=0;if(i){a=i.width,r=i.height;var u=KO();(u||!u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:r,x:l+Nx(t),y:c}}function q8(t){var e,s=cr(t),n=Ex(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=no(s.scrollWidth,s.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=no(s.scrollHeight,s.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-n.scrollLeft+Nx(t),c=-n.scrollTop;return ua(i||s).direction==="rtl"&&(l+=no(s.clientWidth,i?i.clientWidth:0)-a),{width:a,height:r,x:l,y:c}}function Tx(t){var e=ua(t),s=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(s+i+n)}function tD(t){return["html","body","#document"].indexOf(Ti(t))>=0?t.ownerDocument.body:Dn(t)&&Tx(t)?t:tD(Rp(t))}function Ru(t,e){var s;e===void 0&&(e=[]);var n=tD(t),i=n===((s=t.ownerDocument)==null?void 0:s.body),a=mn(n),r=i?[a].concat(a.visualViewport||[],Tx(n)?n:[]):n,l=e.concat(r);return i?l:l.concat(Ru(Rp(r)))}function Pv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function W8(t,e){var s=sc(t,!1,e==="fixed");return s.top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s}function AE(t,e,s){return e===yx?Pv(V8(t,s)):go(e)?W8(e,s):Pv(q8(cr(t)))}function Y8(t){var e=Ru(Rp(t)),s=["absolute","fixed"].indexOf(ua(t).position)>=0,n=s&&Dn(t)?Vd(t):t;return go(n)?e.filter(function(i){return go(i)&&XO(i,n)&&Ti(i)!=="body"}):[]}function G8(t,e,s,n){var i=e==="clippingParents"?Y8(t):[].concat(e),a=[].concat(i,[s]),r=a[0],l=a.reduce(function(c,u){var d=AE(t,u,n);return c.top=no(d.top,c.top),c.right=$m(d.right,c.right),c.bottom=$m(d.bottom,c.bottom),c.left=no(d.left,c.left),c},AE(t,r,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function sD(t){var e=t.reference,s=t.element,n=t.placement,i=n?Si(n):null,a=n?nc(n):null,r=e.x+e.width/2-s.width/2,l=e.y+e.height/2-s.height/2,c;switch(i){case Os:c={x:r,y:e.y-s.height};break;case hn:c={x:r,y:e.y+e.height};break;case fn:c={x:e.x+e.width,y:l};break;case Ds:c={x:e.x-s.width,y:l};break;default:c={x:e.x,y:e.y}}var u=i?wx(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case po:c[u]=c[u]-(e[d]/2-s[d]/2);break;case ec:c[u]=c[u]+(e[d]/2-s[d]/2);break}}return c}function ic(t,e){e===void 0&&(e={});var s=e,n=s.placement,i=n===void 0?t.placement:n,a=s.strategy,r=a===void 0?t.strategy:a,l=s.boundary,c=l===void 0?$O:l,u=s.rootBoundary,d=u===void 0?yx:u,h=s.elementContext,f=h===void 0?cl:h,m=s.altBoundary,v=m===void 0?!1:m,_=s.padding,x=_===void 0?0:_,y=JO(typeof x!="number"?x:ZO(x,wc)),g=f===cl?IO:cl,b=t.rects.popper,w=t.elements[v?g:f],E=G8(go(w)?w:w.contextElement||cr(t.elements.popper),c,d,r),C=sc(t.elements.reference),T=sD({reference:C,element:b,placement:i}),N=Pv(Object.assign({},b,T)),A=f===cl?N:C,L={top:E.top-A.top+y.top,bottom:A.bottom-E.bottom+y.bottom,left:E.left-A.left+y.left,right:A.right-E.right+y.right},D=t.modifiersData.offset;if(f===cl&&D){var I=D[i];Object.keys(L).forEach(function(q){var B=[fn,hn].indexOf(q)>=0?1:-1,z=[Os,hn].indexOf(q)>=0?"y":"x";L[q]+=I[z]*B})}return L}function K8(t,e){e===void 0&&(e={});var s=e,n=s.placement,i=s.boundary,a=s.rootBoundary,r=s.padding,l=s.flipVariations,c=s.allowedAutoPlacements,u=c===void 0?bx:c,d=nc(n),h=d?l?Mv:Mv.filter(function(v){return nc(v)===d}):wc,f=h.filter(function(v){return u.indexOf(v)>=0});f.length===0&&(f=h);var m=f.reduce(function(v,_){return v[_]=ic(t,{placement:_,boundary:i,rootBoundary:a,padding:r})[Si(_)],v},{});return Object.keys(m).sort(function(v,_){return m[v]-m[_]})}function X8(t){if(Si(t)===Mp)return[];var e=Mf(t);return[kE(t),e,kE(e)]}function Q8(t){var e=t.state,s=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=s.mainAxis,a=i===void 0?!0:i,r=s.altAxis,l=r===void 0?!0:r,c=s.fallbackPlacements,u=s.padding,d=s.boundary,h=s.rootBoundary,f=s.altBoundary,m=s.flipVariations,v=m===void 0?!0:m,_=s.allowedAutoPlacements,x=e.options.placement,y=Si(x),g=y===x,b=c||(g||!v?[Mf(x)]:X8(x)),w=[x].concat(b).reduce(function(ae,F){return ae.concat(Si(F)===Mp?K8(e,{placement:F,boundary:d,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:_}):F)},[]),E=e.rects.reference,C=e.rects.popper,T=new Map,N=!0,A=w[0],L=0;L<w.length;L++){var D=w[L],I=Si(D),q=nc(D)===po,B=[Os,hn].indexOf(I)>=0,z=B?"width":"height",M=ic(e,{placement:D,boundary:d,rootBoundary:h,altBoundary:f,padding:u}),H=B?q?fn:Ds:q?hn:Os;E[z]>C[z]&&(H=Mf(H));var R=Mf(H),V=[];if(a&&V.push(M[I]<=0),l&&V.push(M[H]<=0,M[R]<=0),V.every(function(ae){return ae})){A=D,N=!1;break}T.set(D,V)}if(N)for(var P=v?3:1,se=function(F){var ne=w.find(function(X){var G=T.get(X);if(G)return G.slice(0,F).every(function(re){return re})});if(ne)return A=ne,"break"},de=P;de>0;de--){var fe=se(de);if(fe==="break")break}e.placement!==A&&(e.modifiersData[n]._skip=!0,e.placement=A,e.reset=!0)}}const nD={name:"flip",enabled:!0,phase:"main",fn:Q8,requiresIfExists:["offset"],data:{_skip:!1}};function OE(t,e,s){return s===void 0&&(s={x:0,y:0}),{top:t.top-e.height-s.y,right:t.right-e.width+s.x,bottom:t.bottom-e.height+s.y,left:t.left-e.width-s.x}}function DE(t){return[Os,fn,hn,Ds].some(function(e){return t[e]>=0})}function J8(t){var e=t.state,s=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,r=ic(e,{elementContext:"reference"}),l=ic(e,{altBoundary:!0}),c=OE(r,n),u=OE(l,i,a),d=DE(c),h=DE(u);e.modifiersData[s]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const iD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:J8};function Z8(t,e,s){var n=Si(t),i=[Ds,Os].indexOf(n)>=0?-1:1,a=typeof s=="function"?s(Object.assign({},e,{placement:t})):s,r=a[0],l=a[1];return r=r||0,l=(l||0)*i,[Ds,fn].indexOf(n)>=0?{x:l,y:r}:{x:r,y:l}}function eq(t){var e=t.state,s=t.options,n=t.name,i=s.offset,a=i===void 0?[0,0]:i,r=bx.reduce(function(d,h){return d[h]=Z8(h,e.rects,a),d},{}),l=r[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=r}const aD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eq};function tq(t){var e=t.state,s=t.name;e.modifiersData[s]=sD({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Cx={name:"popperOffsets",enabled:!0,phase:"read",fn:tq,data:{}};function sq(t){return t==="x"?"y":"x"}function nq(t){var e=t.state,s=t.options,n=t.name,i=s.mainAxis,a=i===void 0?!0:i,r=s.altAxis,l=r===void 0?!1:r,c=s.boundary,u=s.rootBoundary,d=s.altBoundary,h=s.padding,f=s.tether,m=f===void 0?!0:f,v=s.tetherOffset,_=v===void 0?0:v,x=ic(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:d}),y=Si(e.placement),g=nc(e.placement),b=!g,w=wx(y),E=sq(w),C=e.modifiersData.popperOffsets,T=e.rects.reference,N=e.rects.popper,A=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,L=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(C){if(a){var q,B=w==="y"?Os:Ds,z=w==="y"?hn:fn,M=w==="y"?"height":"width",H=C[w],R=H+x[B],V=H-x[z],P=m?-N[M]/2:0,se=g===po?T[M]:N[M],de=g===po?-N[M]:-T[M],fe=e.elements.arrow,ae=m&&fe?xx(fe):{width:0,height:0},F=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:QO(),ne=F[B],X=F[z],G=Mu(0,T[M],ae[M]),re=b?T[M]/2-P-G-ne-L.mainAxis:se-G-ne-L.mainAxis,ge=b?-T[M]/2+P+G+X+L.mainAxis:de+G+X+L.mainAxis,pe=e.elements.arrow&&Vd(e.elements.arrow),be=pe?w==="y"?pe.clientTop||0:pe.clientLeft||0:0,Ee=(q=D==null?void 0:D[w])!=null?q:0,Te=H+re-Ee-be,Le=H+ge-Ee,lt=Mu(m?$m(R,Te):R,H,m?no(V,Le):V);C[w]=lt,I[w]=lt-H}if(l){var wt,he=w==="x"?Os:Ds,Se=w==="x"?hn:fn,$=C[E],Y=E==="y"?"height":"width",U=$+x[he],J=$-x[Se],Q=[Os,Ds].indexOf(y)!==-1,ie=(wt=D==null?void 0:D[E])!=null?wt:0,_e=Q?U:$-T[Y]-N[Y]-ie+L.altAxis,Z=Q?$+T[Y]+N[Y]-ie-L.altAxis:J,ye=m&&Q?R8(_e,$,Z):Mu(m?_e:U,$,m?Z:J);C[E]=ye,I[E]=ye-$}e.modifiersData[n]=I}}const rD={name:"preventOverflow",enabled:!0,phase:"main",fn:nq,requiresIfExists:["offset"]};function iq(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function aq(t){return t===mn(t)||!Dn(t)?Ex(t):iq(t)}function rq(t){var e=t.getBoundingClientRect(),s=tc(e.width)/t.offsetWidth||1,n=tc(e.height)/t.offsetHeight||1;return s!==1||n!==1}function oq(t,e,s){s===void 0&&(s=!1);var n=Dn(e),i=Dn(e)&&rq(e),a=cr(e),r=sc(t,i,s),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!s)&&((Ti(e)!=="body"||Tx(a))&&(l=aq(e)),Dn(e)?(c=sc(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=Nx(a))),{x:r.left+l.scrollLeft-c.x,y:r.top+l.scrollTop-c.y,width:r.width,height:r.height}}function lq(t){var e=new Map,s=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){s.add(a.name);var r=[].concat(a.requires||[],a.requiresIfExists||[]);r.forEach(function(l){if(!s.has(l)){var c=e.get(l);c&&i(c)}}),n.push(a)}return t.forEach(function(a){s.has(a.name)||i(a)}),n}function cq(t){var e=lq(t);return GO.reduce(function(s,n){return s.concat(e.filter(function(i){return i.phase===n}))},[])}function uq(t){var e;return function(){return e||(e=new Promise(function(s){Promise.resolve().then(function(){e=void 0,s(t())})})),e}}function dq(t){var e=t.reduce(function(s,n){var i=s[n.name];return s[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,s},{});return Object.keys(e).map(function(s){return e[s]})}var ME={placement:"bottom",modifiers:[],strategy:"absolute"};function RE(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Pp(t){t===void 0&&(t={});var e=t,s=e.defaultModifiers,n=s===void 0?[]:s,i=e.defaultOptions,a=i===void 0?ME:i;return function(l,c,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},ME,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],f=!1,m={state:d,setOptions:function(y){var g=typeof y=="function"?y(d.options):y;_(),d.options=Object.assign({},a,d.options,g),d.scrollParents={reference:go(l)?Ru(l):l.contextElement?Ru(l.contextElement):[],popper:Ru(c)};var b=cq(dq([].concat(n,d.options.modifiers)));return d.orderedModifiers=b.filter(function(w){return w.enabled}),v(),m.update()},forceUpdate:function(){if(!f){var y=d.elements,g=y.reference,b=y.popper;if(RE(g,b)){d.rects={reference:oq(g,Vd(b),d.options.strategy==="fixed"),popper:xx(b)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(L){return d.modifiersData[L.name]=Object.assign({},L.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var E=d.orderedModifiers[w],C=E.fn,T=E.options,N=T===void 0?{}:T,A=E.name;typeof C=="function"&&(d=C({state:d,options:N,name:A,instance:m})||d)}}}},update:uq(function(){return new Promise(function(x){m.forceUpdate(),x(d)})}),destroy:function(){_(),f=!0}};if(!RE(l,c))return m;m.setOptions(u).then(function(x){!f&&u.onFirstUpdate&&u.onFirstUpdate(x)});function v(){d.orderedModifiers.forEach(function(x){var y=x.name,g=x.options,b=g===void 0?{}:g,w=x.effect;if(typeof w=="function"){var E=w({state:d,name:y,instance:m,options:b}),C=function(){};h.push(E||C)}})}function _(){h.forEach(function(x){return x()}),h=[]}return m}}var hq=Pp(),fq=[jx,Cx,Sx,_x],mq=Pp({defaultModifiers:fq}),pq=[jx,Cx,Sx,_x,aD,nD,rD,eD,iD],kx=Pp({defaultModifiers:pq});const oD=Object.freeze(Object.defineProperty({__proto__:null,afterMain:VO,afterRead:HO,afterWrite:YO,applyStyles:_x,arrow:eD,auto:Mp,basePlacements:wc,beforeMain:FO,beforeRead:BO,beforeWrite:qO,bottom:hn,clippingParents:$O,computeStyles:Sx,createPopper:kx,createPopperBase:hq,createPopperLite:mq,detectOverflow:ic,end:ec,eventListeners:jx,flip:nD,hide:iD,left:Ds,main:UO,modifierPhases:GO,offset:aD,placements:bx,popper:cl,popperGenerator:Pp,popperOffsets:Cx,preventOverflow:rD,read:zO,reference:IO,right:fn,start:po,top:Os,variationPlacements:Mv,viewport:yx,write:WO},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const xa=new Map,Ay={set(t,e,s){xa.has(t)||xa.set(t,new Map);const n=xa.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,s)},get(t,e){return xa.has(t)&&xa.get(t).get(e)||null},remove(t,e){if(!xa.has(t))return;const s=xa.get(t);s.delete(e),s.size===0&&xa.delete(t)}},gq=1e6,yq=1e3,Lv="transitionend",lD=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,s)=>`#${CSS.escape(s)}`)),t),bq=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),vq=t=>{do t+=Math.floor(Math.random()*gq);while(document.getElementById(t));return t},_q=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:s}=window.getComputedStyle(t);const n=Number.parseFloat(e),i=Number.parseFloat(s);return!n&&!i?0:(e=e.split(",")[0],s=s.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(s))*yq)},cD=t=>{t.dispatchEvent(new Event(Lv))},sa=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),nr=t=>sa(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(lD(t)):null,Sc=t=>{if(!sa(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",s=t.closest("details:not([open])");if(!s)return e;if(s!==t){const n=t.closest("summary");if(n&&n.parentNode!==s||n===null)return!1}return e},ir=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",uD=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?uD(t.parentNode):null},Im=()=>{},qd=t=>{t.offsetHeight},dD=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Oy=[],xq=t=>{document.readyState==="loading"?(Oy.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Oy)e()}),Oy.push(t)):t()},Ln=()=>document.documentElement.dir==="rtl",zn=t=>{xq(()=>{const e=dD();if(e){const s=t.NAME,n=e.fn[s];e.fn[s]=t.jQueryInterface,e.fn[s].Constructor=t,e.fn[s].noConflict=()=>(e.fn[s]=n,t.jQueryInterface)}})},Bs=(t,e=[],s=t)=>typeof t=="function"?t.call(...e):s,hD=(t,e,s=!0)=>{if(!s){Bs(t);return}const i=_q(e)+5;let a=!1;const r=({target:l})=>{l===e&&(a=!0,e.removeEventListener(Lv,r),Bs(t))};e.addEventListener(Lv,r),setTimeout(()=>{a||cD(e)},i)},Ax=(t,e,s,n)=>{const i=t.length;let a=t.indexOf(e);return a===-1?!s&&n?t[i-1]:t[0]:(a+=s?1:-1,n&&(a=(a+i)%i),t[Math.max(0,Math.min(a,i-1))])},wq=/[^.]*(?=\..*)\.|.*/,Sq=/\..*/,jq=/::\d+$/,Dy={};let PE=1;const fD={mouseenter:"mouseover",mouseleave:"mouseout"},Eq=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function mD(t,e){return e&&`${e}::${PE++}`||t.uidEvent||PE++}function pD(t){const e=mD(t);return t.uidEvent=e,Dy[e]=Dy[e]||{},Dy[e]}function Nq(t,e){return function s(n){return Ox(n,{delegateTarget:t}),s.oneOff&&me.off(t,n.type,e),e.apply(t,[n])}}function Tq(t,e,s){return function n(i){const a=t.querySelectorAll(e);for(let{target:r}=i;r&&r!==this;r=r.parentNode)for(const l of a)if(l===r)return Ox(i,{delegateTarget:r}),n.oneOff&&me.off(t,i.type,e,s),s.apply(r,[i])}}function gD(t,e,s=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===s)}function yD(t,e,s){const n=typeof e=="string",i=n?s:e||s;let a=bD(t);return Eq.has(a)||(a=t),[n,i,a]}function LE(t,e,s,n,i){if(typeof e!="string"||!t)return;let[a,r,l]=yD(e,s,n);e in fD&&(r=(v=>function(_){if(!_.relatedTarget||_.relatedTarget!==_.delegateTarget&&!_.delegateTarget.contains(_.relatedTarget))return v.call(this,_)})(r));const c=pD(t),u=c[l]||(c[l]={}),d=gD(u,r,a?s:null);if(d){d.oneOff=d.oneOff&&i;return}const h=mD(r,e.replace(wq,"")),f=a?Tq(t,s,r):Nq(t,r);f.delegationSelector=a?s:null,f.callable=r,f.oneOff=i,f.uidEvent=h,u[h]=f,t.addEventListener(l,f,a)}function $v(t,e,s,n,i){const a=gD(e[s],n,i);a&&(t.removeEventListener(s,a,!!i),delete e[s][a.uidEvent])}function Cq(t,e,s,n){const i=e[s]||{};for(const[a,r]of Object.entries(i))a.includes(n)&&$v(t,e,s,r.callable,r.delegationSelector)}function bD(t){return t=t.replace(Sq,""),fD[t]||t}const me={on(t,e,s,n){LE(t,e,s,n,!1)},one(t,e,s,n){LE(t,e,s,n,!0)},off(t,e,s,n){if(typeof e!="string"||!t)return;const[i,a,r]=yD(e,s,n),l=r!==e,c=pD(t),u=c[r]||{},d=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(u).length)return;$v(t,c,r,a,i?s:null);return}if(d)for(const h of Object.keys(c))Cq(t,c,h,e.slice(1));for(const[h,f]of Object.entries(u)){const m=h.replace(jq,"");(!l||e.includes(m))&&$v(t,c,r,f.callable,f.delegationSelector)}},trigger(t,e,s){if(typeof e!="string"||!t)return null;const n=dD(),i=bD(e),a=e!==i;let r=null,l=!0,c=!0,u=!1;a&&n&&(r=n.Event(e,s),n(t).trigger(r),l=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),u=r.isDefaultPrevented());const d=Ox(new Event(e,{bubbles:l,cancelable:!0}),s);return u&&d.preventDefault(),c&&t.dispatchEvent(d),d.defaultPrevented&&r&&r.preventDefault(),d}};function Ox(t,e={}){for(const[s,n]of Object.entries(e))try{t[s]=n}catch{Object.defineProperty(t,s,{configurable:!0,get(){return n}})}return t}function $E(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function My(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const na={setDataAttribute(t,e,s){t.setAttribute(`data-bs-${My(e)}`,s)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${My(e)}`)},getDataAttributes(t){if(!t)return{};const e={},s=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of s){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=$E(t.dataset[n])}return e},getDataAttribute(t,e){return $E(t.getAttribute(`data-bs-${My(e)}`))}};let Wd=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,s){const n=sa(s)?na.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...sa(s)?na.getDataAttributes(s):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,s=this.constructor.DefaultType){for(const[n,i]of Object.entries(s)){const a=e[n],r=sa(a)?"element":bq(a);if(!new RegExp(i).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${i}".`)}}};const kq="5.3.6";class ni extends Wd{constructor(e,s){super(),e=nr(e),e&&(this._element=e,this._config=this._getConfig(s),Ay.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ay.remove(this._element,this.constructor.DATA_KEY),me.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,s,n=!0){hD(e,s,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Ay.get(nr(e),this.DATA_KEY)}static getOrCreateInstance(e,s={}){return this.getInstance(e)||new this(e,typeof s=="object"?s:null)}static get VERSION(){return kq}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Ry=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),e=s&&s!=="#"?s.trim():null}return e?e.split(",").map(s=>lD(s)).join(","):null},Oe={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(s=>s.matches(e))},parents(t,e){const s=[];let n=t.parentNode.closest(e);for(;n;)s.push(n),n=n.parentNode.closest(e);return s},prev(t,e){let s=t.previousElementSibling;for(;s;){if(s.matches(e))return[s];s=s.previousElementSibling}return[]},next(t,e){let s=t.nextElementSibling;for(;s;){if(s.matches(e))return[s];s=s.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(s=>!ir(s)&&Sc(s))},getSelectorFromElement(t){const e=Ry(t);return e&&Oe.findOne(e)?e:null},getElementFromSelector(t){const e=Ry(t);return e?Oe.findOne(e):null},getMultipleElementsFromSelector(t){const e=Ry(t);return e?Oe.find(e):[]}},Lp=(t,e="hide")=>{const s=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;me.on(document,s,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),ir(this))return;const a=Oe.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(a)[e]()})},Aq="alert",Oq="bs.alert",vD=`.${Oq}`,Dq=`close${vD}`,Mq=`closed${vD}`,Rq="fade",Pq="show";class $p extends ni{static get NAME(){return Aq}close(){if(me.trigger(this._element,Dq).defaultPrevented)return;this._element.classList.remove(Pq);const s=this._element.classList.contains(Rq);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),me.trigger(this._element,Mq),this.dispose()}static jQueryInterface(e){return this.each(function(){const s=$p.getOrCreateInstance(this);if(typeof e=="string"){if(s[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);s[e](this)}})}}Lp($p,"close");zn($p);const Lq="button",$q="bs.button",Iq=`.${$q}`,Bq=".data-api",zq="active",IE='[data-bs-toggle="button"]',Hq=`click${Iq}${Bq}`;class Ip extends ni{static get NAME(){return Lq}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(zq))}static jQueryInterface(e){return this.each(function(){const s=Ip.getOrCreateInstance(this);e==="toggle"&&s[e]()})}}me.on(document,Hq,IE,t=>{t.preventDefault();const e=t.target.closest(IE);Ip.getOrCreateInstance(e).toggle()});zn(Ip);const Fq="swipe",jc=".bs.swipe",Uq=`touchstart${jc}`,Vq=`touchmove${jc}`,qq=`touchend${jc}`,Wq=`pointerdown${jc}`,Yq=`pointerup${jc}`,Gq="touch",Kq="pen",Xq="pointer-event",Qq=40,Jq={endCallback:null,leftCallback:null,rightCallback:null},Zq={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Bm extends Wd{constructor(e,s){super(),this._element=e,!(!e||!Bm.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Jq}static get DefaultType(){return Zq}static get NAME(){return Fq}dispose(){me.off(this._element,jc)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Bs(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Qq)return;const s=e/this._deltaX;this._deltaX=0,s&&Bs(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(me.on(this._element,Wq,e=>this._start(e)),me.on(this._element,Yq,e=>this._end(e)),this._element.classList.add(Xq)):(me.on(this._element,Uq,e=>this._start(e)),me.on(this._element,Vq,e=>this._move(e)),me.on(this._element,qq,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Kq||e.pointerType===Gq)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const e9="carousel",t9="bs.carousel",ur=`.${t9}`,_D=".data-api",s9="ArrowLeft",n9="ArrowRight",i9=500,Xc="next",Qo="prev",ul="left",Rf="right",a9=`slide${ur}`,Py=`slid${ur}`,r9=`keydown${ur}`,o9=`mouseenter${ur}`,l9=`mouseleave${ur}`,c9=`dragstart${ur}`,u9=`load${ur}${_D}`,d9=`click${ur}${_D}`,xD="carousel",qh="active",h9="slide",f9="carousel-item-end",m9="carousel-item-start",p9="carousel-item-next",g9="carousel-item-prev",wD=".active",SD=".carousel-item",y9=wD+SD,b9=".carousel-item img",v9=".carousel-indicators",_9="[data-bs-slide], [data-bs-slide-to]",x9='[data-bs-ride="carousel"]',w9={[s9]:Rf,[n9]:ul},S9={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},j9={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yd extends ni{constructor(e,s){super(e,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Oe.findOne(v9,this._element),this._addEventListeners(),this._config.ride===xD&&this.cycle()}static get Default(){return S9}static get DefaultType(){return j9}static get NAME(){return e9}next(){this._slide(Xc)}nextWhenVisible(){!document.hidden&&Sc(this._element)&&this.next()}prev(){this._slide(Qo)}pause(){this._isSliding&&cD(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){me.one(this._element,Py,()=>this.cycle());return}this.cycle()}}to(e){const s=this._getItems();if(e>s.length-1||e<0)return;if(this._isSliding){me.one(this._element,Py,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const i=e>n?Xc:Qo;this._slide(i,s[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&me.on(this._element,r9,e=>this._keydown(e)),this._config.pause==="hover"&&(me.on(this._element,o9,()=>this.pause()),me.on(this._element,l9,()=>this._maybeEnableCycle())),this._config.touch&&Bm.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of Oe.find(b9,this._element))me.on(n,c9,i=>i.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(ul)),rightCallback:()=>this._slide(this._directionToOrder(Rf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),i9+this._config.interval))}};this._swipeHelper=new Bm(this._element,s)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const s=w9[e.key];s&&(e.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const s=Oe.findOne(wD,this._indicatorsElement);s.classList.remove(qh),s.removeAttribute("aria-current");const n=Oe.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(qh),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const s=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(e,s=null){if(this._isSliding)return;const n=this._getActive(),i=e===Xc,a=s||Ax(this._getItems(),n,i,this._config.wrap);if(a===n)return;const r=this._getItemIndex(a),l=m=>me.trigger(this._element,m,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:r});if(l(a9).defaultPrevented||!n||!a)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=a;const d=i?m9:f9,h=i?p9:g9;a.classList.add(h),qd(a),n.classList.add(d),a.classList.add(d);const f=()=>{a.classList.remove(d,h),a.classList.add(qh),n.classList.remove(qh,h,d),this._isSliding=!1,l(Py)};this._queueCallback(f,n,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(h9)}_getActive(){return Oe.findOne(y9,this._element)}_getItems(){return Oe.find(SD,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ln()?e===ul?Qo:Xc:e===ul?Xc:Qo}_orderToDirection(e){return Ln()?e===Qo?ul:Rf:e===Qo?Rf:ul}static jQueryInterface(e){return this.each(function(){const s=Yd.getOrCreateInstance(this,e);if(typeof e=="number"){s.to(e);return}if(typeof e=="string"){if(s[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);s[e]()}})}}me.on(document,d9,_9,function(t){const e=Oe.getElementFromSelector(this);if(!e||!e.classList.contains(xD))return;t.preventDefault();const s=Yd.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){s.to(n),s._maybeEnableCycle();return}if(na.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()});me.on(window,u9,()=>{const t=Oe.find(x9);for(const e of t)Yd.getOrCreateInstance(e)});zn(Yd);const E9="collapse",N9="bs.collapse",Gd=`.${N9}`,T9=".data-api",C9=`show${Gd}`,k9=`shown${Gd}`,A9=`hide${Gd}`,O9=`hidden${Gd}`,D9=`click${Gd}${T9}`,Ly="show",Tl="collapse",Wh="collapsing",M9="collapsed",R9=`:scope .${Tl} .${Tl}`,P9="collapse-horizontal",L9="width",$9="height",I9=".collapse.show, .collapse.collapsing",Iv='[data-bs-toggle="collapse"]',B9={parent:null,toggle:!0},z9={parent:"(null|element)",toggle:"boolean"};class hd extends ni{constructor(e,s){super(e,s),this._isTransitioning=!1,this._triggerArray=[];const n=Oe.find(Iv);for(const i of n){const a=Oe.getSelectorFromElement(i),r=Oe.find(a).filter(l=>l===this._element);a!==null&&r.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return B9}static get DefaultType(){return z9}static get NAME(){return E9}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(I9).filter(l=>l!==this._element).map(l=>hd.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||me.trigger(this._element,C9).defaultPrevented)return;for(const l of e)l.hide();const n=this._getDimension();this._element.classList.remove(Tl),this._element.classList.add(Wh),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Wh),this._element.classList.add(Tl,Ly),this._element.style[n]="",me.trigger(this._element,k9)},r=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[n]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||me.trigger(this._element,A9).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,qd(this._element),this._element.classList.add(Wh),this._element.classList.remove(Tl,Ly);for(const i of this._triggerArray){const a=Oe.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Wh),this._element.classList.add(Tl),me.trigger(this._element,O9)};this._element.style[s]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ly)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=nr(e.parent),e}_getDimension(){return this._element.classList.contains(P9)?L9:$9}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Iv);for(const s of e){const n=Oe.getElementFromSelector(s);n&&this._addAriaAndCollapsedClass([s],this._isShown(n))}}_getFirstLevelChildren(e){const s=Oe.find(R9,this._config.parent);return Oe.find(e,this._config.parent).filter(n=>!s.includes(n))}_addAriaAndCollapsedClass(e,s){if(e.length)for(const n of e)n.classList.toggle(M9,!s),n.setAttribute("aria-expanded",s)}static jQueryInterface(e){const s={};return typeof e=="string"&&/show|hide/.test(e)&&(s.toggle=!1),this.each(function(){const n=hd.getOrCreateInstance(this,s);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}me.on(document,D9,Iv,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Oe.getMultipleElementsFromSelector(this))hd.getOrCreateInstance(e,{toggle:!1}).toggle()});zn(hd);const BE="dropdown",H9="bs.dropdown",So=`.${H9}`,Dx=".data-api",F9="Escape",zE="Tab",U9="ArrowUp",HE="ArrowDown",V9=2,q9=`hide${So}`,W9=`hidden${So}`,Y9=`show${So}`,G9=`shown${So}`,jD=`click${So}${Dx}`,ED=`keydown${So}${Dx}`,K9=`keyup${So}${Dx}`,dl="show",X9="dropup",Q9="dropend",J9="dropstart",Z9="dropup-center",e7="dropdown-center",Fr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',t7=`${Fr}.${dl}`,Pf=".dropdown-menu",s7=".navbar",n7=".navbar-nav",i7=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",a7=Ln()?"top-end":"top-start",r7=Ln()?"top-start":"top-end",o7=Ln()?"bottom-end":"bottom-start",l7=Ln()?"bottom-start":"bottom-end",c7=Ln()?"left-start":"right-start",u7=Ln()?"right-start":"left-start",d7="top",h7="bottom",f7={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},m7={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ji extends ni{constructor(e,s){super(e,s),this._popper=null,this._parent=this._element.parentNode,this._menu=Oe.next(this._element,Pf)[0]||Oe.prev(this._element,Pf)[0]||Oe.findOne(Pf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return f7}static get DefaultType(){return m7}static get NAME(){return BE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ir(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!me.trigger(this._element,Y9,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(n7))for(const n of[].concat(...document.body.children))me.on(n,"mouseover",Im);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(dl),this._element.classList.add(dl),me.trigger(this._element,G9,e)}}hide(){if(ir(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!me.trigger(this._element,q9,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))me.off(n,"mouseover",Im);this._popper&&this._popper.destroy(),this._menu.classList.remove(dl),this._element.classList.remove(dl),this._element.setAttribute("aria-expanded","false"),na.removeDataAttribute(this._menu,"popper"),me.trigger(this._element,W9,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!sa(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${BE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof oD>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:sa(this._config.reference)?e=nr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const s=this._getPopperConfig();this._popper=kx(e,this._menu,s)}_isShown(){return this._menu.classList.contains(dl)}_getPlacement(){const e=this._parent;if(e.classList.contains(Q9))return c7;if(e.classList.contains(J9))return u7;if(e.classList.contains(Z9))return d7;if(e.classList.contains(e7))return h7;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(X9)?s?r7:a7:s?l7:o7}_detectNavbar(){return this._element.closest(s7)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(s=>Number.parseInt(s,10)):typeof e=="function"?s=>e(s,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(na.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Bs(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:s}){const n=Oe.find(i7,this._menu).filter(i=>Sc(i));n.length&&Ax(n,s,e===HE,!n.includes(s)).focus()}static jQueryInterface(e){return this.each(function(){const s=ji.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}static clearMenus(e){if(e.button===V9||e.type==="keyup"&&e.key!==zE)return;const s=Oe.find(t7);for(const n of s){const i=ji.getInstance(n);if(!i||i._config.autoClose===!1)continue;const a=e.composedPath(),r=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!r||i._config.autoClose==="outside"&&r||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===zE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const s=/input|textarea/i.test(e.target.tagName),n=e.key===F9,i=[U9,HE].includes(e.key);if(!i&&!n||s&&!n)return;e.preventDefault();const a=this.matches(Fr)?this:Oe.prev(this,Fr)[0]||Oe.next(this,Fr)[0]||Oe.findOne(Fr,e.delegateTarget.parentNode),r=ji.getOrCreateInstance(a);if(i){e.stopPropagation(),r.show(),r._selectMenuItem(e);return}r._isShown()&&(e.stopPropagation(),r.hide(),a.focus())}}me.on(document,ED,Fr,ji.dataApiKeydownHandler);me.on(document,ED,Pf,ji.dataApiKeydownHandler);me.on(document,jD,ji.clearMenus);me.on(document,K9,ji.clearMenus);me.on(document,jD,Fr,function(t){t.preventDefault(),ji.getOrCreateInstance(this).toggle()});zn(ji);const ND="backdrop",p7="fade",FE="show",UE=`mousedown.bs.${ND}`,g7={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},y7={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class TD extends Wd{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return g7}static get DefaultType(){return y7}static get NAME(){return ND}show(e){if(!this._config.isVisible){Bs(e);return}this._append();const s=this._getElement();this._config.isAnimated&&qd(s),s.classList.add(FE),this._emulateAnimation(()=>{Bs(e)})}hide(e){if(!this._config.isVisible){Bs(e);return}this._getElement().classList.remove(FE),this._emulateAnimation(()=>{this.dispose(),Bs(e)})}dispose(){this._isAppended&&(me.off(this._element,UE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(p7),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=nr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),me.on(e,UE,()=>{Bs(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){hD(e,this._getElement(),this._config.isAnimated)}}const b7="focustrap",v7="bs.focustrap",zm=`.${v7}`,_7=`focusin${zm}`,x7=`keydown.tab${zm}`,w7="Tab",S7="forward",VE="backward",j7={autofocus:!0,trapElement:null},E7={autofocus:"boolean",trapElement:"element"};class CD extends Wd{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return j7}static get DefaultType(){return E7}static get NAME(){return b7}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),me.off(document,zm),me.on(document,_7,e=>this._handleFocusin(e)),me.on(document,x7,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,me.off(document,zm))}_handleFocusin(e){const{trapElement:s}=this._config;if(e.target===document||e.target===s||s.contains(e.target))return;const n=Oe.focusableChildren(s);n.length===0?s.focus():this._lastTabNavDirection===VE?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===w7&&(this._lastTabNavDirection=e.shiftKey?VE:S7)}}const qE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",WE=".sticky-top",Yh="padding-right",YE="margin-right";class Bv{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Yh,s=>s+e),this._setElementAttributes(qE,Yh,s=>s+e),this._setElementAttributes(WE,YE,s=>s-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Yh),this._resetElementAttributes(qE,Yh),this._resetElementAttributes(WE,YE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,s,n){const i=this.getWidth(),a=r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+i)return;this._saveInitialAttribute(r,s);const l=window.getComputedStyle(r).getPropertyValue(s);r.style.setProperty(s,`${n(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,s){const n=e.style.getPropertyValue(s);n&&na.setDataAttribute(e,s,n)}_resetElementAttributes(e,s){const n=i=>{const a=na.getDataAttribute(i,s);if(a===null){i.style.removeProperty(s);return}na.removeDataAttribute(i,s),i.style.setProperty(s,a)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,s){if(sa(e)){s(e);return}for(const n of Oe.find(e,this._element))s(n)}}const N7="modal",T7="bs.modal",$n=`.${T7}`,C7=".data-api",k7="Escape",A7=`hide${$n}`,O7=`hidePrevented${$n}`,kD=`hidden${$n}`,AD=`show${$n}`,D7=`shown${$n}`,M7=`resize${$n}`,R7=`click.dismiss${$n}`,P7=`mousedown.dismiss${$n}`,L7=`keydown.dismiss${$n}`,$7=`click${$n}${C7}`,GE="modal-open",I7="fade",KE="show",$y="modal-static",B7=".modal.show",z7=".modal-dialog",H7=".modal-body",F7='[data-bs-toggle="modal"]',U7={backdrop:!0,focus:!0,keyboard:!0},V7={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ac extends ni{constructor(e,s){super(e,s),this._dialog=Oe.findOne(z7,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Bv,this._addEventListeners()}static get Default(){return U7}static get DefaultType(){return V7}static get NAME(){return N7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||me.trigger(this._element,AD,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(GE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||me.trigger(this._element,A7).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(KE),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){me.off(window,$n),me.off(this._dialog,$n),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new TD({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new CD({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=Oe.findOne(H7,this._dialog);s&&(s.scrollTop=0),qd(this._element),this._element.classList.add(KE);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,me.trigger(this._element,D7,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){me.on(this._element,L7,e=>{if(e.key===k7){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),me.on(window,M7,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),me.on(this._element,P7,e=>{me.one(this._element,R7,s=>{if(!(this._element!==e.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(GE),this._resetAdjustments(),this._scrollBar.reset(),me.trigger(this._element,kD)})}_isAnimated(){return this._element.classList.contains(I7)}_triggerBackdropTransition(){if(me.trigger(this._element,O7).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains($y)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add($y),this._queueCallback(()=>{this._element.classList.remove($y),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),n=s>0;if(n&&!e){const i=Ln()?"paddingLeft":"paddingRight";this._element.style[i]=`${s}px`}if(!n&&e){const i=Ln()?"paddingRight":"paddingLeft";this._element.style[i]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,s){return this.each(function(){const n=ac.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](s)}})}}me.on(document,$7,F7,function(t){const e=Oe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),me.one(e,AD,i=>{i.defaultPrevented||me.one(e,kD,()=>{Sc(this)&&this.focus()})});const s=Oe.findOne(B7);s&&ac.getInstance(s).hide(),ac.getOrCreateInstance(e).toggle(this)});Lp(ac);zn(ac);const q7="offcanvas",W7="bs.offcanvas",fa=`.${W7}`,OD=".data-api",Y7=`load${fa}${OD}`,G7="Escape",XE="show",QE="showing",JE="hiding",K7="offcanvas-backdrop",DD=".offcanvas.show",X7=`show${fa}`,Q7=`shown${fa}`,J7=`hide${fa}`,ZE=`hidePrevented${fa}`,MD=`hidden${fa}`,Z7=`resize${fa}`,eW=`click${fa}${OD}`,tW=`keydown.dismiss${fa}`,sW='[data-bs-toggle="offcanvas"]',nW={backdrop:!0,keyboard:!0,scroll:!1},iW={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ar extends ni{constructor(e,s){super(e,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nW}static get DefaultType(){return iW}static get NAME(){return q7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||me.trigger(this._element,X7,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Bv().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(QE);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(XE),this._element.classList.remove(QE),me.trigger(this._element,Q7,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||me.trigger(this._element,J7).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(JE),this._backdrop.hide();const s=()=>{this._element.classList.remove(XE,JE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Bv().reset(),me.trigger(this._element,MD)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){me.trigger(this._element,ZE);return}this.hide()},s=!!this._config.backdrop;return new TD({className:K7,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?e:null})}_initializeFocusTrap(){return new CD({trapElement:this._element})}_addEventListeners(){me.on(this._element,tW,e=>{if(e.key===G7){if(this._config.keyboard){this.hide();return}me.trigger(this._element,ZE)}})}static jQueryInterface(e){return this.each(function(){const s=ar.getOrCreateInstance(this,e);if(typeof e=="string"){if(s[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);s[e](this)}})}}me.on(document,eW,sW,function(t){const e=Oe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),ir(this))return;me.one(e,MD,()=>{Sc(this)&&this.focus()});const s=Oe.findOne(DD);s&&s!==e&&ar.getInstance(s).hide(),ar.getOrCreateInstance(e).toggle(this)});me.on(window,Y7,()=>{for(const t of Oe.find(DD))ar.getOrCreateInstance(t).show()});me.on(window,Z7,()=>{for(const t of Oe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&ar.getOrCreateInstance(t).hide()});Lp(ar);zn(ar);const aW=/^aria-[\w-]*$/i,RD={"*":["class","dir","id","lang","role",aW],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rW=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),oW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,lW=(t,e)=>{const s=t.nodeName.toLowerCase();return e.includes(s)?rW.has(s)?!!oW.test(t.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(s))};function cW(t,e,s){if(!t.length)return t;if(s&&typeof s=="function")return s(t);const i=new window.DOMParser().parseFromString(t,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const r of a){const l=r.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){r.remove();continue}const c=[].concat(...r.attributes),u=[].concat(e["*"]||[],e[l]||[]);for(const d of c)lW(d,u)||r.removeAttribute(d.nodeName)}return i.body.innerHTML}const uW="TemplateFactory",dW={allowList:RD,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},hW={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},fW={entry:"(string|element|function|null)",selector:"(string|element)"};class mW extends Wd{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return dW}static get DefaultType(){return hW}static get NAME(){return uW}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const s=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&s.classList.add(...n.split(" ")),s}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[s,n]of Object.entries(e))super._typeCheckConfig({selector:s,entry:n},fW)}_setContent(e,s,n){const i=Oe.findOne(n,e);if(i){if(s=this._resolvePossibleFunction(s),!s){i.remove();return}if(sa(s)){this._putElementInTemplate(nr(s),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(s);return}i.textContent=s}}_maybeSanitize(e){return this._config.sanitize?cW(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Bs(e,[void 0,this])}_putElementInTemplate(e,s){if(this._config.html){s.innerHTML="",s.append(e);return}s.textContent=e.textContent}}const pW="tooltip",gW=new Set(["sanitize","allowList","sanitizeFn"]),Iy="fade",yW="modal",Gh="show",bW=".tooltip-inner",eN=`.${yW}`,tN="hide.bs.modal",Qc="hover",By="focus",vW="click",_W="manual",xW="hide",wW="hidden",SW="show",jW="shown",EW="inserted",NW="click",TW="focusin",CW="focusout",kW="mouseenter",AW="mouseleave",OW={AUTO:"auto",TOP:"top",RIGHT:Ln()?"left":"right",BOTTOM:"bottom",LEFT:Ln()?"right":"left"},DW={allowList:RD,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},MW={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Kd=class PD extends ni{constructor(e,s){if(typeof oD>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return DW}static get DefaultType(){return MW}static get NAME(){return pW}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),me.off(this._element.closest(eN),tN,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=me.trigger(this._element,this.constructor.eventName(SW)),n=(uD(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),me.trigger(this._element,this.constructor.eventName(EW))),this._popper=this._createPopper(i),i.classList.add(Gh),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))me.on(l,"mouseover",Im);const r=()=>{me.trigger(this._element,this.constructor.eventName(jW)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(r,this.tip,this._isAnimated())}hide(){if(!this._isShown()||me.trigger(this._element,this.constructor.eventName(xW)).defaultPrevented)return;if(this._getTipElement().classList.remove(Gh),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))me.off(i,"mouseover",Im);this._activeTrigger[vW]=!1,this._activeTrigger[By]=!1,this._activeTrigger[Qc]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),me.trigger(this._element,this.constructor.eventName(wW)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const s=this._getTemplateFactory(e).toHtml();if(!s)return null;s.classList.remove(Iy,Gh),s.classList.add(`bs-${this.constructor.NAME}-auto`);const n=vq(this.constructor.NAME).toString();return s.setAttribute("id",n),this._isAnimated()&&s.classList.add(Iy),s}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new mW({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[bW]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Iy)}_isShown(){return this.tip&&this.tip.classList.contains(Gh)}_createPopper(e){const s=Bs(this._config.placement,[this,e,this._element]),n=OW[s.toUpperCase()];return kx(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(s=>Number.parseInt(s,10)):typeof e=="function"?s=>e(s,this._element):e}_resolvePossibleFunction(e){return Bs(e,[this._element,this._element])}_getPopperConfig(e){const s={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...s,...Bs(this._config.popperConfig,[void 0,s])}}_setListeners(){const e=this._config.trigger.split(" ");for(const s of e)if(s==="click")me.on(this._element,this.constructor.eventName(NW),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(s!==_W){const n=s===Qc?this.constructor.eventName(kW):this.constructor.eventName(TW),i=s===Qc?this.constructor.eventName(AW):this.constructor.eventName(CW);me.on(this._element,n,this._config.selector,a=>{const r=this._initializeOnDelegatedTarget(a);r._activeTrigger[a.type==="focusin"?By:Qc]=!0,r._enter()}),me.on(this._element,i,this._config.selector,a=>{const r=this._initializeOnDelegatedTarget(a);r._activeTrigger[a.type==="focusout"?By:Qc]=r._element.contains(a.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},me.on(this._element.closest(eN),tN,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,s){clearTimeout(this._timeout),this._timeout=setTimeout(e,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const s=na.getDataAttributes(this._element);for(const n of Object.keys(s))gW.has(n)&&delete s[n];return e={...s,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:nr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[s,n]of Object.entries(this._config))this.constructor.Default[s]!==n&&(e[s]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const s=PD.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}};zn(Kd);const RW="popover",PW=".popover-header",LW=".popover-body",$W={...Kd.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},IW={...Kd.DefaultType,content:"(null|string|element|function)"};class Mx extends Kd{static get Default(){return $W}static get DefaultType(){return IW}static get NAME(){return RW}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[PW]:this._getTitle(),[LW]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const s=Mx.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}zn(Mx);const BW="scrollspy",zW="bs.scrollspy",Rx=`.${zW}`,HW=".data-api",FW=`activate${Rx}`,sN=`click${Rx}`,UW=`load${Rx}${HW}`,VW="dropdown-item",Jo="active",qW='[data-bs-spy="scroll"]',zy="[href]",WW=".nav, .list-group",nN=".nav-link",YW=".nav-item",GW=".list-group-item",KW=`${nN}, ${YW} > ${nN}, ${GW}`,XW=".dropdown",QW=".dropdown-toggle",JW={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ZW={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Bp extends ni{constructor(e,s){super(e,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return JW}static get DefaultType(){return ZW}static get NAME(){return BW}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=nr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(s=>Number.parseFloat(s))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(me.off(this._config.target,sN),me.on(this._config.target,sN,zy,e=>{const s=this._observableSections.get(e.target.hash);if(s){e.preventDefault();const n=this._rootElement||window,i=s.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:i,behavior:"smooth"});return}n.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),e)}_observerCallback(e){const s=r=>this._targetLinks.get(`#${r.target.id}`),n=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(s(r))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(r));continue}const l=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&l){if(n(r),!i)return;continue}!a&&!l&&n(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Oe.find(zy,this._config.target);for(const s of e){if(!s.hash||ir(s))continue;const n=Oe.findOne(decodeURI(s.hash),this._element);Sc(n)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Jo),this._activateParents(e),me.trigger(this._element,FW,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(VW)){Oe.findOne(QW,e.closest(XW)).classList.add(Jo);return}for(const s of Oe.parents(e,WW))for(const n of Oe.prev(s,KW))n.classList.add(Jo)}_clearActiveClass(e){e.classList.remove(Jo);const s=Oe.find(`${zy}.${Jo}`,e);for(const n of s)n.classList.remove(Jo)}static jQueryInterface(e){return this.each(function(){const s=Bp.getOrCreateInstance(this,e);if(typeof e=="string"){if(s[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);s[e]()}})}}me.on(window,UW,()=>{for(const t of Oe.find(qW))Bp.getOrCreateInstance(t)});zn(Bp);const eY="tab",tY="bs.tab",jo=`.${tY}`,sY=`hide${jo}`,nY=`hidden${jo}`,iY=`show${jo}`,aY=`shown${jo}`,rY=`click${jo}`,oY=`keydown${jo}`,lY=`load${jo}`,cY="ArrowLeft",iN="ArrowRight",uY="ArrowUp",aN="ArrowDown",Hy="Home",rN="End",Ur="active",oN="fade",Fy="show",dY="dropdown",LD=".dropdown-toggle",hY=".dropdown-menu",Uy=`:not(${LD})`,fY='.list-group, .nav, [role="tablist"]',mY=".nav-item, .list-group-item",pY=`.nav-link${Uy}, .list-group-item${Uy}, [role="tab"]${Uy}`,$D='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Vy=`${pY}, ${$D}`,gY=`.${Ur}[data-bs-toggle="tab"], .${Ur}[data-bs-toggle="pill"], .${Ur}[data-bs-toggle="list"]`;class rc extends ni{constructor(e){super(e),this._parent=this._element.closest(fY),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),me.on(this._element,oY,s=>this._keydown(s)))}static get NAME(){return eY}show(){const e=this._element;if(this._elemIsActive(e))return;const s=this._getActiveElem(),n=s?me.trigger(s,sY,{relatedTarget:e}):null;me.trigger(e,iY,{relatedTarget:s}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(s,e),this._activate(e,s))}_activate(e,s){if(!e)return;e.classList.add(Ur),this._activate(Oe.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Fy);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),me.trigger(e,aY,{relatedTarget:s})};this._queueCallback(n,e,e.classList.contains(oN))}_deactivate(e,s){if(!e)return;e.classList.remove(Ur),e.blur(),this._deactivate(Oe.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Fy);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),me.trigger(e,nY,{relatedTarget:s})};this._queueCallback(n,e,e.classList.contains(oN))}_keydown(e){if(![cY,iN,uY,aN,Hy,rN].includes(e.key))return;e.stopPropagation(),e.preventDefault();const s=this._getChildren().filter(i=>!ir(i));let n;if([Hy,rN].includes(e.key))n=s[e.key===Hy?0:s.length-1];else{const i=[iN,aN].includes(e.key);n=Ax(s,e.target,i,!0)}n&&(n.focus({preventScroll:!0}),rc.getOrCreateInstance(n).show())}_getChildren(){return Oe.find(Vy,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,s){this._setAttributeIfNotExists(e,"role","tablist");for(const n of s)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const s=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",s),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),s||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const s=Oe.getElementFromSelector(e);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,s){const n=this._getOuterElement(e);if(!n.classList.contains(dY))return;const i=(a,r)=>{const l=Oe.findOne(a,n);l&&l.classList.toggle(r,s)};i(LD,Ur),i(hY,Fy),n.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(e,s,n){e.hasAttribute(s)||e.setAttribute(s,n)}_elemIsActive(e){return e.classList.contains(Ur)}_getInnerElement(e){return e.matches(Vy)?e:Oe.findOne(Vy,e)}_getOuterElement(e){return e.closest(mY)||e}static jQueryInterface(e){return this.each(function(){const s=rc.getOrCreateInstance(this);if(typeof e=="string"){if(s[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);s[e]()}})}}me.on(document,rY,$D,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!ir(this)&&rc.getOrCreateInstance(this).show()});me.on(window,lY,()=>{for(const t of Oe.find(gY))rc.getOrCreateInstance(t)});zn(rc);const yY="toast",bY="bs.toast",dr=`.${bY}`,vY=`mouseover${dr}`,_Y=`mouseout${dr}`,xY=`focusin${dr}`,wY=`focusout${dr}`,SY=`hide${dr}`,jY=`hidden${dr}`,EY=`show${dr}`,NY=`shown${dr}`,TY="fade",lN="hide",Kh="show",Xh="showing",CY={animation:"boolean",autohide:"boolean",delay:"number"},kY={animation:!0,autohide:!0,delay:5e3};class zp extends ni{constructor(e,s){super(e,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return kY}static get DefaultType(){return CY}static get NAME(){return yY}show(){if(me.trigger(this._element,EY).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(TY);const s=()=>{this._element.classList.remove(Xh),me.trigger(this._element,NY),this._maybeScheduleHide()};this._element.classList.remove(lN),qd(this._element),this._element.classList.add(Kh,Xh),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||me.trigger(this._element,SY).defaultPrevented)return;const s=()=>{this._element.classList.add(lN),this._element.classList.remove(Xh,Kh),me.trigger(this._element,jY)};this._element.classList.add(Xh),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Kh),super.dispose()}isShown(){return this._element.classList.contains(Kh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,s){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){me.on(this._element,vY,e=>this._onInteraction(e,!0)),me.on(this._element,_Y,e=>this._onInteraction(e,!1)),me.on(this._element,xY,e=>this._onInteraction(e,!0)),me.on(this._element,wY,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const s=zp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](this)}})}}Lp(zp);zn(zp);const zv=()=>{const[t,e]=S.useState(new Date(2025,4,1)),[s,n]=S.useState([]),[i,a]=S.useState([]),[r,l]=S.useState(!1),[c,u]=S.useState(null),[d,h]=S.useState(null),[f,m]=S.useState({}),[v,_]=S.useState(!1),[x,y]=S.useState(!1),[g,b]=S.useState(""),[w,E]=S.useState(""),[C,T]=S.useState(""),N=S.useRef(null),A=S.useRef(null),L=S.useRef(null);S.useEffect(()=>{(async()=>{l(!0),u(null);let ne=[],X=1;const G=10;try{for(;;){const re=await oe.get("/api/room_list",{params:{per_page:G,page:X}}),{data:ge,last_page:pe}=re.data;if(!Array.isArray(ge))throw new Error("Invalid API response: room data is not an array");if(ne=[...ne,...ge.map(be=>({id:be.id,room_number:be.room_number,status:be.status}))],X>=pe)break;X++}n(ne)}catch(re){console.error("Error fetching room list:",re),u("Unable to load room list: "+re.message),n([])}finally{l(!1)}})()},[]),S.useEffect(()=>{(async()=>{l(!0),u(null);let ne=[],X=1;const G=30,re=NE(new Date(t.getFullYear(),t.getMonth(),1)),ge=Dv(new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59),1);try{for(;;){const pe=await oe.get("/api/booking_manager",{params:{per_page:G,page:X,checkin_date_lte:Rt(ge,"yyyy-MM-dd HH:mm:ss"),checkout_date_gte:Rt(re,"yyyy-MM-dd HH:mm:ss")}});if(!pe.data||typeof pe.data!="object")throw new Error("Invalid API response: data is missing or not in the correct format");const{data:be,last_page:Ee}=pe.data;if(!Array.isArray(be))throw console.error("API response:",pe.data),new Error("Invalid API response: data is not an array");if(ne=[...ne,...be.map(Te=>({...Te,checkin_date:new Date(Te.checkin_date),checkout_date:new Date(Te.checkout_date),check_status:Te.check_status||"not checked in",actual_check_in:Te.actual_check_in?new Date(Te.actual_check_in):null,actual_check_out:Te.actual_check_out?new Date(Te.actual_check_out):null}))],X>=Ee||be.length<G)break;X++}a(ne)}catch(pe){console.error("Error fetching booking list:",pe),u("Unable to load booking list: "+pe.message),a([])}finally{l(!1)}})()},[t]),S.useEffect(()=>{L.current&&L.current.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(ne=>{new Kd(ne,{boundary:document.body,placement:"top",customClass:"custom-tooltip"})})},[i,s]),S.useEffect(()=>{if(x){const F=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(F)}},[x]),S.useEffect(()=>{C==="extend"&&N.current?N.current.focus():C==="checkout"&&A.current&&A.current.focus()},[C]);const D=F=>{b(F.target.value)},I=()=>{b("")},q=F=>{if(!F||F.check_status==="checked out")return;const ne=new Date;h(F),F.check_status==="not checked in"?(E("checkin"),m({checkin_date:Rt(F.checkin_date,"yyyy-MM-dd"),checkout_date:Rt(F.checkout_date,"yyyy-MM-dd"),actual_check_in:Rt(ne,"yyyy-MM-dd HH:mm:ss")}),T("")):F.check_status==="checked in"&&(E("manage"),m({checkin_date:Rt(F.checkin_date,"yyyy-MM-dd"),checkout_date:Rt(F.checkout_date,"yyyy-MM-dd"),actual_check_in:F.actual_check_in?Rt(F.actual_check_in,"yyyy-MM-dd HH:mm:ss"):"",actual_check_out:Rt(ne,"yyyy-MM-dd HH:mm:ss")}),T("checkout")),_(!0)},B=()=>{_(!1),h(null),m({}),E(""),T(""),u(null)},z=F=>{const{name:ne,value:X}=F.target;m(G=>({...G,[ne]:X}))},M=F=>{T(ne=>ne===F?"":F),u(null)},H=async F=>{if(F.preventDefault(),!d||!C&&w!=="checkin"){u("Please select an action");return}try{l(!0),u(null);let ne;if(w==="checkin"){const G=new Date(f.actual_check_in),re=new Date(d.checkin_date),ge=new Date(d.checkout_date);if(Ii(G,re)&&!ui(G,re)||Kc(G,ge)&&!ui(G,ge)){u("Actual check-in must be on or after scheduled check-in date and on or before scheduled check-out date"),l(!1);return}ne={checkin_date:Rt(new Date(d.checkin_date),"yyyy-MM-dd HH:mm:ss"),checkout_date:Rt(new Date(d.checkout_date),"yyyy-MM-dd HH:mm:ss"),check_status:"checked in",actual_check_in:f.actual_check_in,actual_check_out:null}}else if(C==="checkout"){const G=new Date(f.actual_check_out),re=new Date(d.checkin_date),ge=new Date(f.actual_check_in),pe=new Date(d.checkout_date);if(Ii(G,re)&&!ui(G,re)||Ii(G,ge)&&!ui(G,ge)||Kc(G,pe)&&!ui(G,pe)){u("Actual check-out must be on or after check-in and actual check-in dates, and on or before scheduled check-out date"),l(!1);return}ne={checkin_date:Rt(new Date(d.checkin_date),"yyyy-MM-dd HH:mm:ss"),checkout_date:Rt(new Date(d.checkout_date),"yyyy-MM-dd HH:mm:ss"),check_status:"checked out",actual_check_in:f.actual_check_in,actual_check_out:Rt(G,"yyyy-MM-dd HH:mm:ss")}}else if(C==="extend"){const G=new Date(f.checkout_date+" 12:00:00"),re=new Date(d.checkin_date),ge=new Date(f.actual_check_in),pe=new Date(d.checkout_date);if(Ii(G,re)||Ii(G,ge)||Ii(G,pe)){u("New check-out date must be after check-in, actual check-in, and current check-out dates"),l(!1);return}const be=i.find(Ee=>{if(Ee.id===d.id||Ee.room_id!==d.room_id)return!1;const Te=new Date(Ee.checkin_date),Le=new Date(Ee.checkout_date);return k8(G,{start:Te,end:Le})||Kc(G,Te)});if(be){u(`The new check-out date conflicts with another booking for this room from ${Rt(be.checkin_date,"yyyy-MM-dd HH:mm:ss")} to ${Rt(be.checkout_date,"yyyy-MM-dd HH:mm:ss")}`),l(!1);return}ne={checkin_date:Rt(new Date(d.checkin_date),"yyyy-MM-dd HH:mm:ss"),checkout_date:Rt(G,"yyyy-MM-dd HH:mm:ss"),check_status:"checked in",actual_check_in:f.actual_check_in,actual_check_out:null}}const X=await oe.put(`http://localhost:8000/api/booking_manager/${d.id}`,ne);a(G=>G.map(re=>re.id===d.id?{...re,...X.data,checkin_date:new Date(X.data.checkin_date),checkout_date:new Date(X.data.checkout_date),check_status:X.data.check_status,actual_check_in:X.data.actual_check_in?new Date(X.data.actual_check_in):null,actual_check_out:X.data.actual_check_out?new Date(X.data.actual_check_out):null}:re)),_(!1),h(null),m({}),E(""),T(""),y(!0)}catch(ne){console.error("Error updating booking:",ne),u("Unable to update booking: "+ne.message)}finally{l(!1)}},R=()=>{e(NE(t))},V=()=>{e(Dv(t,1))},P=F=>{F!=="0"&&document.querySelectorAll(`[data-column="${F}"]`).forEach(ne=>{ne.classList.add("highlight-column")})},se=F=>{F!=="0"&&document.querySelectorAll(`[data-column="${F}"]`).forEach(ne=>{ne.classList.remove("highlight-column")})},de=(F,ne)=>{const X=Js(new Date(t.getFullYear(),t.getMonth(),ne));if(F.status==="maintenance")return{booking:null,status:"maintenance",check_status:null};const G=i.find(re=>{if(re.room_id!==F.id)return!1;const ge=Js(re.checkin_date),pe=Js(re.checkout_date);return(ui(X,ge)||Kc(X,ge))&&(ui(X,pe)||Ii(X,pe))});return{booking:G,status:G?"booked":"available",check_status:G?G.check_status:null}},fe=(F,ne)=>ne==="maintenance"?'<div class="tooltip-content">Room under maintenance</div>':F?`
      <div class="tooltip-content">
        <div><strong>Name:</strong> ${F.name}</div>
        <div><strong>Phone:</strong> ${F.phone}</div>
        <div><strong>Check-in:</strong> ${Rt(F.checkin_date,"yyyy-MM-dd HH:mm:ss")}</div>
        <div><strong>Check-out:</strong> ${Rt(F.checkout_date,"yyyy-MM-dd HH:mm:ss")}</div>
        <div><strong>Status:</strong> ${F.check_status}</div>
        ${F.actual_check_in?`<div><strong>Actual Check-in:</strong> ${Rt(F.actual_check_in,"yyyy-MM-dd HH:mm:ss")}</div>`:""}
        ${F.actual_check_out?`<div><strong>Actual Check-out:</strong> ${Rt(F.actual_check_out,"yyyy-MM-dd HH:mm:ss")}</div>`:""}
      </div>
    `:"",ae=()=>{const F=C8(t),ne=Array.from({length:F},(pe,be)=>be+1),X=Js(new Date),G=(pe,be)=>{var lt;if(!(g!=null&&g.trim())||!pe)return!1;const Ee=Js(new Date(t.getFullYear(),t.getMonth(),be)),Te=Js(pe.checkin_date),Le=Js(pe.checkout_date);return(ui(Ee,Te)||Kc(Ee,Te))&&(ui(Ee,Le)||Ii(Ee,Le))&&((lt=pe.phone)==null?void 0:lt.includes(g.trim()))},re=pe=>{const be=Js(new Date(t.getFullYear(),t.getMonth(),pe));return ui(be,X)},ge=pe=>{const be=Js(new Date(t.getFullYear(),t.getMonth(),pe));return Ii(be,X)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"search-container sticky-top bg-white py-2",style:{zIndex:1e3},children:o.jsxs("div",{className:"d-flex align-items-center",style:{maxWidth:"300px"},children:[o.jsx("input",{type:"text",className:"form-control me-2",placeholder:"Search by phone number",value:g,onChange:D,style:{maxWidth:"250px"}}),g&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:I,children:"Clear"})]})}),o.jsxs("div",{className:"table-container position-relative",children:[c&&o.jsx("div",{className:"alert alert-danger mt-3",children:c}),r?o.jsx("div",{className:"text-center mt-3",children:"Loading..."}):o.jsxs(o.Fragment,{children:[x&&o.jsxs("div",{className:"toast show position-fixed top-0 end-0 m-3",style:{zIndex:1050},role:"alert","aria-live":"assertive","aria-atomic":"true",children:[o.jsxs("div",{className:"toast-header",children:[o.jsx("strong",{className:"me-auto",children:"Success"}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>y(!1),"aria-label":"Close"})]}),o.jsx("div",{className:"toast-body",children:"Booking updated successfully!"})]}),o.jsxs("table",{ref:L,className:"table table-bordered table-sm w-100",style:{tableLayout:"fixed"},children:[o.jsx("thead",{className:"table-light sticky-thead",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"text-center align-middle",style:{width:"80px",fontSize:"0.8rem"},"data-column":"0",children:"Room"}),ne.map(pe=>{const be=re(pe)?"highlight-today":"",Ee=ge(pe)?"past-date":"";return o.jsx("th",{scope:"col",className:`text-center align-middle ${be} ${Ee}`,style:{width:`calc((100% - 80px) / ${ne.length})`,fontSize:"0.8rem"},"data-column":pe,onMouseEnter:()=>P(pe.toString()),onMouseLeave:()=>se(pe.toString()),children:pe},pe)})]})}),o.jsx("tbody",{children:s.length>0?s.map(pe=>o.jsxs("tr",{children:[o.jsx("td",{className:"text-center align-middle fw-bold",style:{width:"80px",fontSize:"0.8rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"data-column":"0",children:pe.room_number}),ne.map(be=>{const{booking:Ee,status:Te,check_status:Le}=de(pe,be),lt=Te==="maintenance"?"bg-danger text-white":Te==="booked"&&Le==="not checked in"?"bg-warning text-dark":Te==="booked"&&Le==="checked in"?"bg-success text-white":Te==="booked"&&Le==="checked out"?"bg-secondary text-white":"bg-white",wt=G(Ee,be),he=re(be)?"highlight-today":"",Se=ge(be)?"past-date":"";return o.jsx("td",{className:`text-center align-middle ${lt} ${wt?"highlight-search":""} ${he} ${Se}`,style:{height:"30px",fontSize:"0.7rem",cursor:Te==="booked"&&Le!=="checked out"?"pointer":"default"},"data-column":be,onMouseEnter:()=>P(be.toString()),onMouseLeave:()=>se(be.toString()),onClick:()=>Te==="booked"&&Le!=="checked out"&&q(Ee),"data-bs-toggle":Te==="booked"||Te==="maintenance"?"tooltip":"","data-bs-html":"true","data-bs-title":fe(Ee,Te),children:Te==="maintenance"?"M":Te==="booked"?"B":""},`room-${pe.id}-day-${be}`)})]},`room-${pe.id}`)):o.jsx("tr",{children:o.jsx("td",{colSpan:ne.length+1,className:"text-center",children:"No rooms available"})})})]}),v&&o.jsx("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:w==="checkin"?"Check-in Booking":"Manage Booking"}),o.jsx("button",{type:"button",className:"btn-close",onClick:B,"aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[c&&o.jsx("div",{className:"alert alert-danger",children:c}),d&&o.jsxs("form",{onSubmit:H,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"checkin_date",className:"form-label",children:"Check-in Date (Scheduled)"}),o.jsx("input",{type:"date",className:"form-control",id:"checkin_date",name:"checkin_date",value:f.checkin_date||"",readOnly:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"checkout_date",className:"form-label",children:"Check-out Date (Scheduled)"}),o.jsx("input",{type:"date",className:"form-control",id:"checkout_date",name:"checkout_date",value:f.checkout_date||"",readOnly:C!=="extend",onChange:z,ref:N})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"actual_check_in",className:"form-label",children:"Actual Check-in"}),o.jsx("input",{type:"datetime-local",className:"form-control",id:"actual_check_in",name:"actual_check_in",value:f.actual_check_in||"",readOnly:!0})]}),w==="manage"&&C==="checkout"&&o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"actual_check_out",className:"form-label",children:"Actual Check-out"}),o.jsx("input",{type:"datetime-local",className:"form-control",id:"actual_check_out",name:"actual_check_out",value:f.actual_check_out||"",readOnly:!0,ref:A})]}),w==="manage"&&o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Action"}),o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"checkout",checked:C==="checkout",onChange:()=>M("checkout")}),o.jsx("label",{className:"form-check-label",htmlFor:"checkout",children:"Check Out"})]}),o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"extend",checked:C==="extend",onChange:()=>M("extend")}),o.jsx("label",{className:"form-check-label",htmlFor:"extend",children:"Extend Check-out"})]})]}),o.jsxs("div",{className:"d-flex justify-content-between",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r||w==="manage"&&!C,children:r?"Updating...":"Submit"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,disabled:r,children:"Cancel"})]})]})]})]})})})]})]})]})};return o.jsxs("div",{className:"container my-4 booking-show",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("button",{onClick:R,className:"btn btn-primary btn-sm",children:"Previous Month"}),o.jsx("h1",{className:"h3 fw-bold",children:Rt(t,"MMMM yyyy",{locale:RO})}),o.jsx("button",{onClick:V,className:"btn btn-primary btn-sm",children:"Next Month"})]}),ae()]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Xd(t){return t+.5|0}const Ha=(t,e,s)=>Math.max(Math.min(t,s),e);function uu(t){return Ha(Xd(t*2.55),0,255)}function Qa(t){return Ha(Xd(t*255),0,255)}function Wi(t){return Ha(Xd(t/2.55)/100,0,1)}function cN(t){return Ha(Xd(t*100),0,100)}const wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hv=[..."0123456789ABCDEF"],AY=t=>Hv[t&15],OY=t=>Hv[(t&240)>>4]+Hv[t&15],Qh=t=>(t&240)>>4===(t&15),DY=t=>Qh(t.r)&&Qh(t.g)&&Qh(t.b)&&Qh(t.a);function MY(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&wn[t[1]]*17,g:255&wn[t[2]]*17,b:255&wn[t[3]]*17,a:e===5?wn[t[4]]*17:255}:(e===7||e===9)&&(s={r:wn[t[1]]<<4|wn[t[2]],g:wn[t[3]]<<4|wn[t[4]],b:wn[t[5]]<<4|wn[t[6]],a:e===9?wn[t[7]]<<4|wn[t[8]]:255})),s}const RY=(t,e)=>t<255?e(t):"";function PY(t){var e=DY(t)?AY:OY;return t?"#"+e(t.r)+e(t.g)+e(t.b)+RY(t.a,e):void 0}const LY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ID(t,e,s){const n=e*Math.min(s,1-s),i=(a,r=(a+t/30)%12)=>s-n*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function $Y(t,e,s){const n=(i,a=(i+t/60)%6)=>s-s*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function IY(t,e,s){const n=ID(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)n[i]*=1-e-s,n[i]+=e;return n}function BY(t,e,s,n,i){return t===i?(e-s)/n+(e<s?6:0):e===i?(s-t)/n+2:(t-e)/n+4}function Px(t){const s=t.r/255,n=t.g/255,i=t.b/255,a=Math.max(s,n,i),r=Math.min(s,n,i),l=(a+r)/2;let c,u,d;return a!==r&&(d=a-r,u=l>.5?d/(2-a-r):d/(a+r),c=BY(s,n,i,d,a),c=c*60+.5),[c|0,u||0,l]}function Lx(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Qa)}function $x(t,e,s){return Lx(ID,t,e,s)}function zY(t,e,s){return Lx(IY,t,e,s)}function HY(t,e,s){return Lx($Y,t,e,s)}function BD(t){return(t%360+360)%360}function FY(t){const e=LY.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?uu(+e[5]):Qa(+e[5]));const i=BD(+e[2]),a=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?n=zY(i,a,r):e[1]==="hsv"?n=HY(i,a,r):n=$x(i,a,r),{r:n[0],g:n[1],b:n[2],a:s}}function UY(t,e){var s=Px(t);s[0]=BD(s[0]+e),s=$x(s),t.r=s[0],t.g=s[1],t.b=s[2]}function VY(t){if(!t)return;const e=Px(t),s=e[0],n=cN(e[1]),i=cN(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${Wi(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const uN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qY(){const t={},e=Object.keys(dN),s=Object.keys(uN);let n,i,a,r,l;for(n=0;n<e.length;n++){for(r=l=e[n],i=0;i<s.length;i++)a=s[i],l=l.replace(a,uN[a]);a=parseInt(dN[r],16),t[l]=[a>>16&255,a>>8&255,a&255]}return t}let Jh;function WY(t){Jh||(Jh=qY(),Jh.transparent=[0,0,0,0]);const e=Jh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const YY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GY(t){const e=YY.exec(t);let s=255,n,i,a;if(e){if(e[7]!==n){const r=+e[7];s=e[8]?uu(r):Ha(r*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?uu(n):Ha(n,0,255)),i=255&(e[4]?uu(i):Ha(i,0,255)),a=255&(e[6]?uu(a):Ha(a,0,255)),{r:n,g:i,b:a,a:s}}}function KY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const qy=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Zo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function XY(t,e,s){const n=Zo(Wi(t.r)),i=Zo(Wi(t.g)),a=Zo(Wi(t.b));return{r:Qa(qy(n+s*(Zo(Wi(e.r))-n))),g:Qa(qy(i+s*(Zo(Wi(e.g))-i))),b:Qa(qy(a+s*(Zo(Wi(e.b))-a))),a:t.a+s*(e.a-t.a)}}function Zh(t,e,s){if(t){let n=Px(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=$x(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function zD(t,e){return t&&Object.assign(e||{},t)}function hN(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Qa(t[3]))):(e=zD(t,{r:0,g:0,b:0,a:1}),e.a=Qa(e.a)),e}function QY(t){return t.charAt(0)==="r"?GY(t):FY(t)}class fd{constructor(e){if(e instanceof fd)return e;const s=typeof e;let n;s==="object"?n=hN(e):s==="string"&&(n=MY(e)||WY(e)||QY(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=zD(this._rgb);return e&&(e.a=Wi(e.a)),e}set rgb(e){this._rgb=hN(e)}rgbString(){return this._valid?KY(this._rgb):void 0}hexString(){return this._valid?PY(this._rgb):void 0}hslString(){return this._valid?VY(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,i=e.rgb;let a;const r=s===a?.5:s,l=2*r-1,c=n.a-i.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-u,n.r=255&u*n.r+a*i.r+.5,n.g=255&u*n.g+a*i.g+.5,n.b=255&u*n.b+a*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=XY(this._rgb,e._rgb,s)),this}clone(){return new fd(this.rgb)}alpha(e){return this._rgb.a=Qa(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Xd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zh(this._rgb,2,e),this}darken(e){return Zh(this._rgb,2,-e),this}saturate(e){return Zh(this._rgb,1,e),this}desaturate(e){return Zh(this._rgb,1,-e),this}rotate(e){return UY(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bi(){}const JY=(()=>{let t=0;return()=>t++})();function ot(t){return t==null}function es(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function nt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function In(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function di(t,e){return In(t)?t:e}function Ze(t,e){return typeof t>"u"?e:t}const ZY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Tt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function ft(t,e,s,n){let i,a,r;if(es(t))for(a=t.length,i=0;i<a;i++)e.call(s,t[i],i);else if(nt(t))for(r=Object.keys(t),a=r.length,i=0;i<a;i++)e.call(s,t[r[i]],r[i])}function Hm(t,e){let s,n,i,a;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(i=t[s],a=e[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Fm(t){if(es(t))return t.map(Fm);if(nt(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let i=0;for(;i<n;++i)e[s[i]]=Fm(t[s[i]]);return e}return t}function HD(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function eG(t,e,s,n){if(!HD(t))return;const i=e[t],a=s[t];nt(i)&&nt(a)?md(i,a,n):e[t]=Fm(a)}function md(t,e,s){const n=es(e)?e:[e],i=n.length;if(!nt(t))return t;s=s||{};const a=s.merger||eG;let r;for(let l=0;l<i;++l){if(r=n[l],!nt(r))continue;const c=Object.keys(r);for(let u=0,d=c.length;u<d;++u)a(c[u],t,r,s)}return t}function Pu(t,e){return md(t,e,{merger:tG})}function tG(t,e,s){if(!HD(t))return;const n=e[t],i=s[t];nt(n)&&nt(i)?Pu(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Fm(i))}const fN={"":t=>t,x:t=>t.x,y:t=>t.y};function sG(t){const e=t.split("."),s=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function nG(t){const e=sG(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function oc(t,e){return(fN[e]||(fN[e]=nG(e)))(t)}function Ix(t){return t.charAt(0).toUpperCase()+t.slice(1)}const pd=t=>typeof t<"u",rr=t=>typeof t=="function",mN=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function iG(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const os=Math.PI,Ei=2*os,aG=Ei+os,Um=Number.POSITIVE_INFINITY,rG=os/180,Xn=os/2,Cr=os/4,pN=os*2/3,FD=Math.log10,Ni=Math.sign;function Lu(t,e,s){return Math.abs(t-e)<s}function gN(t){const e=Math.round(t);t=Lu(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(FD(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function oG(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((i,a)=>i-a).pop(),e}function lG(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function gd(t){return!lG(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function cG(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function uG(t,e,s){let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n][s],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Vr(t){return t*(os/180)}function dG(t){return t*(180/os)}function yN(t){if(!In(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function hG(t,e){const s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*os&&(a+=Ei),{angle:a,distance:i}}function Fv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fG(t,e){return(t-e+aG)%Ei-os}function Ea(t){return(t%Ei+Ei)%Ei}function UD(t,e,s,n){const i=Ea(t),a=Ea(e),r=Ea(s),l=Ea(a-i),c=Ea(r-i),u=Ea(i-a),d=Ea(i-r);return i===a||i===r||n&&a===r||l>c&&u<d}function an(t,e,s){return Math.max(e,Math.min(s,t))}function mG(t){return an(t,-32768,32767)}function qr(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Bx(t,e,s){s=s||(r=>t[r]<e);let n=t.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const Wr=(t,e,s,n)=>Bx(t,s,n?i=>{const a=t[i][e];return a<s||a===s&&t[i+1][e]===s}:i=>t[i][e]<s),pG=(t,e,s)=>Bx(t,s,n=>t[n][e]>=s);function gG(t,e,s){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>s;)i--;return n>0||i<t.length?t.slice(n,i):t}const VD=["push","pop","shift","splice","unshift"];function yG(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),VD.forEach(s=>{const n="_onData"+Ix(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...a){const r=i.apply(this,a);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...a)}),r}})})}function bN(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(VD.forEach(a=>{delete t[a]}),delete t._chartjs)}function qD(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const WD=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function YD(t,e){let s=[],n=!1;return function(...i){s=i,n||(n=!0,WD.call(window,()=>{n=!1,t.apply(e,s)}))}}function bG(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const zx=t=>t==="start"?"left":t==="end"?"right":"center",gs=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,vG=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function _G(t,e,s){const n=e.length;let i=0,a=n;if(t._sorted){const{iScale:r,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=r.axis,{min:h,max:f,minDefined:m,maxDefined:v}=r.getUserBounds();if(m){if(i=Math.min(Wr(c,d,h).lo,s?n:Wr(e,d,r.getPixelForValue(h)).lo),u){const _=c.slice(0,i+1).reverse().findIndex(x=>!ot(x[l.axis]));i-=Math.max(0,_)}i=an(i,0,n-1)}if(v){let _=Math.max(Wr(c,r.axis,f,!0).hi+1,s?0:Wr(e,d,r.getPixelForValue(f),!0).hi+1);if(u){const x=c.slice(_-1).findIndex(y=>!ot(y[l.axis]));_+=Math.max(0,x)}a=an(_,i,n)-i}else a=n-i}return{start:i,count:a}}function xG(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),a}const ef=t=>t===0||t===1,vN=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ei/s)),_N=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ei/s)+1,$u={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xn)+1,easeOutSine:t=>Math.sin(t*Xn),easeInOutSine:t=>-.5*(Math.cos(os*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ef(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ef(t)?t:vN(t,.075,.3),easeOutElastic:t=>ef(t)?t:_N(t,.075,.3),easeInOutElastic(t){return ef(t)?t:t<.5?.5*vN(t*2,.1125,.45):.5+.5*_N(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$u.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$u.easeInBounce(t*2)*.5:$u.easeOutBounce(t*2-1)*.5+.5};function Hx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function xN(t){return Hx(t)?t:new fd(t)}function Wy(t){return Hx(t)?t:new fd(t).saturate(.5).darken(.1).hexString()}const wG=["x","y","borderWidth","radius","tension"],SG=["color","borderColor","backgroundColor"];function jG(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:SG},numbers:{type:"number",properties:wG}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function EG(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wN=new Map;function NG(t,e){e=e||{};const s=t+JSON.stringify(e);let n=wN.get(s);return n||(n=new Intl.NumberFormat(t,e),wN.set(s,n)),n}function GD(t,e,s){return NG(e,s).format(t)}const TG={values(t){return es(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let i,a=t;if(s.length>1){const u=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=CG(t,s)}const r=FD(Math.abs(a)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),GD(t,n,c)}};function CG(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var KD={formatters:TG};function kG(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:KD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yo=Object.create(null),Uv=Object.create(null);function Iu(t,e){if(!e)return t;const s=e.split(".");for(let n=0,i=s.length;n<i;++n){const a=s[n];t=t[a]||(t[a]=Object.create(null))}return t}function Yy(t,e,s){return typeof e=="string"?md(Iu(t,e),s):md(Iu(t,""),e)}class AG{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Wy(i.backgroundColor),this.hoverBorderColor=(n,i)=>Wy(i.borderColor),this.hoverColor=(n,i)=>Wy(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Yy(this,e,s)}get(e){return Iu(this,e)}describe(e,s){return Yy(Uv,e,s)}override(e,s){return Yy(yo,e,s)}route(e,s,n,i){const a=Iu(this,e),r=Iu(this,n),l="_"+s;Object.defineProperties(a,{[l]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],u=r[i];return nt(c)?Object.assign({},u,c):Ze(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(s=>s(this))}}var Ut=new AG({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jG,EG,kG]);function OG(t){return!t||ot(t.size)||ot(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function SN(t,e,s,n,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,s.push(i)),a>n&&(n=a),n}function kr(t,e,s){const n=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function jN(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Vv(t,e,s,n){XD(t,e,s,n,null)}function XD(t,e,s,n,i){let a,r,l,c,u,d,h,f;const m=e.pointStyle,v=e.rotation,_=e.radius;let x=(v||0)*rG;if(m&&typeof m=="object"&&(a=m.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(x),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),m){default:i?t.ellipse(s,n,i/2,_,0,0,Ei):t.arc(s,n,_,0,Ei),t.closePath();break;case"triangle":d=i?i/2:_,t.moveTo(s+Math.sin(x)*d,n-Math.cos(x)*_),x+=pN,t.lineTo(s+Math.sin(x)*d,n-Math.cos(x)*_),x+=pN,t.lineTo(s+Math.sin(x)*d,n-Math.cos(x)*_),t.closePath();break;case"rectRounded":u=_*.516,c=_-u,r=Math.cos(x+Cr)*c,h=Math.cos(x+Cr)*(i?i/2-u:c),l=Math.sin(x+Cr)*c,f=Math.sin(x+Cr)*(i?i/2-u:c),t.arc(s-h,n-l,u,x-os,x-Xn),t.arc(s+f,n-r,u,x-Xn,x),t.arc(s+h,n+l,u,x,x+Xn),t.arc(s-f,n+r,u,x+Xn,x+os),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*_,d=i?i/2:c,t.rect(s-d,n-c,2*d,2*c);break}x+=Cr;case"rectRot":h=Math.cos(x)*(i?i/2:_),r=Math.cos(x)*_,l=Math.sin(x)*_,f=Math.sin(x)*(i?i/2:_),t.moveTo(s-h,n-l),t.lineTo(s+f,n-r),t.lineTo(s+h,n+l),t.lineTo(s-f,n+r),t.closePath();break;case"crossRot":x+=Cr;case"cross":h=Math.cos(x)*(i?i/2:_),r=Math.cos(x)*_,l=Math.sin(x)*_,f=Math.sin(x)*(i?i/2:_),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-r),t.lineTo(s-f,n+r);break;case"star":h=Math.cos(x)*(i?i/2:_),r=Math.cos(x)*_,l=Math.sin(x)*_,f=Math.sin(x)*(i?i/2:_),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-r),t.lineTo(s-f,n+r),x+=Cr,h=Math.cos(x)*(i?i/2:_),r=Math.cos(x)*_,l=Math.sin(x)*_,f=Math.sin(x)*(i?i/2:_),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-r),t.lineTo(s-f,n+r);break;case"line":r=i?i/2:Math.cos(x)*_,l=Math.sin(x)*_,t.moveTo(s-r,n-l),t.lineTo(s+r,n+l);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(x)*(i?i/2:_),n+Math.sin(x)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function yd(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Fx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ux(t){t.restore()}function DG(t,e,s,n,i){if(!e)return t.lineTo(s.x,s.y);if(i==="middle"){const a=(e.x+s.x)/2;t.lineTo(a,e.y),t.lineTo(a,s.y)}else i==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function MG(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function RG(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ot(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function PG(t,e,s,n,i){if(i.strikethrough||i.underline){const a=t.measureText(n),r=e-a.actualBoundingBoxLeft,l=e+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,u=s+a.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(r,d),t.lineTo(l,d),t.stroke()}}function LG(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function bd(t,e,s,n,i,a={}){const r=es(e)?e:[e],l=a.strokeWidth>0&&a.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,RG(t,a),c=0;c<r.length;++c)u=r[c],a.backdrop&&LG(t,a.backdrop),l&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),ot(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(u,s,n,a.maxWidth)),t.fillText(u,s,n,a.maxWidth),PG(t,s,n,u,a),n+=Number(i.lineHeight);t.restore()}function Vm(t,e){const{x:s,y:n,w:i,h:a,radius:r}=e;t.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*os,os,!0),t.lineTo(s,n+a-r.bottomLeft),t.arc(s+r.bottomLeft,n+a-r.bottomLeft,r.bottomLeft,os,Xn,!0),t.lineTo(s+i-r.bottomRight,n+a),t.arc(s+i-r.bottomRight,n+a-r.bottomRight,r.bottomRight,Xn,0,!0),t.lineTo(s+i,n+r.topRight),t.arc(s+i-r.topRight,n+r.topRight,r.topRight,0,-Xn,!0),t.lineTo(s+r.topLeft,n)}const $G=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function BG(t,e){const s=(""+t).match($G);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const zG=t=>+t||0;function QD(t,e){const s={},n=nt(e),i=n?Object.keys(e):e,a=nt(t)?n?r=>Ze(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of i)s[r]=zG(a(r));return s}function JD(t){return QD(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Il(t){return QD(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Bn(t){const e=JD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _s(t,e){t=t||{},e=e||Ut.font;let s=Ze(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Ze(t.style,e.style);n&&!(""+n).match(IG)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Ze(t.family,e.family),lineHeight:BG(Ze(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Ze(t.weight,e.weight),string:""};return i.string=OG(i),i}function tf(t,e,s,n){let i,a,r;for(i=0,a=t.length;i<a;++i)if(r=t[i],r!==void 0&&r!==void 0)return r}function HG(t,e,s){const{min:n,max:i}=t,a=ZY(e,(i-n)/2),r=(l,c)=>s&&l===0?0:l+c;return{min:r(n,-Math.abs(a)),max:r(i,a)}}function Eo(t,e){return Object.assign(Object.create(t),e)}function Vx(t,e=[""],s,n,i=()=>t[0]){const a=s||t;typeof n>"u"&&(n=sM("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:i,override:l=>Vx([l,...t],e,a,n)};return new Proxy(r,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return eM(l,c,()=>KG(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return NN(l).includes(c)},ownKeys(l){return NN(l)},set(l,c,u){const d=l._storage||(l._storage=i());return l[c]=d[c]=u,delete l._keys,!0}})}function lc(t,e,s,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:ZD(t,n),setContext:a=>lc(t,a,s,n),override:a=>lc(t.override(a),e,s,n)};return new Proxy(i,{deleteProperty(a,r){return delete a[r],delete t[r],!0},get(a,r,l){return eM(a,r,()=>UG(a,r,l))},getOwnPropertyDescriptor(a,r){return a._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(a,r,l){return t[r]=l,delete a[r],!0}})}function ZD(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:rr(s)?s:()=>s,isIndexable:rr(n)?n:()=>n}}const FG=(t,e)=>t?t+Ix(e):e,qx=(t,e)=>nt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function eM(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function UG(t,e,s){const{_proxy:n,_context:i,_subProxy:a,_descriptors:r}=t;let l=n[e];return rr(l)&&r.isScriptable(e)&&(l=VG(e,l,t,s)),es(l)&&l.length&&(l=qG(e,l,t,r.isIndexable)),qx(e,l)&&(l=lc(l,i,a&&a[e],r)),l}function VG(t,e,s,n){const{_proxy:i,_context:a,_subProxy:r,_stack:l}=s;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(a,r||n);return l.delete(t),qx(t,c)&&(c=Wx(i._scopes,i,t,c)),c}function qG(t,e,s,n){const{_proxy:i,_context:a,_subProxy:r,_descriptors:l}=s;if(typeof a.index<"u"&&n(t))return e[a.index%e.length];if(nt(e[0])){const c=e,u=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=Wx(u,i,t,d);e.push(lc(h,a,r&&r[t],l))}}return e}function tM(t,e,s){return rr(t)?t(e,s):t}const WG=(t,e)=>t===!0?e:typeof t=="string"?oc(e,t):void 0;function YG(t,e,s,n,i){for(const a of e){const r=WG(s,a);if(r){t.add(r);const l=tM(r._fallback,s,i);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(r===!1&&typeof n<"u"&&s!==n)return null}return!1}function Wx(t,e,s,n){const i=e._rootScopes,a=tM(e._fallback,s,n),r=[...t,...i],l=new Set;l.add(n);let c=EN(l,r,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=EN(l,r,a,c,n),c===null)?!1:Vx(Array.from(l),[""],i,a,()=>GG(e,s,n))}function EN(t,e,s,n,i){for(;s;)s=YG(t,e,s,n,i);return s}function GG(t,e,s){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return es(i)&&nt(s)?s:i||{}}function KG(t,e,s,n){let i;for(const a of e)if(i=sM(FG(a,t),s),typeof i<"u")return qx(t,i)?Wx(s,n,t,i):i}function sM(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function NN(t){let e=t._keys;return e||(e=t._keys=XG(t._scopes)),e}function XG(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const QG=Number.EPSILON||1e-14,cc=(t,e)=>e<t.length&&!t[e].skip&&t[e],nM=t=>t==="x"?"y":"x";function JG(t,e,s,n){const i=t.skip?e:t,a=e,r=s.skip?e:s,l=Fv(a,i),c=Fv(r,a);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=n*u,f=n*d;return{previous:{x:a.x-h*(r.x-i.x),y:a.y-h*(r.y-i.y)},next:{x:a.x+f*(r.x-i.x),y:a.y+f*(r.y-i.y)}}}function ZG(t,e,s){const n=t.length;let i,a,r,l,c,u=cc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=cc(t,d+1),!(!c||!u)){if(Lu(e[d],0,QG)){s[d]=s[d+1]=0;continue}i=s[d]/e[d],a=s[d+1]/e[d],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(r=3/Math.sqrt(l),s[d]=i*r*e[d],s[d+1]=a*r*e[d])}}function eK(t,e,s="x"){const n=nM(s),i=t.length;let a,r,l,c=cc(t,0);for(let u=0;u<i;++u){if(r=l,l=c,c=cc(t,u+1),!l)continue;const d=l[s],h=l[n];r&&(a=(d-r[s])/3,l[`cp1${s}`]=d-a,l[`cp1${n}`]=h-a*e[u]),c&&(a=(c[s]-d)/3,l[`cp2${s}`]=d+a,l[`cp2${n}`]=h+a*e[u])}}function tK(t,e="x"){const s=nM(e),n=t.length,i=Array(n).fill(0),a=Array(n);let r,l,c,u=cc(t,0);for(r=0;r<n;++r)if(l=c,c=u,u=cc(t,r+1),!!c){if(u){const d=u[e]-c[e];i[r]=d!==0?(u[s]-c[s])/d:0}a[r]=l?u?Ni(i[r-1])!==Ni(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}ZG(t,i,a),eK(t,a,e)}function sf(t,e,s){return Math.max(Math.min(t,s),e)}function sK(t,e){let s,n,i,a,r,l=yd(t[0],e);for(s=0,n=t.length;s<n;++s)r=a,a=l,l=s<n-1&&yd(t[s+1],e),a&&(i=t[s],r&&(i.cp1x=sf(i.cp1x,e.left,e.right),i.cp1y=sf(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=sf(i.cp2x,e.left,e.right),i.cp2y=sf(i.cp2y,e.top,e.bottom)))}function nK(t,e,s,n,i){let a,r,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")tK(t,i);else{let u=n?t[t.length-1]:t[0];for(a=0,r=t.length;a<r;++a)l=t[a],c=JG(u,l,t[Math.min(a+1,r-(n?0:1))%r],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&sK(t,s)}function Yx(){return typeof window<"u"&&typeof document<"u"}function Gx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function qm(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Hp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function iK(t,e){return Hp(t).getPropertyValue(e)}const aK=["top","right","bottom","left"];function io(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=aK[i];n[a]=parseFloat(t[e+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const rK=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function oK(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:i,offsetY:a}=n;let r=!1,l,c;if(rK(i,a,t.target))l=i,c=a;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,r=!0}return{x:l,y:c,box:r}}function Lr(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,i=Hp(s),a=i.boxSizing==="border-box",r=io(i,"padding"),l=io(i,"border","width"),{x:c,y:u,box:d}=oK(t,s),h=r.left+(d&&l.left),f=r.top+(d&&l.top);let{width:m,height:v}=e;return a&&(m-=r.width+l.width,v-=r.height+l.height),{x:Math.round((c-h)/m*s.width/n),y:Math.round((u-f)/v*s.height/n)}}function lK(t,e,s){let n,i;if(e===void 0||s===void 0){const a=t&&Gx(t);if(!a)e=t.clientWidth,s=t.clientHeight;else{const r=a.getBoundingClientRect(),l=Hp(a),c=io(l,"border","width"),u=io(l,"padding");e=r.width-u.width-c.width,s=r.height-u.height-c.height,n=qm(l.maxWidth,a,"clientWidth"),i=qm(l.maxHeight,a,"clientHeight")}}return{width:e,height:s,maxWidth:n||Um,maxHeight:i||Um}}const nf=t=>Math.round(t*10)/10;function cK(t,e,s,n){const i=Hp(t),a=io(i,"margin"),r=qm(i.maxWidth,t,"clientWidth")||Um,l=qm(i.maxHeight,t,"clientHeight")||Um,c=lK(t,e,s);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=io(i,"border","width"),m=io(i,"padding");u-=m.width+f.width,d-=m.height+f.height}return u=Math.max(0,u-a.width),d=Math.max(0,n?u/n:d-a.height),u=nf(Math.min(u,r,c.maxWidth)),d=nf(Math.min(d,l,c.maxHeight)),u&&!d&&(d=nf(u/2)),(e!==void 0||s!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=nf(Math.floor(d*n))),{width:u,height:d}}function TN(t,e,s){const n=e||1,i=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||r.height!==i||r.width!==a?(t.currentDevicePixelRatio=n,r.height=i,r.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const uK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Yx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function CN(t,e){const s=iK(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function $r(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function dK(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function hK(t,e,s,n){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},r=$r(t,i,s),l=$r(i,a,s),c=$r(a,e,s),u=$r(r,l,s),d=$r(l,c,s);return $r(u,d,s)}const fK=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},mK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Bl(t,e,s){return t?fK(e,s):mK()}function iM(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function aM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function rM(t){return t==="angle"?{between:UD,compare:fG,normalize:Ea}:{between:qr,compare:(e,s)=>e-s,normalize:e=>e}}function kN({start:t,end:e,count:s,loop:n,style:i}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:i}}function pK(t,e,s){const{property:n,start:i,end:a}=s,{between:r,normalize:l}=rM(n),c=e.length;let{start:u,end:d,loop:h}=t,f,m;if(h){for(u+=c,d+=c,f=0,m=c;f<m&&r(l(e[u%c][n]),i,a);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:t.style}}function gK(t,e,s){if(!s)return[t];const{property:n,start:i,end:a}=s,r=e.length,{compare:l,between:c,normalize:u}=rM(n),{start:d,end:h,loop:f,style:m}=pK(t,e,s),v=[];let _=!1,x=null,y,g,b;const w=()=>c(i,b,y)&&l(i,b)!==0,E=()=>l(a,y)===0||c(a,b,y),C=()=>_||w(),T=()=>!_||E();for(let N=d,A=d;N<=h;++N)g=e[N%r],!g.skip&&(y=u(g[n]),y!==b&&(_=c(y,i,a),x===null&&C()&&(x=l(y,i)===0?N:A),x!==null&&T()&&(v.push(kN({start:x,end:N,loop:f,count:r,style:m})),x=null),A=N,b=y));return x!==null&&v.push(kN({start:x,end:h,loop:f,count:r,style:m})),v}function yK(t,e){const s=[],n=t.segments;for(let i=0;i<n.length;i++){const a=gK(n[i],t.points,e);a.length&&s.push(...a)}return s}function bK(t,e,s,n){let i=0,a=e-1;if(s&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,s&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function vK(t,e,s,n){const i=t.length,a=[];let r=e,l=t[e],c;for(c=e+1;c<=s;++c){const u=t[c%i];u.skip||u.stop?l.skip||(n=!1,a.push({start:e%i,end:(c-1)%i,loop:n}),e=r=u.stop?c:null):(r=c,l.skip&&(e=c)),l=u}return r!==null&&a.push({start:e%i,end:r%i,loop:n}),a}function _K(t,e){const s=t.points,n=t.options.spanGaps,i=s.length;if(!i)return[];const a=!!t._loop,{start:r,end:l}=bK(s,i,a,n);if(n===!0)return AN(t,[{start:r,end:l,loop:a}],s,e);const c=l<r?l+i:l,u=!!t._fullLoop&&r===0&&l===i-1;return AN(t,vK(s,r,c,u),s,e)}function AN(t,e,s,n){return!n||!n.setContext||!s?e:xK(t,e,s,n)}function xK(t,e,s,n){const i=t._chart.getContext(),a=ON(t.options),{_datasetIndex:r,options:{spanGaps:l}}=t,c=s.length,u=[];let d=a,h=e[0].start,f=h;function m(v,_,x,y){const g=l?-1:1;if(v!==_){for(v+=c;s[v%c].skip;)v-=g;for(;s[_%c].skip;)_+=g;v%c!==_%c&&(u.push({start:v%c,end:_%c,loop:x,style:y}),d=y,h=_%c)}}for(const v of e){h=l?h:v.start;let _=s[h%c],x;for(f=h+1;f<=v.end;f++){const y=s[f%c];x=ON(n.setContext(Eo(i,{type:"segment",p0:_,p1:y,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:r}))),wK(x,d)&&m(h,f-1,v.loop,d),_=y,d=x}h<f-1&&m(h,f-1,v.loop,d)}return u}function ON(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function wK(t,e){if(!e)return!1;const s=[],n=function(i,a){return Hx(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function af(t,e,s){return t.options.clip?t[s]:e[s]}function SK(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:af(s,e,"left"),right:af(s,e,"right"),top:af(n,e,"top"),bottom:af(n,e,"bottom")}:e}function jK(t,e){const s=e._clip;if(s.disabled)return!1;const n=SK(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class EK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,i){const a=s.listeners[i],r=s.duration;a.forEach(l=>l({chart:e,initial:s.initial,numSteps:r,currentStep:Math.min(n-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=WD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let r=a.length-1,l=!1,c;for(;r>=0;--r)c=a[r],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(a[r]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),s+=a.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ui=new EK;const DN="transparent",NK={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=xN(t||DN),i=n.valid&&xN(e||DN);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class TK{constructor(e,s,n,i){const a=s[n];i=tf([e.to,i,a,e.from]);const r=tf([e.from,a,i]);this._active=!0,this._fn=e.fn||NK[e.type||typeof r],this._easing=$u[e.easing]||$u.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,r=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=tf([e.to,s,i,e.from]),this._from=tf([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,i=this._prop,a=this._from,r=this._loop,l=this._to;let c;if(this._active=a!==l&&(r||s<n),!this._active){this._target[i]=l,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/n%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class oM{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!nt(e))return;const s=Object.keys(Ut.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!nt(a))return;const r={};for(const l of s)r[l]=a[l];(es(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,r)})})}_animateOptions(e,s){const n=s.options,i=kK(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&CK(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,s){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),r=Object.keys(s),l=Date.now();let c;for(c=r.length-1;c>=0;--c){const u=r[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,s));continue}const d=s[u];let h=a[u];const f=n.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}a[u]=h=new TK(f,e,u,d),i.push(h)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Ui.add(this._chart,n),!0}}function CK(t,e){const s=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=t[n[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function kK(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function MN(t,e){const s=t&&t.options||{},n=s.reverse,i=s.min===void 0?e:0,a=s.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function AK(t,e,s){if(s===!1)return!1;const n=MN(t,s),i=MN(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function OK(t){let e,s,n,i;return nt(t)?(e=t.top,s=t.right,n=t.bottom,i=t.left):e=s=n=i=t,{top:e,right:s,bottom:n,left:i,disabled:t===!1}}function lM(t,e){const s=[],n=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)s.push(n[i].index);return s}function RN(t,e,s,n={}){const i=t.keys,a=n.mode==="single";let r,l,c,u;if(e===null)return;let d=!1;for(r=0,l=i.length;r<l;++r){if(c=+i[r],c===s){if(d=!0,n.all)continue;break}u=t.values[c],In(u)&&(a||e===0||Ni(e)===Ni(u))&&(e+=u)}return!d&&!n.all?0:e}function DK(t,e){const{iScale:s,vScale:n}=e,i=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",r=Object.keys(t),l=new Array(r.length);let c,u,d;for(c=0,u=r.length;c<u;++c)d=r[c],l[c]={[i]:d,[a]:t[d]};return l}function Gy(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function MK(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function RK(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function PK(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function PN(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=t[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function LN(t,e){const{chart:s,_cachedMeta:n}=t,i=s._stacks||(s._stacks={}),{iScale:a,vScale:r,index:l}=n,c=a.axis,u=r.axis,d=MK(a,r,n),h=e.length;let f;for(let m=0;m<h;++m){const v=e[m],{[c]:_,[u]:x}=v,y=v._stacks||(v._stacks={});f=y[u]=PK(i,d,_),f[l]=x,f._top=PN(f,r,!0,n.type),f._bottom=PN(f,r,!1,n.type);const g=f._visualValues||(f._visualValues={});g[l]=x}}function Ky(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function LK(t,e){return Eo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $K(t,e,s){return Eo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Jc(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const Xy=t=>t==="reset"||t==="none",$N=(t,e)=>e?t:Object.assign({},t),IK=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:lM(s,!0),values:null};class zl{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,m,v)=>h==="x"?f:h==="r"?v:m,a=s.xAxisID=Ze(n.xAxisID,Ky(e,"x")),r=s.yAxisID=Ze(n.yAxisID,Ky(e,"y")),l=s.rAxisID=Ze(n.rAxisID,Ky(e,"r")),c=s.indexAxis,u=s.iAxisID=i(c,a,r,l),d=s.vAxisID=i(c,r,a,l);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(u),s.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&bN(this._data,this),e._stacked&&Jc(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(nt(s)){const i=this._cachedMeta;this._data=DK(s,i)}else if(n!==s){if(n){bN(n,this);const i=this._cachedMeta;Jc(i),i._parsed=[]}s&&Object.isExtensible(s)&&yG(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=Gy(s.vScale,s),s.stack!==n.stack&&(i=!0,Jc(s),s.stack=n.stack),this._resyncElements(e),(i||a!==s._stacked)&&(LN(this,s._parsed),s._stacked=Gy(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:r}=n,l=a.axis;let c=e===0&&s===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{es(i[e])?f=this.parseArrayData(n,i,e,s):nt(i[e])?f=this.parseObjectData(n,i,e,s):f=this.parsePrimitiveData(n,i,e,s);const m=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<s;++d)n._parsed[d+e]=h=f[d],c&&(m()&&(c=!1),u=h);n._sorted=c}r&&LN(this,f)}parsePrimitiveData(e,s,n,i){const{iScale:a,vScale:r}=e,l=a.axis,c=r.axis,u=a.getLabels(),d=a===r,h=new Array(i);let f,m,v;for(f=0,m=i;f<m;++f)v=f+n,h[f]={[l]:d||a.parse(u[v],v),[c]:r.parse(s[v],v)};return h}parseArrayData(e,s,n,i){const{xScale:a,yScale:r}=e,l=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+n,h=s[d],l[c]={x:a.parse(h[0],d),y:r.parse(h[1],d)};return l}parseObjectData(e,s,n,i){const{xScale:a,yScale:r}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,h,f,m;for(d=0,h=i;d<h;++d)f=d+n,m=s[f],u[d]={x:a.parse(oc(m,l),f),y:r.parse(oc(m,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const i=this.chart,a=this._cachedMeta,r=s[e.axis],l={keys:lM(i,!0),values:s._stacks[e.axis]._visualValues};return RN(l,r,a.index,{mode:n})}updateRangeFromParsed(e,s,n,i){const a=n[s.axis];let r=a===null?NaN:a;const l=i&&n._stacks[s.axis];i&&l&&(i.values=l,r=RN(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,s){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,r=i.length,l=this._getOtherScale(e),c=IK(s,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=RK(l);let f,m;function v(){m=i[f];const _=m[l.axis];return!In(m[e.axis])||d>_||h<_}for(f=0;f<r&&!(!v()&&(this.updateRangeFromParsed(u,e,m,c),a));++f);if(a){for(f=r-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(u,e,m,c);break}}return u}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let i,a,r;for(i=0,a=s.length;i<a;++i)r=s[i][e.axis],In(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,i=s.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=OK(Ze(this.options.clip,AK(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],a=s.chartArea,r=[],l=this._drawStart||0,c=this._drawCount||i.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,a,l,c),d=l;d<l+c;++d){const h=i[d];h.hidden||(h.active&&u?r.push(h):h.draw(e,a))}for(d=0;d<r.length;++d)r[d].draw(e,a)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];a=r.$context||(r.$context=$K(this.getContext(),e,r)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=LK(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const i=s==="active",a=this._cachedDataOpts,r=e+"-"+s,l=a[r],c=this.enableOptionSharing&&pd(n);if(l)return $N(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),m=Object.keys(Ut.elements[e]),v=()=>this.getContext(n,i,s),_=u.resolveNamedOptions(f,m,v,h);return _.$shared&&(_.$shared=c,a[r]=Object.freeze($N(_,c))),_}_resolveAnimations(e,s,n){const i=this.chart,a=this._cachedDataOpts,r=`animation-${s}`,l=a[r];if(l)return l;let c;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,s),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,n,s))}const u=new oM(i,c&&c.animations);return c&&c._cacheable&&(a[r]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||Xy(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),i=this._sharedOptions,a=this.getSharedOptions(n),r=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:r}}updateElement(e,s,n,i){Xy(i)?Object.assign(e,n):this._resolveAnimations(s,i).update(e,n)}updateSharedOptions(e,s,n){e&&!Xy(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,i){e.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const i=n.length,a=s.length,r=Math.min(a,i);r&&this.parse(0,r),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,s,n=!0){const i=this._cachedMeta,a=i.data,r=e+s;let l;const c=u=>{for(u.length+=s,l=u.length-1;l>=r;l--)u[l]=u[l-s]};for(c(a),l=e;l<r;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,s),n&&this.updateElements(a,e,s,"reset")}updateElements(e,s,n,i){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,s);n._stacked&&Jc(n,i)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,i]=e;this[s](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Be(zl,"defaults",{}),Be(zl,"datasetElementType",null),Be(zl,"dataElementType",null);function BK(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,a=s.length;i<a;i++)n=n.concat(s[i].controller.getAllParsedValues(t));t._cache.$bar=qD(n.sort((i,a)=>i-a))}return t._cache.$bar}function zK(t){const e=t.iScale,s=BK(e,t.type);let n=e._length,i,a,r,l;const c=()=>{r===32767||r===-32768||(pd(l)&&(n=Math.min(n,Math.abs(r-l)||n)),l=r)};for(i=0,a=s.length;i<a;++i)r=e.getPixelForValue(s[i]),c();for(l=void 0,i=0,a=e.ticks.length;i<a;++i)r=e.getPixelForTick(i),c();return n}function HK(t,e,s,n){const i=s.barThickness;let a,r;return ot(i)?(a=e.min*s.categoryPercentage,r=s.barPercentage):(a=i*n,r=1),{chunk:a/n,ratio:r,start:e.pixels[t]-a/2}}function FK(t,e,s,n){const i=e.pixels,a=i[t];let r=t>0?i[t-1]:null,l=t<i.length-1?i[t+1]:null;const c=s.categoryPercentage;r===null&&(r=a-(l===null?e.end-e.start:l-a)),l===null&&(l=a+a-r);const u=a-(a-Math.min(r,l))/2*c;return{chunk:Math.abs(l-r)/2*c/n,ratio:s.barPercentage,start:u}}function UK(t,e,s,n){const i=s.parse(t[0],n),a=s.parse(t[1],n),r=Math.min(i,a),l=Math.max(i,a);let c=r,u=l;Math.abs(r)>Math.abs(l)&&(c=l,u=r),e[s.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:a,min:r,max:l}}function cM(t,e,s,n){return es(t)?UK(t,e,s,n):e[s.axis]=s.parse(t,n),e}function IN(t,e,s,n){const i=t.iScale,a=t.vScale,r=i.getLabels(),l=i===a,c=[];let u,d,h,f;for(u=s,d=s+n;u<d;++u)f=e[u],h={},h[i.axis]=l||i.parse(r[u],u),c.push(cM(f,h,a,u));return c}function Qy(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function VK(t,e,s){return t!==0?Ni(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function qK(t){let e,s,n,i,a;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:s,end:n,reverse:e,top:i,bottom:a}}function WK(t,e,s,n){let i=e.borderSkipped;const a={};if(!i){t.borderSkipped=a;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:l,reverse:c,top:u,bottom:d}=qK(t);i==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?i=u:(s._bottom||0)===n?i=d:(a[BN(d,r,l,c)]=!0,i=u)),a[BN(i,r,l,c)]=!0,t.borderSkipped=a}function BN(t,e,s,n){return n?(t=YK(t,e,s),t=zN(t,s,e)):t=zN(t,e,s),t}function YK(t,e,s){return t===e?s:t===s?e:t}function zN(t,e,s){return t==="start"?e:t==="end"?s:t}function GK(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class Lf extends zl{parsePrimitiveData(e,s,n,i){return IN(e,s,n,i)}parseArrayData(e,s,n,i){return IN(e,s,n,i)}parseObjectData(e,s,n,i){const{iScale:a,vScale:r}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=a.axis==="x"?l:c,d=r.axis==="x"?l:c,h=[];let f,m,v,_;for(f=n,m=n+i;f<m;++f)_=s[f],v={},v[a.axis]=a.parse(oc(_,u),f),h.push(cM(oc(_,d),v,r,f));return h}updateRangeFromParsed(e,s,n,i){super.updateRangeFromParsed(e,s,n,i);const a=n._custom;a&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:i}=s,a=this.getParsed(e),r=a._custom,l=Qy(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,i){const a=i==="reset",{index:r,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let m=s;m<s+n;m++){const v=this.getParsed(m),_=a||ot(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,d),y=(v._stacks||{})[l.axis],g={horizontal:u,base:_.base,enableBorderRadius:!y||Qy(v._custom)||r===y._top||r===y._bottom,x:u?_.head:x.center,y:u?x.center:_.head,height:u?x.size:Math.abs(_.size),width:u?Math.abs(_.size):x.size};f&&(g.options=h||this.resolveDataElementOptions(m,e[m].active?"active":i));const b=g.options||e[m].options;WK(g,b,y,r),GK(g,b,d.ratio),this.updateElement(e[m],m,g,i)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),a=n.options.stacked,r=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[n.axis],u=d=>{const h=d._parsed.find(m=>m[n.axis]===c),f=h&&h[d.vScale.axis];if(ot(f)||isNaN(f))return!0};for(const d of i)if(!(s!==void 0&&u(d))&&((a===!1||r.indexOf(d.stack)===-1||a===void 0&&d.stack===void 0)&&r.push(d.stack),d.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,n){const i=this._getStacks(e,n),a=s!==void 0?i.indexOf(s):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,i=[];let a,r;for(a=0,r=s.data.length;a<r;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const l=e.barThickness;return{min:l||zK(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:a,minBarLength:r}}=this,l=a||0,c=this.getParsed(e),u=c._custom,d=Qy(u);let h=c[s.axis],f=0,m=n?this.applyStack(s,c,n):h,v,_;m!==h&&(f=m-h,m=h),d&&(h=u.barStart,m=u.barEnd-u.barStart,h!==0&&Ni(h)!==Ni(u.barEnd)&&(f=0),f+=h);const x=!ot(a)&&!d?a:f;let y=s.getPixelForValue(x);if(this.chart.getDataVisibility(e)?v=s.getPixelForValue(f+m):v=y,_=v-y,Math.abs(_)<r){_=VK(_,s,l)*r,h===l&&(y-=_/2);const g=s.getPixelForDecimal(0),b=s.getPixelForDecimal(1),w=Math.min(g,b),E=Math.max(g,b);y=Math.max(Math.min(y,E),w),v=y+_,n&&!d&&(c._stacks[s.axis]._visualValues[i]=s.getValueForPixel(v)-s.getValueForPixel(y))}if(y===s.getPixelForValue(l)){const g=Ni(_)*s.getLineWidthForValue(l)/2;y+=g,_-=g}return{size:_,base:y,head:v,center:v+_/2}}_calculateBarIndexPixels(e,s){const n=s.scale,i=this.options,a=i.skipNull,r=Ze(i.maxBarThickness,1/0);let l,c;if(s.grouped){const u=a?this._getStackCount(e):s.stackCount,d=i.barThickness==="flex"?FK(e,s,i,u):HK(e,s,i,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);l=d.start+d.chunk*h+d.chunk/2,c=Math.min(r,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(r,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[s.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}Be(Lf,"id","bar"),Be(Lf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Be(Lf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $f extends zl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=s,r=this.chart._animationsDisabled;let{start:l,count:c}=_G(s,i,r);this._drawStart=l,this._drawCount=c,xG(s)&&(l=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:u},e),this.updateElements(i,l,c,e)}updateElements(e,s,n,i){const a=i==="reset",{iScale:r,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,i),f=r.axis,m=l.axis,{spanGaps:v,segment:_}=this.options,x=gd(v)?v:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||a||i==="none",g=s+n,b=e.length;let w=s>0&&this.getParsed(s-1);for(let E=0;E<b;++E){const C=e[E],T=y?C:{};if(E<s||E>=g){T.skip=!0;continue}const N=this.getParsed(E),A=ot(N[m]),L=T[f]=r.getPixelForValue(N[f],E),D=T[m]=a||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[m],E);T.skip=isNaN(L)||isNaN(D)||A,T.stop=E>0&&Math.abs(N[f]-w[f])>x,_&&(T.parsed=N,T.raw=u.data[E]),h&&(T.options=d||this.resolveDataElementOptions(E,C.active?"active":i)),y||this.updateElement(C,E,T,i),w=N}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Be($f,"id","line"),Be($f,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Be($f,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ar(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kx{constructor(e){Be(this,"options");this.options=e||{}}static override(e){Object.assign(Kx.prototype,e)}init(){}formats(){return Ar()}parse(){return Ar()}format(){return Ar()}add(){return Ar()}diff(){return Ar()}startOf(){return Ar()}endOf(){return Ar()}}var KK={_date:Kx};function XK(t,e,s,n){const{controller:i,data:a,_sorted:r}=t,l=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&r&&a.length){const u=l._reversePixels?pG:Wr;if(n){if(i._sharedOptions){const d=a[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(a,e,s-h),m=u(a,e,s+h);return{lo:f.lo,hi:m.hi}}}}else{const d=u(a,e,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,d.lo+1).reverse().findIndex(_=>!ot(_[h.axis]));d.lo-=Math.max(0,m);const v=f.slice(d.hi).findIndex(_=>!ot(_[h.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:a.length-1}}function Fp(t,e,s,n,i){const a=t.getSortedVisibleDatasetMetas(),r=s[e];for(let l=0,c=a.length;l<c;++l){const{index:u,data:d}=a[l],{lo:h,hi:f}=XK(a[l],e,r,i);for(let m=h;m<=f;++m){const v=d[m];v.skip||n(v,u,m)}}}function QK(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,r=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function Jy(t,e,s,n,i){const a=[];return!i&&!t.isPointInArea(e)||Fp(t,s,e,function(l,c,u){!i&&!yd(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&a.push({element:l,datasetIndex:c,index:u})},!0),a}function JK(t,e,s,n){let i=[];function a(r,l,c){const{startAngle:u,endAngle:d}=r.getProps(["startAngle","endAngle"],n),{angle:h}=hG(r,{x:e.x,y:e.y});UD(h,u,d)&&i.push({element:r,datasetIndex:l,index:c})}return Fp(t,s,e,a),i}function ZK(t,e,s,n,i,a){let r=[];const l=QK(s);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const m=d.inRange(e.x,e.y,i);if(n&&!m)return;const v=d.getCenterPoint(i);if(!(!!a||t.isPointInArea(v))&&!m)return;const x=l(e,v);x<c?(r=[{element:d,datasetIndex:h,index:f}],c=x):x===c&&r.push({element:d,datasetIndex:h,index:f})}return Fp(t,s,e,u),r}function Zy(t,e,s,n,i,a){return!a&&!t.isPointInArea(e)?[]:s==="r"&&!n?JK(t,e,s,i):ZK(t,e,s,n,i,a)}function HN(t,e,s,n,i){const a=[],r=s==="x"?"inXRange":"inYRange";let l=!1;return Fp(t,s,e,(c,u,d)=>{c[r]&&c[r](e[s],i)&&(a.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,i))}),n&&!l?[]:a}var eX={modes:{index(t,e,s,n){const i=Lr(e,t),a=s.axis||"x",r=s.includeInvisible||!1,l=s.intersect?Jy(t,i,a,n,r):Zy(t,i,a,!1,n,r),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,s,n){const i=Lr(e,t),a=s.axis||"xy",r=s.includeInvisible||!1;let l=s.intersect?Jy(t,i,a,n,r):Zy(t,i,a,!1,n,r);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,s,n){const i=Lr(e,t),a=s.axis||"xy",r=s.includeInvisible||!1;return Jy(t,i,a,n,r)},nearest(t,e,s,n){const i=Lr(e,t),a=s.axis||"xy",r=s.includeInvisible||!1;return Zy(t,i,a,s.intersect,n,r)},x(t,e,s,n){const i=Lr(e,t);return HN(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=Lr(e,t);return HN(t,i,"y",s.intersect,n)}}};const uM=["left","top","right","bottom"];function Zc(t,e){return t.filter(s=>s.pos===e)}function FN(t,e){return t.filter(s=>uM.indexOf(s.pos)===-1&&s.box.axis===e)}function eu(t,e){return t.sort((s,n)=>{const i=e?n:s,a=e?s:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function tX(t){const e=[];let s,n,i,a,r,l;for(s=0,n=(t||[]).length;s<n;++s)i=t[s],{position:a,options:{stack:r,stackWeight:l=1}}=i,e.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&a+r,stackWeight:l});return e}function sX(t){const e={};for(const s of t){const{stack:n,pos:i,stackWeight:a}=s;if(!n||!uM.includes(i))continue;const r=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return e}function nX(t,e){const s=sX(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,r,l;for(a=0,r=t.length;a<r;++a){l=t[a];const{fullSize:c}=l.box,u=s[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=i):(l.width=n,l.height=d?d*i:c&&e.availableHeight)}return s}function iX(t){const e=tX(t),s=eu(e.filter(u=>u.box.fullSize),!0),n=eu(Zc(e,"left"),!0),i=eu(Zc(e,"right")),a=eu(Zc(e,"top"),!0),r=eu(Zc(e,"bottom")),l=FN(e,"x"),c=FN(e,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(r).concat(l),chartArea:Zc(e,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(r).concat(l)}}function UN(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function dM(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function aX(t,e,s,n){const{pos:i,box:a}=s,r=t.maxPadding;if(!nt(i)){s.size&&(t[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,t[i]+=s.size}a.getPadding&&dM(r,a.getPadding());const l=Math.max(0,e.outerWidth-UN(r,t,"left","right")),c=Math.max(0,e.outerHeight-UN(r,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,s.horizontal?{same:u,other:d}:{same:d,other:u}}function rX(t){const e=t.maxPadding;function s(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function oX(t,e){const s=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{a[r]=Math.max(e[r],s[r])}),a}return n(t?["left","right"]:["top","bottom"])}function du(t,e,s,n){const i=[];let a,r,l,c,u,d;for(a=0,r=t.length,u=0;a<r;++a){l=t[a],c=l.box,c.update(l.width||e.w,l.height||e.h,oX(l.horizontal,e));const{same:h,other:f}=aX(e,s,l,n);u|=h&&i.length,d=d||f,c.fullSize||i.push(l)}return u&&du(i,e,s,n)||d}function rf(t,e,s,n,i){t.top=s,t.left=e,t.right=e+n,t.bottom=s+i,t.width=n,t.height=i}function VN(t,e,s,n){const i=s.padding;let{x:a,y:r}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*d,f=u.size||c.height;pd(u.start)&&(r=u.start),c.fullSize?rf(c,i.left,r,s.outerWidth-i.right-i.left,f):rf(c,e.left+u.placed,r,h,f),u.start=r,u.placed+=h,r=c.bottom}else{const h=e.h*d,f=u.size||c.width;pd(u.start)&&(a=u.start),c.fullSize?rf(c,a,i.top,f,s.outerHeight-i.bottom-i.top):rf(c,a,e.top+u.placed,f,h),u.start=a,u.placed+=h,a=c.right}}e.x=a,e.y=r}var An={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const i=Bn(t.options.layout.padding),a=Math.max(e-i.width,0),r=Math.max(s-i.height,0),l=iX(t.boxes),c=l.vertical,u=l.horizontal;ft(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const d=c.reduce((_,x)=>x.box.options&&x.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},i);dM(f,Bn(n));const m=Object.assign({maxPadding:f,w:a,h:r,x:i.left,y:i.top},i),v=nX(c.concat(u),h);du(l.fullSize,m,h,v),du(c,m,h,v),du(u,m,h,v)&&du(c,m,h,v),rX(m),VN(l.leftAndTop,m,h,v),m.x+=m.w,m.y+=m.h,VN(l.rightAndBottom,m,h,v),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ft(l.chartArea,_=>{const x=_.box;Object.assign(x,t.chartArea),x.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class hM{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,i){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(e){return!0}updateConfig(e){}}class lX extends hM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const If="$chartjs",cX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qN=t=>t===null||t==="";function uX(t,e){const s=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[If]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",qN(i)){const a=CN(t,"width");a!==void 0&&(t.width=a)}if(qN(n))if(t.style.height==="")t.height=t.width/(e||2);else{const a=CN(t,"height");a!==void 0&&(t.height=a)}return t}const fM=uK?{passive:!0}:!1;function dX(t,e,s){t&&t.addEventListener(e,s,fM)}function hX(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,fM)}function fX(t,e){const s=cX[t.type]||t.type,{x:n,y:i}=Lr(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Wm(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function mX(t,e,s){const n=t.canvas,i=new MutationObserver(a=>{let r=!1;for(const l of a)r=r||Wm(l.addedNodes,n),r=r&&!Wm(l.removedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function pX(t,e,s){const n=t.canvas,i=new MutationObserver(a=>{let r=!1;for(const l of a)r=r||Wm(l.removedNodes,n),r=r&&!Wm(l.addedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const vd=new Map;let WN=0;function mM(){const t=window.devicePixelRatio;t!==WN&&(WN=t,vd.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function gX(t,e){vd.size||window.addEventListener("resize",mM),vd.set(t,e)}function yX(t){vd.delete(t),vd.size||window.removeEventListener("resize",mM)}function bX(t,e,s){const n=t.canvas,i=n&&Gx(n);if(!i)return;const a=YD((l,c)=>{const u=i.clientWidth;s(l,c),u<i.clientWidth&&s()},window),r=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||a(u,d)});return r.observe(i),gX(t,a),r}function eb(t,e,s){s&&s.disconnect(),e==="resize"&&yX(t)}function vX(t,e,s){const n=t.canvas,i=YD(a=>{t.ctx!==null&&s(fX(a,t))},t);return dX(n,e,i),i}class _X extends hM{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(uX(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[If])return!1;const n=s[If].initial;["height","width"].forEach(a=>{const r=n[a];ot(r)?s.removeAttribute(a):s.setAttribute(a,r)});const i=n.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[If],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),r={attach:mX,detach:pX,resize:bX}[s]||vX;i[s]=r(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),i=n[s];if(!i)return;({attach:eb,detach:eb,resize:eb}[s]||hX)(e,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,i){return cK(e,s,n,i)}isAttached(e){const s=e&&Gx(e);return!!(s&&s.isConnected)}}function xX(t){return!Yx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?lX:_X}var ff;let hr=(ff=class{constructor(){Be(this,"x");Be(this,"y");Be(this,"active",!1);Be(this,"options");Be(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return gd(this.x)&&gd(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}},Be(ff,"defaults",{}),Be(ff,"defaultRoutes"),ff);function wX(t,e){const s=t.options.ticks,n=SX(t),i=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?EX(e):[],r=a.length,l=a[0],c=a[r-1],u=[];if(r>i)return NX(e,u,a,r/i),u;const d=jX(a,e,i);if(r>0){let h,f;const m=r>1?Math.round((c-l)/(r-1)):null;for(of(e,u,d,ot(m)?0:l-m,l),h=0,f=r-1;h<f;h++)of(e,u,d,a[h],a[h+1]);return of(e,u,d,c,ot(m)?e.length:c+m),u}return of(e,u,d),u}function SX(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(n,i))}function jX(t,e,s){const n=TX(t),i=e.length/s;if(!n)return Math.max(i,1);const a=oG(n);for(let r=0,l=a.length-1;r<l;r++){const c=a[r];if(c>i)return c}return Math.max(i,1)}function EX(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function NX(t,e,s,n){let i=0,a=s[0],r;for(n=Math.ceil(n),r=0;r<t.length;r++)r===a&&(e.push(t[r]),i++,a=s[i*n])}function of(t,e,s,n,i){const a=Ze(n,0),r=Math.min(Ze(i,t.length),t.length);let l=0,c,u,d;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),d=a;d<0;)l++,d=Math.round(a+l*s);for(u=Math.max(a,0);u<r;u++)u===d&&(e.push(t[u]),l++,d=Math.round(a+l*s))}function TX(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const CX=t=>t==="left"?"right":t==="right"?"left":t,YN=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,GN=(t,e)=>Math.min(e||t,t);function KN(t,e){const s=[],n=t.length/e,i=t.length;let a=0;for(;a<i;a+=n)s.push(t[Math.floor(a)]);return s}function kX(t,e,s){const n=t.ticks.length,i=Math.min(e,n-1),a=t._startPixel,r=t._endPixel,l=1e-6;let c=t.getPixelForTick(i),u;if(!(s&&(n===1?u=Math.max(c-a,r-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<a-l||c>r+l)))return c}function AX(t,e){ft(t,s=>{const n=s.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete s.data[n[a]];n.splice(0,i)}})}function tu(t){return t.drawTicks?t.tickLength:0}function XN(t,e){if(!t.display)return 0;const s=_s(t.font,e),n=Bn(t.padding);return(es(t.text)?t.text.length:1)*s.lineHeight+n.height}function OX(t,e){return Eo(t,{scale:e,type:"scale"})}function DX(t,e,s){return Eo(t,{tick:s,index:e,type:"tick"})}function MX(t,e,s){let n=zx(t);return(s&&e!=="right"||!s&&e==="right")&&(n=CX(n)),n}function RX(t,e,s,n){const{top:i,left:a,bottom:r,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,m,v;const _=r-i,x=l-a;if(t.isHorizontal()){if(m=gs(n,a,l),nt(s)){const y=Object.keys(s)[0],g=s[y];v=d[y].getPixelForValue(g)+_-e}else s==="center"?v=(u.bottom+u.top)/2+_-e:v=YN(t,s,e);f=l-a}else{if(nt(s)){const y=Object.keys(s)[0],g=s[y];m=d[y].getPixelForValue(g)-x+e}else s==="center"?m=(u.left+u.right)/2-x+e:m=YN(t,s,e);v=gs(n,r,i),h=s==="left"?-Xn:Xn}return{titleX:m,titleY:v,maxWidth:f,rotation:h}}class Ec extends hr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return e=di(e,Number.POSITIVE_INFINITY),s=di(s,Number.NEGATIVE_INFINITY),n=di(n,Number.POSITIVE_INFINITY),i=di(i,Number.NEGATIVE_INFINITY),{min:di(e,n),max:di(s,i),minDefined:In(e),maxDefined:In(s)}}getMinMax(e){let{min:s,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),r;if(i&&a)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)r=l[c].controller.getMinMax(this,e),i||(s=Math.min(s,r.min)),a||(n=Math.max(n,r.max));return s=a&&s>n?n:s,n=i&&s>n?s:n,{min:di(s,di(n,s)),max:di(n,di(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:i,grace:a,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=HG(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?KN(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=wX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tt(this.options.afterUpdate,[this])}beforeSetDimensions(){Tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=Tt(s.callback,[a.value,n,e],this)}afterTickToLabelConversion(){Tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=GN(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let r=i,l,c,u;if(!this._isVisible()||!s.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=an(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:m/(n-1),h+6>l&&(l=m/(n-(e.offset?.5:1)),c=this.maxHeight-tu(e.grid)-s.padding-XN(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),r=dG(Math.min(Math.asin(an((d.highest.height+6)/l,-1,1)),Math.asin(an(c/u,-1,1))-Math.asin(an(f/u,-1,1)))),r=Math.max(i,Math.min(a,r))),this.labelRotation=r}afterCalculateLabelRotation(){Tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:a}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const c=XN(i,s.options.font);if(l?(e.width=this.maxWidth,e.height=tu(a)+c):(e.height=this.maxHeight,e.width=tu(a)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),m=n.padding*2,v=Vr(this.labelRotation),_=Math.cos(v),x=Math.sin(v);if(l){const y=n.mirror?0:x*h.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=n.mirror?0:_*h.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(u,d,x,_)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,i){const{ticks:{align:a,padding:r},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?u?(f=i*e.width,m=n*s.height):(f=n*e.height,m=i*s.width):a==="start"?m=s.width:a==="end"?f=e.width:a!=="inner"&&(f=e.width/2,m=s.width/2),this.paddingLeft=Math.max((f-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+r)*this.width/(this.width-h),0)}else{let d=s.height/2,h=e.height/2;a==="start"?(d=0,h=e.height):a==="end"&&(d=s.height,h=0),this.paddingTop=d+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)ot(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=KN(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:i,_longestTextCache:a}=this,r=[],l=[],c=Math.floor(s/GN(s,n));let u=0,d=0,h,f,m,v,_,x,y,g,b,w,E;for(h=0;h<s;h+=c){if(v=e[h].label,_=this._resolveTickFontOptions(h),i.font=x=_.string,y=a[x]=a[x]||{data:{},gc:[]},g=_.lineHeight,b=w=0,!ot(v)&&!es(v))b=SN(i,y.data,y.gc,b,v),w=g;else if(es(v))for(f=0,m=v.length;f<m;++f)E=v[f],!ot(E)&&!es(E)&&(b=SN(i,y.data,y.gc,b,E),w+=g);r.push(b),l.push(w),u=Math.max(b,u),d=Math.max(w,d)}AX(a,s);const C=r.indexOf(u),T=l.indexOf(d),N=A=>({width:r[A]||0,height:l[A]||0});return{first:N(0),last:N(s-1),widest:N(C),highest:N(T),widths:r,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return mG(this._alignToPixels?kr(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=DX(this.getContext(),e,n))}return this.$context||(this.$context=OX(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Vr(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,l=a?a.widest.width+r:0,c=a?a.highest.height+r:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,i=this.options,{grid:a,position:r,border:l}=i,c=a.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=tu(a),m=[],v=l.setContext(this.getContext()),_=v.display?v.width:0,x=_/2,y=function(M){return kr(n,M,_)};let g,b,w,E,C,T,N,A,L,D,I,q;if(r==="top")g=y(this.bottom),T=this.bottom-f,A=g-x,D=y(e.top)+x,q=e.bottom;else if(r==="bottom")g=y(this.top),D=e.top,q=y(e.bottom)-x,T=g+x,A=this.top+f;else if(r==="left")g=y(this.right),C=this.right-f,N=g-x,L=y(e.left)+x,I=e.right;else if(r==="right")g=y(this.left),L=e.left,I=y(e.right)-x,C=g+x,N=this.left+f;else if(s==="x"){if(r==="center")g=y((e.top+e.bottom)/2+.5);else if(nt(r)){const M=Object.keys(r)[0],H=r[M];g=y(this.chart.scales[M].getPixelForValue(H))}D=e.top,q=e.bottom,T=g+x,A=T+f}else if(s==="y"){if(r==="center")g=y((e.left+e.right)/2);else if(nt(r)){const M=Object.keys(r)[0],H=r[M];g=y(this.chart.scales[M].getPixelForValue(H))}C=g-x,N=C-f,L=e.left,I=e.right}const B=Ze(i.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/B));for(b=0;b<h;b+=z){const M=this.getContext(b),H=a.setContext(M),R=l.setContext(M),V=H.lineWidth,P=H.color,se=R.dash||[],de=R.dashOffset,fe=H.tickWidth,ae=H.tickColor,F=H.tickBorderDash||[],ne=H.tickBorderDashOffset;w=kX(this,b,c),w!==void 0&&(E=kr(n,w,V),u?C=N=L=I=E:T=A=D=q=E,m.push({tx1:C,ty1:T,tx2:N,ty2:A,x1:L,y1:D,x2:I,y2:q,width:V,color:P,borderDash:se,borderDashOffset:de,tickWidth:fe,tickColor:ae,tickBorderDash:F,tickBorderDashOffset:ne}))}return this._ticksLength=h,this._borderValue=g,m}_computeLabelItems(e){const s=this.axis,n=this.options,{position:i,ticks:a}=n,r=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=a,f=tu(n.grid),m=f+d,v=h?-d:m,_=-Vr(this.labelRotation),x=[];let y,g,b,w,E,C,T,N,A,L,D,I,q="middle";if(i==="top")C=this.bottom-v,T=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+v,T=this._getXAxisLabelAlignment();else if(i==="left"){const z=this._getYAxisLabelAlignment(f);T=z.textAlign,E=z.x}else if(i==="right"){const z=this._getYAxisLabelAlignment(f);T=z.textAlign,E=z.x}else if(s==="x"){if(i==="center")C=(e.top+e.bottom)/2+m;else if(nt(i)){const z=Object.keys(i)[0],M=i[z];C=this.chart.scales[z].getPixelForValue(M)+m}T=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")E=(e.left+e.right)/2-m;else if(nt(i)){const z=Object.keys(i)[0],M=i[z];E=this.chart.scales[z].getPixelForValue(M)}T=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?q="top":c==="end"&&(q="bottom"));const B=this._getLabelSizes();for(y=0,g=l.length;y<g;++y){b=l[y],w=b.label;const z=a.setContext(this.getContext(y));N=this.getPixelForTick(y)+a.labelOffset,A=this._resolveTickFontOptions(y),L=A.lineHeight,D=es(w)?w.length:1;const M=D/2,H=z.color,R=z.textStrokeColor,V=z.textStrokeWidth;let P=T;r?(E=N,T==="inner"&&(y===g-1?P=this.options.reverse?"left":"right":y===0?P=this.options.reverse?"right":"left":P="center"),i==="top"?u==="near"||_!==0?I=-D*L+L/2:u==="center"?I=-B.highest.height/2-M*L+L:I=-B.highest.height+L/2:u==="near"||_!==0?I=L/2:u==="center"?I=B.highest.height/2-M*L:I=B.highest.height-D*L,h&&(I*=-1),_!==0&&!z.showLabelBackdrop&&(E+=L/2*Math.sin(_))):(C=N,I=(1-D)*L/2);let se;if(z.showLabelBackdrop){const de=Bn(z.backdropPadding),fe=B.heights[y],ae=B.widths[y];let F=I-de.top,ne=0-de.left;switch(q){case"middle":F-=fe/2;break;case"bottom":F-=fe;break}switch(T){case"center":ne-=ae/2;break;case"right":ne-=ae;break;case"inner":y===g-1?ne-=ae:y>0&&(ne-=ae/2);break}se={left:ne,top:F,width:ae+de.width,height:fe+de.height,color:z.backdropColor}}x.push({label:w,font:A,textOffset:I,options:{rotation:_,color:H,strokeColor:R,strokeWidth:V,textAlign:P,textBaseline:q,translation:[E,C],backdrop:se}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Vr(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,r=this._getLabelSizes(),l=e+a,c=r.widest.width;let u,d;return s==="left"?i?(d=this.right+a,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):s==="right"?i?(d=this.left+a,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:i,width:a,height:r}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,i,a,r),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,r;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(s.display)for(a=0,r=i.length;a<r;++a){const c=i[a];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),r=n.display?a.width:0;if(!r)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=kr(e,this.left,r)-r/2,d=kr(e,this.right,l)+l/2,h=f=c):(h=kr(e,this.top,r)-r/2,f=kr(e,this.bottom,l)+l/2,u=d=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(u,h),s.lineTo(d,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Fx(n,i);const a=this.getLabelItems(e);for(const r of a){const l=r.options,c=r.font,u=r.label,d=r.textOffset;bd(n,u,0,d,c,l)}i&&Ux(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const a=_s(n.font),r=Bn(n.padding),l=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||nt(s)?(c+=r.bottom,es(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=r.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=RX(this,c,s,l);bd(e,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:f,textAlign:MX(l,s,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Ze(e.grid&&e.grid.z,-1),i=Ze(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ec.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,r;for(a=0,r=s.length;a<r;++a){const l=s[a];l[n]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return _s(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class lf{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;$X(s)&&(n=this.register(s));const i=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,PX(e,r,n),this.override&&Ut.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,i=this.scope;n in s&&delete s[n],i&&n in Ut[i]&&(delete Ut[i][n],this.override&&delete yo[n])}}function PX(t,e,s){const n=md(Object.create(null),[s?Ut.get(s):{},Ut.get(e),t.defaults]);Ut.set(e,n),t.defaultRoutes&&LX(e,t.defaultRoutes),t.descriptors&&Ut.describe(e,t.descriptors)}function LX(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),i=n.pop(),a=[t].concat(n).join("."),r=e[s].split("."),l=r.pop(),c=r.join(".");Ut.route(a,i,c,l)})}function $X(t){return"id"in t&&"defaults"in t}class IX{constructor(){this.controllers=new lf(zl,"datasets",!0),this.elements=new lf(hr,"elements"),this.plugins=new lf(Object,"plugins"),this.scales=new lf(Ec,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):ft(i,r=>{const l=n||this._getRegistryForType(r);this._exec(e,l,r)})})}_exec(e,s,n){const i=Ix(e);Tt(n["before"+i],[],n),s[e](n),Tt(n["after"+i],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var fi=new IX;class BX{constructor(){this._init=[]}notify(e,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),r=this._notify(a,e,s,n);return s==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,s,n,i){i=i||{};for(const a of e){const r=a.plugin,l=r[n],c=[s,i,a.options];if(Tt(l,c,r)===!1&&i.cancelable)return!1}return!0}invalidate(){ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,i=Ze(n.options&&n.options.plugins,{}),a=zX(n);return i===!1&&!s?[]:FX(e,a,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,i=(a,r)=>a.filter(l=>!r.some(c=>l.plugin.id===c.plugin.id));this._notify(i(s,n),e,"stop"),this._notify(i(n,s),e,"start")}}function zX(t){const e={},s=[],n=Object.keys(fi.plugins.items);for(let a=0;a<n.length;a++)s.push(fi.getPlugin(n[a]));const i=t.plugins||[];for(let a=0;a<i.length;a++){const r=i[a];s.indexOf(r)===-1&&(s.push(r),e[r.id]=!0)}return{plugins:s,localIds:e}}function HX(t,e){return!e&&t===!1?null:t===!0?{}:t}function FX(t,{plugins:e,localIds:s},n,i){const a=[],r=t.getContext();for(const l of e){const c=l.id,u=HX(n[c],i);u!==null&&a.push({plugin:l,options:UX(t.config,{plugin:l,local:s[c]},u,r)})}return a}function UX(t,{plugin:e,local:s},n,i){const a=t.pluginScopeKeys(e),r=t.getOptionScopes(n,a);return s&&e.defaults&&r.push(e.defaults),t.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qv(t,e){const s=Ut.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function VX(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function qX(t,e){return t===e?"_index_":"_value_"}function QN(t){if(t==="x"||t==="y"||t==="r")return t}function WX(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wv(t,...e){if(QN(t))return t;for(const s of e){const n=s.axis||WX(s.position)||t.length>1&&QN(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function JN(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function YX(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return JN(t,"x",s[0])||JN(t,"y",s[0])}return{}}function GX(t,e){const s=yo[t.type]||{scales:{}},n=e.scales||{},i=qv(t.type,e),a=Object.create(null);return Object.keys(n).forEach(r=>{const l=n[r];if(!nt(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=Wv(r,l,YX(r,t),Ut.scales[l.type]),u=qX(c,i),d=s.scales||{};a[r]=Pu(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(r=>{const l=r.type||t.type,c=r.indexAxis||qv(l,e),d=(yo[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=VX(h,c),m=r[f+"AxisID"]||f;a[m]=a[m]||Object.create(null),Pu(a[m],[{axis:f},n[m],d[h]])})}),Object.keys(a).forEach(r=>{const l=a[r];Pu(l,[Ut.scales[l.type],Ut.scale])}),a}function pM(t){const e=t.options||(t.options={});e.plugins=Ze(e.plugins,{}),e.scales=GX(t,e)}function gM(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function KX(t){return t=t||{},t.data=gM(t.data),pM(t),t}const ZN=new Map,yM=new Set;function cf(t,e){let s=ZN.get(t);return s||(s=e(),ZN.set(t,s),yM.add(s)),s}const su=(t,e,s)=>{const n=oc(e,s);n!==void 0&&t.add(n)};class XX{constructor(e){this._config=KX(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return cf(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return cf(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return cf(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let i=n.get(e);return(!i||s)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,s,n){const{options:i,type:a}=this,r=this._cachedScopes(e,n),l=r.get(s);if(l)return l;const c=new Set;s.forEach(d=>{e&&(c.add(e),d.forEach(h=>su(c,e,h))),d.forEach(h=>su(c,i,h)),d.forEach(h=>su(c,yo[a]||{},h)),d.forEach(h=>su(c,Ut,h)),d.forEach(h=>su(c,Uv,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),yM.has(s)&&r.set(s,u),u}chartOptionScopes(){const{options:e,type:s}=this;return[e,yo[s]||{},Ut.datasets[s]||{},{type:s},Ut,Uv]}resolveNamedOptions(e,s,n,i=[""]){const a={$shared:!0},{resolver:r,subPrefixes:l}=eT(this._resolverCache,e,i);let c=r;if(JX(r,s)){a.$shared=!1,n=rr(n)?n():n;const u=this.createResolver(e,n,l);c=lc(r,n,u)}for(const u of s)a[u]=c[u];return a}createResolver(e,s,n=[""],i){const{resolver:a}=eT(this._resolverCache,e,n);return nt(s)?lc(a,s,void 0,i):a}}function eT(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=s.join();let a=n.get(i);return a||(a={resolver:Vx(e,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,a)),a}const QX=t=>nt(t)&&Object.getOwnPropertyNames(t).some(e=>rr(t[e]));function JX(t,e){const{isScriptable:s,isIndexable:n}=ZD(t);for(const i of e){const a=s(i),r=n(i),l=(r||a)&&t[i];if(a&&(rr(l)||QX(l))||r&&es(l))return!0}return!1}var ZX="4.4.9";const eQ=["top","bottom","left","right","chartArea"];function tT(t,e){return t==="top"||t==="bottom"||eQ.indexOf(t)===-1&&e==="x"}function sT(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function nT(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Tt(s&&s.onComplete,[t],e)}function tQ(t){const e=t.chart,s=e.options.animation;Tt(s&&s.onProgress,[t],e)}function bM(t){return Yx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Bf={},iT=t=>{const e=bM(t);return Object.values(Bf).filter(s=>s.canvas===e).pop()};function sQ(t,e,s){const n=Object.keys(t);for(const i of n){const a=+i;if(a>=e){const r=t[i];delete t[i],(s>0||a>e)&&(t[a+s]=r)}}}function nQ(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var Sa;let Qd=(Sa=class{static register(...e){fi.add(...e),aT()}static unregister(...e){fi.remove(...e),aT()}constructor(e,s){const n=this.config=new XX(s),i=bM(e),a=iT(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||xX(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,r.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=JY(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bG(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],Bf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ui.listen(this,"complete",nT),Ui.listen(this,"progress",tQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:i,_aspectRatio:a}=this;return ot(e)?s&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():TN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jN(this.canvas,this.ctx),this}stop(){return Ui.stop(this),this}resize(e,s){Ui.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,e,s,a),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,TN(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),Tt(n.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ft(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,i=Object.keys(n).reduce((r,l)=>(r[l]=!1,r),{});let a=[];s&&(a=a.concat(Object.keys(s).map(r=>{const l=s[r],c=Wv(r,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ft(a,r=>{const l=r.options,c=l.id,u=Wv(c,l),d=Ze(l.type,r.dtype);(l.position===void 0||tT(l.position,u)!==tT(r.dposition))&&(l.position=r.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===d)h=n[c];else{const f=fi.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),ft(i,(r,l)=>{r||delete n[l]}),ft(n,r=>{An.configure(this,r,r.options),An.addBox(this,r)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(sT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,i)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const a=s[n];let r=this.getDatasetMeta(n);const l=a.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=l,r.indexAxis=a.indexAxis||qv(l,this.options),r.order=a.order||0,r.index=n,r.label=""+a.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const c=fi.getController(l),{datasetElementType:u,dataElementType:d}=Ut.datasets[l];Object.assign(c,{dataElementType:fi.getElement(d),datasetElementType:u&&fi.getElement(u)}),r.controller=new c(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){ft(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(f),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||ft(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(sT("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ft(this.scales,e=>{An.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!mN(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of s){const r=n==="_removeElements"?-a:a;sQ(e,i,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(e.filter(r=>r[0]===a).map((r,l)=>l+","+r.splice(1).join(","))),i=n(0);for(let a=1;a<s;a++)if(!mN(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;An.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ft(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,rr(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ui.has(this)?this.attached&&!Ui.running(this)&&Ui.start(this):(this.draw(),nT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let i,a;for(i=0,a=s.length;i<a;++i){const r=s[i];(!e||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=jK(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Fx(s,i),e.controller.draw(),i&&Ux(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return yd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,i){const a=eX.modes[s];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,i);pd(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),r.update(a,{visible:n}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Ui.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jN(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Bf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(a,r)=>{s.addEventListener(this,a,r),e[a]=r},i=(a,r,l)=>{a.offsetX=r,a.offsetY=l,this._eventHandler(a)};ft(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(c,u)=>{s.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(s.removeEventListener(this,c,u),delete e[c])},a=(c,u)=>{this.canvas&&this.resize(c,u)};let r;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",a),n("detach",r)};r=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():r()}unbindEvents(){ft(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},ft(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const i=n?"set":"remove";let a,r,l,c;for(s==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){r=e[l];const u=r&&this.getDatasetMeta(r.datasetIndex).controller;u&&u[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:a,index:r})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[r],index:r}});!Hm(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const i=this.options.hover,a=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),r=a(s,e),l=n?e:a(e,s);r.length&&this.updateHoverStyle(r,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:i=[],options:a}=this,r=s,l=this._getActiveElements(e,i,n,r),c=iG(e),u=nQ(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Tt(a.onHover,[e,l,this],this),c&&Tt(a.onClick,[e,l,this],this));const d=!Hm(l,i);return(d||s)&&(this._active=l,this._updateHoverStyles(l,i,s)),this._lastEvent=u,d}_getActiveElements(e,s,n,i){if(e.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},Be(Sa,"defaults",Ut),Be(Sa,"instances",Bf),Be(Sa,"overrides",yo),Be(Sa,"registry",fi),Be(Sa,"version",ZX),Be(Sa,"getChart",iT),Sa);function aT(){return ft(Qd.instances,t=>t._plugins.invalidate())}function vM(t,e,s=e){t.lineCap=Ze(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Ze(s.borderDash,e.borderDash)),t.lineDashOffset=Ze(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Ze(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ze(s.borderWidth,e.borderWidth),t.strokeStyle=Ze(s.borderColor,e.borderColor)}function iQ(t,e,s){t.lineTo(s.x,s.y)}function aQ(t){return t.stepped?DG:t.tension||t.cubicInterpolationMode==="monotone"?MG:iQ}function _M(t,e,s={}){const n=t.length,{start:i=0,end:a=n-1}=s,{start:r,end:l}=e,c=Math.max(i,r),u=Math.min(a,l),d=i<r&&a<r||i>l&&a>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function rQ(t,e,s,n){const{points:i,options:a}=e,{count:r,start:l,loop:c,ilen:u}=_M(i,s,n),d=aQ(a);let{move:h=!0,reverse:f}=n||{},m,v,_;for(m=0;m<=u;++m)v=i[(l+(f?u-m:m))%r],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):d(t,_,v,f,a.stepped),_=v);return c&&(v=i[(l+(f?u:0))%r],d(t,_,v,f,a.stepped)),!!c}function oQ(t,e,s,n){const i=e.points,{count:a,start:r,ilen:l}=_M(i,s,n),{move:c=!0,reverse:u}=n||{};let d=0,h=0,f,m,v,_,x,y;const g=w=>(r+(u?l-w:w))%a,b=()=>{_!==x&&(t.lineTo(d,x),t.lineTo(d,_),t.lineTo(d,y))};for(c&&(m=i[g(0)],t.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=i[g(f)],m.skip)continue;const w=m.x,E=m.y,C=w|0;C===v?(E<_?_=E:E>x&&(x=E),d=(h*d+w)/++h):(b(),t.lineTo(w,E),v=C,h=0,_=x=E),y=E}b()}function Yv(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?oQ:rQ}function lQ(t){return t.stepped?dK:t.tension||t.cubicInterpolationMode==="monotone"?hK:$r}function cQ(t,e,s,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,s,n)&&i.closePath()),vM(t,e.options),t.stroke(i)}function uQ(t,e,s,n){const{segments:i,options:a}=e,r=Yv(e);for(const l of i)vM(t,a,l.style),t.beginPath(),r(t,e,l,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const dQ=typeof Path2D=="function";function hQ(t,e,s,n){dQ&&!e.options.segment?cQ(t,e,s,n):uQ(t,e,s,n)}class hu extends hr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;nK(this._points,n,e,i,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_K(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,i=e[s],a=this.points,r=yK(this,{property:s,start:i,end:i});if(!r.length)return;const l=[],c=lQ(n);let u,d;for(u=0,d=r.length;u<d;++u){const{start:h,end:f}=r[u],m=a[h],v=a[f];if(m===v){l.push(m);continue}const _=Math.abs((i-m[s])/(v[s]-m[s])),x=c(m,v,_,n.stepped);x[s]=e[s],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,s,n){return Yv(this)(e,this,s,n)}path(e,s,n){const i=this.segments,a=Yv(this);let r=this._loop;s=s||0,n=n||this.points.length-s;for(const l of i)r&=a(e,this,l,{start:s,end:s+n-1});return!!r}draw(e,s,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),hQ(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Be(hu,"id","line"),Be(hu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Be(hu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Be(hu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function rT(t,e,s,n){const i=t.options,{[s]:a}=t.getProps([s],n);return Math.abs(e-a)<i.radius+i.hitRadius}class zf extends hr{constructor(s){super();Be(this,"parsed");Be(this,"skip");Be(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.options,{x:r,y:l}=this.getProps(["x","y"],i);return Math.pow(s-r,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return rT(this,s,"x",n)}inYRange(s,n){return rT(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!yd(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Vv(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}Be(zf,"id","point"),Be(zf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Be(zf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xM(t,e){const{x:s,y:n,base:i,width:a,height:r}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,h;return t.horizontal?(h=r/2,l=Math.min(s,i),c=Math.max(s,i),u=n-h,d=n+h):(h=a/2,l=s-h,c=s+h,u=Math.min(n,i),d=Math.max(n,i)),{left:l,top:u,right:c,bottom:d}}function Fa(t,e,s,n){return t?0:an(e,s,n)}function fQ(t,e,s){const n=t.options.borderWidth,i=t.borderSkipped,a=JD(n);return{t:Fa(i.top,a.top,0,s),r:Fa(i.right,a.right,0,e),b:Fa(i.bottom,a.bottom,0,s),l:Fa(i.left,a.left,0,e)}}function mQ(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,a=Il(i),r=Math.min(e,s),l=t.borderSkipped,c=n||nt(i);return{topLeft:Fa(!c||l.top||l.left,a.topLeft,0,r),topRight:Fa(!c||l.top||l.right,a.topRight,0,r),bottomLeft:Fa(!c||l.bottom||l.left,a.bottomLeft,0,r),bottomRight:Fa(!c||l.bottom||l.right,a.bottomRight,0,r)}}function pQ(t){const e=xM(t),s=e.right-e.left,n=e.bottom-e.top,i=fQ(t,s/2,n/2),a=mQ(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function tb(t,e,s,n){const i=e===null,a=s===null,l=t&&!(i&&a)&&xM(t,n);return l&&(i||qr(e,l.left,l.right))&&(a||qr(s,l.top,l.bottom))}function gQ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function yQ(t,e){t.rect(e.x,e.y,e.w,e.h)}function sb(t,e,s={}){const n=t.x!==s.x?-e:0,i=t.y!==s.y?-e:0,a=(t.x+t.w!==s.x+s.w?e:0)-n,r=(t.y+t.h!==s.y+s.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+a,h:t.h+r,radius:t.radius}}class Hf extends hr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:r}=pQ(this),l=gQ(r.radius)?Vm:yQ;e.save(),(r.w!==a.w||r.h!==a.h)&&(e.beginPath(),l(e,sb(r,s,a)),e.clip(),l(e,sb(a,-s,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,sb(a,s)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,s,n){return tb(this,e,s,n)}inXRange(e,s){return tb(this,e,null,s)}inYRange(e,s){return tb(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(s+i)/2:s,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Be(Hf,"id","bar"),Be(Hf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Be(Hf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const oT=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},bQ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class lT extends hr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Tt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=_s(n.font),a=i.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=oT(n,a);let u,d;s.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(r,a,l,c)+10):(d=this.maxHeight,u=this._fitCols(r,i,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,i){const{ctx:a,maxWidth:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+l;let h=e;a.textAlign="left",a.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((v,_)=>{const x=n+s/2+a.measureText(v.text).width;(_===0||u[u.length-1]+x+2*l>r)&&(h+=d,u[u.length-(_>0?0:1)]=0,m+=d,f++),c[_]={left:0,top:m,row:f,width:x,height:i},u[u.length-1]+=x+l}),h}_fitCols(e,s,n,i){const{ctx:a,maxHeight:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=r-e;let h=l,f=0,m=0,v=0,_=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:g,itemHeight:b}=vQ(n,s,a,x,i);y>0&&m+b+2*l>d&&(h+=f+l,u.push({width:f,height:m}),v+=f+l,_++,f=m=0),c[y]={left:v,top:m,col:_,width:g,height:b},f=Math.max(f,g),m+=b+l}),h+=f,u.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:a}}=this,r=Bl(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=gs(n,this.left+i,this.right-this.lineWidths[l]);for(const u of s)l!==u.row&&(l=u.row,c=gs(n,this.left+i,this.right-this.lineWidths[l])),u.top+=this.top+e+i,u.left=r.leftForLtr(r.x(c),u.width),c+=u.width+i}else{let l=0,c=gs(n,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const u of s)u.col!==l&&(l=u.col,c=gs(n,this.top+e+i,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+i,u.left=r.leftForLtr(r.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Fx(e,this),this._draw(),Ux(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:i}=this,{align:a,labels:r}=e,l=Ut.color,c=Bl(e.rtl,this.left,this.width),u=_s(r.font),{padding:d}=r,h=u.size,f=h/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:_,itemHeight:x}=oT(r,h),y=function(C,T,N){if(isNaN(v)||v<=0||isNaN(_)||_<0)return;i.save();const A=Ze(N.lineWidth,1);if(i.fillStyle=Ze(N.fillStyle,l),i.lineCap=Ze(N.lineCap,"butt"),i.lineDashOffset=Ze(N.lineDashOffset,0),i.lineJoin=Ze(N.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=Ze(N.strokeStyle,l),i.setLineDash(Ze(N.lineDash,[])),r.usePointStyle){const L={radius:_*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:A},D=c.xPlus(C,v/2),I=T+f;XD(i,L,D,I,r.pointStyleWidth&&v)}else{const L=T+Math.max((h-_)/2,0),D=c.leftForLtr(C,v),I=Il(N.borderRadius);i.beginPath(),Object.values(I).some(q=>q!==0)?Vm(i,{x:D,y:L,w:v,h:_,radius:I}):i.rect(D,L,v,_),i.fill(),A!==0&&i.stroke()}i.restore()},g=function(C,T,N){bd(i,N.text,C,T+x/2,u,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?m={x:gs(a,this.left+d,this.right-n[0]),y:this.top+d+w,line:0}:m={x:this.left+d,y:gs(a,this.top+w+d,this.bottom-s[0].height),line:0},iM(this.ctx,e.textDirection);const E=x+d;this.legendItems.forEach((C,T)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const N=i.measureText(C.text).width,A=c.textAlign(C.textAlign||(C.textAlign=r.textAlign)),L=v+f+N;let D=m.x,I=m.y;c.setWidth(this.width),b?T>0&&D+L+d>this.right&&(I=m.y+=E,m.line++,D=m.x=gs(a,this.left+d,this.right-n[m.line])):T>0&&I+E>this.bottom&&(D=m.x=D+s[m.line].width+d,m.line++,I=m.y=gs(a,this.top+w+d,this.bottom-s[m.line].height));const q=c.x(D);if(y(q,I,C),D=vG(A,D+v+f,b?D+L:this.right,e.rtl),g(c.x(D),I,C),b)m.x+=L+d;else if(typeof C.text!="string"){const B=u.lineHeight;m.y+=wM(C,B)+d}else m.y+=E}),aM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=_s(s.font),i=Bn(s.padding);if(!s.display)return;const a=Bl(e.rtl,this.left,this.width),r=this.ctx,l=s.position,c=n.size/2,u=i.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=gs(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((_,x)=>Math.max(_,x.height),0);d=u+gs(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const m=gs(l,h,h+f);r.textAlign=a.textAlign(zx(l)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=n.string,bd(r,s.text,m,d,n)}_computeTitleHeight(){const e=this.options.title,s=_s(e.font),n=Bn(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,i,a;if(qr(e,this.left,this.right)&&qr(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],qr(e,i.left,i.left+i.width)&&qr(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!wQ(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=bQ(i,n);i&&!a&&Tt(s.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&Tt(s.onHover,[e,n,this],this)}else n&&Tt(s.onClick,[e,n,this],this)}}function vQ(t,e,s,n,i){const a=_Q(n,t,e,s),r=xQ(i,n,e.lineHeight);return{itemWidth:a,itemHeight:r}}function _Q(t,e,s,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((a,r)=>a.length>r.length?a:r)),e+s.size/2+n.measureText(i).width}function xQ(t,e,s){let n=t;return typeof e.text!="string"&&(n=wM(e,s)),n}function wM(t,e){const s=t.text?t.text.length:0;return e*s}function wQ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var SM={id:"legend",_element:lT,start(t,e,s){const n=t.legend=new lT({ctx:t.ctx,options:s,chart:t});An.configure(t,n,s),An.addBox(t,n)},stop(t){An.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;An.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:a,useBorderRadius:r,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(s?0:void 0),d=Bn(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:r&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class jM extends hr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const i=es(n.text)?n.text.length:1;this._padding=Bn(n.padding);const a=i*_s(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:i,right:a,options:r}=this,l=r.align;let c=0,u,d,h;return this.isHorizontal()?(d=gs(l,n,a),h=s+e,u=a-n):(r.position==="left"?(d=n+e,h=gs(l,i,s),c=os*-.5):(d=a-e,h=gs(l,s,i),c=os*.5),u=i-s),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=_s(s.font),a=n.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(a);bd(e,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:u,textAlign:zx(s.align),textBaseline:"middle",translation:[r,l]})}}function SQ(t,e){const s=new jM({ctx:t.ctx,options:e,chart:t});An.configure(t,s,e),An.addBox(t,s),t.titleBlock=s}var EM={id:"title",_element:jM,start(t,e,s){SQ(t,s)},stop(t){const e=t.titleBlock;An.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;An.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fu={average(t){if(!t.length)return!1;let e,s,n=new Set,i=0,a=0;for(e=0,s=t.length;e<s;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/a}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,r,l;for(a=0,r=t.length;a<r;++a){const c=t[a].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Fv(e,u);d<i&&(i=d,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function hi(t,e){return e&&(es(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function jQ(t,e){const{element:s,datasetIndex:n,index:i}=e,a=t.getDatasetMeta(n).controller,{label:r,value:l}=a.getLabelAndValue(i);return{chart:t,label:r,parsed:a.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function cT(t,e){const s=t.chart.ctx,{body:n,footer:i,title:a}=t,{boxWidth:r,boxHeight:l}=e,c=_s(e.bodyFont),u=_s(e.titleFont),d=_s(e.footerFont),h=a.length,f=i.length,m=n.length,v=Bn(e.padding);let _=v.height,x=0,y=n.reduce((w,E)=>w+E.before.length+E.lines.length+E.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(_+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const w=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;_+=m*w+(y-m)*c.lineHeight+(y-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let g=0;const b=function(w){x=Math.max(x,s.measureText(w).width+g)};return s.save(),s.font=u.string,ft(t.title,b),s.font=c.string,ft(t.beforeBody.concat(t.afterBody),b),g=e.displayColors?r+2+e.boxPadding:0,ft(n,w=>{ft(w.before,b),ft(w.lines,b),ft(w.after,b)}),g=0,s.font=d.string,ft(t.footer,b),s.restore(),x+=v.width,{width:x,height:_}}function EQ(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function NQ(t,e,s,n){const{x:i,width:a}=n,r=s.caretSize+s.caretPadding;if(t==="left"&&i+a+r>e.width||t==="right"&&i-a-r<0)return!0}function TQ(t,e,s,n){const{x:i,width:a}=s,{width:r,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=i<=(l+c)/2?"left":"right":i<=a/2?u="left":i>=r-a/2&&(u="right"),NQ(u,t,e,s)&&(u="center"),u}function uT(t,e,s){const n=s.yAlign||e.yAlign||EQ(t,s);return{xAlign:s.xAlign||e.xAlign||TQ(t,e,s,n),yAlign:n}}function CQ(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function kQ(t,e,s){let{y:n,height:i}=t;return e==="top"?n+=s:e==="bottom"?n-=i+s:n-=i/2,n}function dT(t,e,s,n){const{caretSize:i,caretPadding:a,cornerRadius:r}=t,{xAlign:l,yAlign:c}=s,u=i+a,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=Il(r);let v=CQ(e,l);const _=kQ(e,c,u);return c==="center"?l==="left"?v+=u:l==="right"&&(v-=u):l==="left"?v-=Math.max(d,f)+i:l==="right"&&(v+=Math.max(h,m)+i),{x:an(v,0,n.width-e.width),y:an(_,0,n.height-e.height)}}function uf(t,e,s){const n=Bn(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function hT(t){return hi([],Vi(t))}function AQ(t,e,s){return Eo(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function fT(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const NM={beforeTitle:Bi,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:Bi,beforeBody:Bi,beforeLabel:Bi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return ot(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Bi,afterBody:Bi,beforeFooter:Bi,footer:Bi,afterFooter:Bi};function Ps(t,e,s,n){const i=t[e].call(s,n);return typeof i>"u"?NM[e].call(s,n):i}class Gv extends hr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,a=new oM(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=AQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,i=Ps(n,"beforeTitle",this,e),a=Ps(n,"title",this,e),r=Ps(n,"afterTitle",this,e);let l=[];return l=hi(l,Vi(i)),l=hi(l,Vi(a)),l=hi(l,Vi(r)),l}getBeforeBody(e,s){return hT(Ps(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,i=[];return ft(e,a=>{const r={before:[],lines:[],after:[]},l=fT(n,a);hi(r.before,Vi(Ps(l,"beforeLabel",this,a))),hi(r.lines,Ps(l,"label",this,a)),hi(r.after,Vi(Ps(l,"afterLabel",this,a))),i.push(r)}),i}getAfterBody(e,s){return hT(Ps(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,i=Ps(n,"beforeFooter",this,e),a=Ps(n,"footer",this,e),r=Ps(n,"afterFooter",this,e);let l=[];return l=hi(l,Vi(i)),l=hi(l,Vi(a)),l=hi(l,Vi(r)),l}_createItems(e){const s=this._active,n=this.chart.data,i=[],a=[],r=[];let l=[],c,u;for(c=0,u=s.length;c<u;++c)l.push(jQ(this.chart,s[c]));return e.filter&&(l=l.filter((d,h,f)=>e.filter(d,h,f,n))),e.itemSort&&(l=l.sort((d,h)=>e.itemSort(d,h,n))),ft(l,d=>{const h=fT(e.callbacks,d);i.push(Ps(h,"labelColor",this,d)),a.push(Ps(h,"labelPointStyle",this,d)),r.push(Ps(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=l,l}update(e,s){const n=this.options.setContext(this.getContext()),i=this._active;let a,r=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=fu[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const c=this._size=cT(this,n),u=Object.assign({},l,c),d=uT(this.chart,n,u),h=dT(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,i){const a=this.getCaretPosition(e,n,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(e,s,n){const{xAlign:i,yAlign:a}=this,{caretSize:r,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Il(l),{x:f,y:m}=e,{width:v,height:_}=s;let x,y,g,b,w,E;return a==="center"?(w=m+_/2,i==="left"?(x=f,y=x-r,b=w+r,E=w-r):(x=f+v,y=x+r,b=w-r,E=w+r),g=x):(i==="left"?y=f+Math.max(c,d)+r:i==="right"?y=f+v-Math.max(u,h)-r:y=this.caretX,a==="top"?(b=m,w=b-r,x=y-r,g=y+r):(b=m+_,w=b+r,x=y+r,g=y-r),E=b),{x1:x,x2:y,x3:g,y1:b,y2:w,y3:E}}drawTitle(e,s,n){const i=this.title,a=i.length;let r,l,c;if(a){const u=Bl(n.rtl,this.x,this.width);for(e.x=uf(this,n.titleAlign,n),s.textAlign=u.textAlign(n.titleAlign),s.textBaseline="middle",r=_s(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=r.string,c=0;c<a;++c)s.fillText(i[c],u.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+l,c+1===a&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,s,n,i,a){const r=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=a,d=_s(a.bodyFont),h=uf(this,"left",a),f=i.x(h),m=c<d.lineHeight?(d.lineHeight-c)/2:0,v=s.y+m;if(a.usePointStyle){const _={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=i.leftForLtr(f,u)+u/2,y=v+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Vv(e,_,x,y),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Vv(e,_,x,y)}else{e.lineWidth=nt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const _=i.leftForLtr(f,u),x=i.leftForLtr(i.xPlus(f,1),u-2),y=Il(r.borderRadius);Object.values(y).some(g=>g!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Vm(e,{x:_,y:v,w:u,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Vm(e,{x,y:v+1,w:u-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(_,v,u,c),e.strokeRect(_,v,u,c),e.fillStyle=r.backgroundColor,e.fillRect(x,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:i}=this,{bodySpacing:a,bodyAlign:r,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,h=_s(n.bodyFont);let f=h.lineHeight,m=0;const v=Bl(n.rtl,this.x,this.width),_=function(N){s.fillText(N,v.x(e.x+m),e.y+f/2),e.y+=f+a},x=v.textAlign(r);let y,g,b,w,E,C,T;for(s.textAlign=r,s.textBaseline="middle",s.font=h.string,e.x=uf(this,x,n),s.fillStyle=n.bodyColor,ft(this.beforeBody,_),m=l&&x!=="right"?r==="center"?u/2+d:u+2+d:0,w=0,C=i.length;w<C;++w){for(y=i[w],g=this.labelTextColors[w],s.fillStyle=g,ft(y.before,_),b=y.lines,l&&b.length&&(this._drawColorBox(s,e,w,v,n),f=Math.max(h.lineHeight,c)),E=0,T=b.length;E<T;++E)_(b[E]),f=h.lineHeight;ft(y.after,_)}m=0,f=h.lineHeight,ft(this.afterBody,_),e.y-=a}drawFooter(e,s,n){const i=this.footer,a=i.length;let r,l;if(a){const c=Bl(n.rtl,this.x,this.width);for(e.x=uf(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",r=_s(n.footerFont),s.fillStyle=n.footerColor,s.font=r.string,l=0;l<a;++l)s.fillText(i[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,s,n,i){const{xAlign:a,yAlign:r}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:v}=Il(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(l+h,c),r==="top"&&this.drawCaret(e,s,n,i),s.lineTo(l+u-f,c),s.quadraticCurveTo(l+u,c,l+u,c+f),r==="center"&&a==="right"&&this.drawCaret(e,s,n,i),s.lineTo(l+u,c+d-v),s.quadraticCurveTo(l+u,c+d,l+u-v,c+d),r==="bottom"&&this.drawCaret(e,s,n,i),s.lineTo(l+m,c+d),s.quadraticCurveTo(l,c+d,l,c+d-m),r==="center"&&a==="left"&&this.drawCaret(e,s,n,i),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const r=fu[e.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=cT(this,e),c=Object.assign({},r,this._size),u=uT(s,e,c),d=dT(e,c,u,s);(i._to!==d.x||a._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Bn(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,s),iM(e,s.textDirection),a.y+=r.top,this.drawTitle(a,e,s),this.drawBody(a,e,s),this.drawFooter(a,e,s),aM(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,i=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),a=!Hm(n,i),r=this._positionChanged(i,s);(a||r)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],r=this._getActiveElements(e,a,s,n),l=this._positionChanged(r,e),c=s||!Hm(r,a)||l;return c&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,n,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&r.reverse(),r}_positionChanged(e,s){const{caretX:n,caretY:i,options:a}=this,r=fu[a.position].call(this,e,s);return r!==!1&&(n!==r.x||i!==r.y)}}Be(Gv,"positioners",fu);var TM={id:"tooltip",_element:Gv,positioners:fu,afterInit(t,e,s){s&&(t.tooltip=new Gv({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const OQ=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function DQ(t,e,s,n){const i=t.indexOf(e);if(i===-1)return OQ(t,e,s,n);const a=t.lastIndexOf(e);return i!==a?s:i}const MQ=(t,e)=>t===null?null:an(Math.round(t),0,e);function mT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ym extends Ec{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:a}of s)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(ot(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:DQ(n,e,Ze(s,e),this._addedLabels),MQ(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=e===0&&s===a.length-1?a:a.slice(e,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=e;r<=s;r++)i.push({value:r});return i}getLabelForValue(e){return mT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Be(Ym,"id","category"),Be(Ym,"defaults",{ticks:{callback:mT}});function RQ(t,e){const s=[],{bounds:i,step:a,min:r,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,m=a||1,v=d-1,{min:_,max:x}=e,y=!ot(r),g=!ot(l),b=!ot(u),w=(x-_)/(h+1);let E=gN((x-_)/v/m)*m,C,T,N,A;if(E<1e-14&&!y&&!g)return[{value:_},{value:x}];A=Math.ceil(x/E)-Math.floor(_/E),A>v&&(E=gN(A*E/v/m)*m),ot(c)||(C=Math.pow(10,c),E=Math.ceil(E*C)/C),i==="ticks"?(T=Math.floor(_/E)*E,N=Math.ceil(x/E)*E):(T=_,N=x),y&&g&&a&&cG((l-r)/a,E/1e3)?(A=Math.round(Math.min((l-r)/E,d)),E=(l-r)/A,T=r,N=l):b?(T=y?r:T,N=g?l:N,A=u-1,E=(N-T)/A):(A=(N-T)/E,Lu(A,Math.round(A),E/1e3)?A=Math.round(A):A=Math.ceil(A));const L=Math.max(yN(E),yN(T));C=Math.pow(10,ot(c)?L:c),T=Math.round(T*C)/C,N=Math.round(N*C)/C;let D=0;for(y&&(f&&T!==r?(s.push({value:r}),T<r&&D++,Lu(Math.round((T+D*E)*C)/C,r,pT(r,w,t))&&D++):T<r&&D++);D<A;++D){const I=Math.round((T+D*E)*C)/C;if(g&&I>l)break;s.push({value:I})}return g&&f&&N!==l?s.length&&Lu(s[s.length-1].value,l,pT(l,w,t))?s[s.length-1].value=l:s.push({value:l}):(!g||N===l)&&s.push({value:N}),s}function pT(t,e,{horizontal:s,minRotation:n}){const i=Vr(n),a=(s?Math.sin(i):Math.cos(i))||.001,r=.75*e*(""+t).length;return Math.min(e/a,r)}class PQ extends Ec{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return ot(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const r=c=>i=s?i:c,l=c=>a=n?a:c;if(e){const c=Ni(i),u=Ni(a);c<0&&u<0?l(0):c>0&&u>0&&r(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);l(a+c),e||r(i-c)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,r=RQ(i,a);return e.bounds==="ticks"&&uG(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-s)/Math.max(e.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return GD(e,this.chart.options.locale,this.options.ticks.format)}}class Gm extends PQ{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=In(e)?e:0,this.max=In(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=Vr(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Be(Gm,"id","linear"),Be(Gm,"defaults",{ticks:{callback:KD.formatters.numeric}});const Up={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zs=Object.keys(Up);function gT(t,e){return t-e}function yT(t,e){if(ot(e))return null;const s=t._adapter,{parser:n,round:i,isoWeekday:a}=t._parseOpts;let r=e;return typeof n=="function"&&(r=n(r)),In(r)||(r=typeof n=="string"?s.parse(r,n):s.parse(r)),r===null?null:(i&&(r=i==="week"&&(gd(a)||a===!0)?s.startOf(r,"isoWeek",a):s.startOf(r,i)),+r)}function bT(t,e,s,n){const i=zs.length;for(let a=zs.indexOf(t);a<i-1;++a){const r=Up[zs[a]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-e)/(l*r.size))<=n)return zs[a]}return zs[i-1]}function LQ(t,e,s,n,i){for(let a=zs.length-1;a>=zs.indexOf(s);a--){const r=zs[a];if(Up[r].common&&t._adapter.diff(i,n,r)>=e-1)return r}return zs[s?zs.indexOf(s):0]}function $Q(t){for(let e=zs.indexOf(t)+1,s=zs.length;e<s;++e)if(Up[zs[e]].common)return zs[e]}function vT(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:i}=Bx(s,e),a=s[n]>=e?s[n]:s[i];t[a]=!0}}function IQ(t,e,s,n){const i=t._adapter,a=+i.startOf(e[0].value,n),r=e[e.length-1].value;let l,c;for(l=a;l<=r;l=+i.add(l,1,n))c=s[l],c>=0&&(e[c].major=!0);return e}function _T(t,e,s){const n=[],i={},a=e.length;let r,l;for(r=0;r<a;++r)l=e[r],i[l]=r,n.push({value:l,major:!1});return a===0||!s?n:IQ(t,n,i,s)}class Km extends Ec{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),i=this._adapter=new KK._date(e.adapters.date);i.init(s),Pu(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:yT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:r,maxDefined:l}=this.getUserBounds();function c(u){!r&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!l&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!r||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=In(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),a=In(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,r=this.max,l=gG(i,a,r);return this._unit=s.unit||(n.autoSkip?bT(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):LQ(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:$Q(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),_T(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;s=an(s,0,r),n=an(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,i=this.options,a=i.time,r=a.unit||bT(a.minUnit,s,n,this._getLabelCapacity(s)),l=Ze(i.ticks.stepSize,1),c=r==="week"?a.isoWeekday:!1,u=gd(c)||c===!0,d={};let h=s,f,m;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":r),e.diff(n,s,r)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+r);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+e.add(f,l,r),m++)vT(d,f,v);return(f===n||i.bounds==="ticks"||m===1)&&vT(d,f,v),Object.keys(d).sort(gT).map(_=>+_)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,a=this._unit,r=s||i[a];return this._adapter.format(e,r)}_tickFormatFunction(e,s,n,i){const a=this.options,r=a.ticks.callback;if(r)return Tt(r,[e,s,n],this);const l=a.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=n[s],m=u&&h&&f&&f.major;return this._adapter.format(e,i||(m?h:d))}generateTickLabels(e){let s,n,i;for(s=0,n=e.length;s<n;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,i=Vr(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),r=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*a+l*r,h:n*r+l*a}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,a=this._tickFormatFunction(e,0,_T(this,[e],this._majorUnit),i),r=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)e.push(yT(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qD(e.sort(gT))}}Be(Km,"id","time"),Be(Km,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function df(t,e,s){let n=0,i=t.length-1,a,r,l,c;s?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=Wr(t,"pos",e)),{pos:a,time:l}=t[n],{pos:r,time:c}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=Wr(t,"time",e)),{time:a,pos:l}=t[n],{time:r,pos:c}=t[i]);const u=r-a;return u?l+(c-l)*(e-a)/u:l}class xT extends Km{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=df(s,this.min),this._tableRange=df(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,i=[],a=[];let r,l,c,u,d;for(r=0,l=e.length;r<l;++r)u=e[r],u>=s&&u<=n&&i.push(u);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(r=0,l=i.length;r<l;++r)d=i[r+1],c=i[r-1],u=i[r],Math.round((d+c)/2)!==u&&a.push({time:u,pos:r/(l-1)});return a}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(df(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return df(this._table,n*this._tableRange+this._minPos,!0)}}Be(xT,"id","timeseries"),Be(xT,"defaults",Km.defaults);const CM="label";function wT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function BQ(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function kM(t,e){t.labels=e}function AM(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:CM;const n=[];t.datasets=e.map(i=>{const a=t.datasets.find(r=>r[s]===i[s]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function zQ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CM;const s={labels:[],datasets:[]};return kM(s,t.labels),AM(s,t.datasets,e),s}function HQ(t,e){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:r,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,m=S.useRef(null),v=S.useRef(null),_=()=>{m.current&&(v.current=new Qd(m.current,{type:r,data:zQ(l,a),options:c&&{...c},plugins:u}),wT(e,v.current))},x=()=>{wT(e,null),v.current&&(v.current.destroy(),v.current=null)};return S.useEffect(()=>{!i&&v.current&&c&&BQ(v.current,c)},[i,c]),S.useEffect(()=>{!i&&v.current&&kM(v.current.config.data,l.labels)},[i,l.labels]),S.useEffect(()=>{!i&&v.current&&l.datasets&&AM(v.current.config.data,l.datasets,a)},[i,l.datasets]),S.useEffect(()=>{v.current&&(i?(x(),setTimeout(_)):v.current.update(h))},[i,c,l.labels,l.datasets,h]),S.useEffect(()=>{v.current&&(x(),setTimeout(_))},[r]),S.useEffect(()=>(_(),()=>x()),[]),we.createElement("canvas",{ref:m,role:"img",height:s,width:n,...f},d)}const FQ=S.forwardRef(HQ);function OM(t,e){return Qd.register(e),S.forwardRef((s,n)=>we.createElement(FQ,{...s,ref:n,type:t}))}const UQ=OM("line",$f),VQ=OM("bar",Lf);Qd.register(Ym,Gm,Hf,EM,TM,SM);const qQ=()=>{const[t,e]=S.useState({labels:[],datasets:[]}),[s,n]=S.useState(2025),[i,a]=S.useState("month"),[r,l]=S.useState(!0),[c,u]=S.useState(null);S.useEffect(()=>{l(!0),u(null);const m={month:`http://localhost:8000/api/chart/bookings-ratio/month/${s}`,quarter:`http://localhost:8000/api/chart/bookings-ratio/quarter/${s}`}[i];console.log("Fetching data from:",m),oe.get(m).then(v=>{const _=v.data;if(console.log("API response:",_),!Array.isArray(_)||_.length===0){u("No data available from API"),e({labels:[],datasets:[]}),l(!1);return}let x=[],y=[];i==="month"?(x=_.map(b=>`Month ${b.month}`),y=_.map(b=>b.ratio||0)):(x=_.map(b=>`Quarter ${b.quarter}`),y=_.map(b=>b.ratio||0)),y.some(b=>b>0)||console.warn("All ratios are 0. Chart may appear empty."),e({labels:x,datasets:[{label:"Booking Ratio (%)",data:y,backgroundColor:Array(x.length).fill("rgba(75, 192, 192, 0.6)"),borderColor:Array(x.length).fill("rgba(75, 192, 192, 1)"),borderWidth:1}]}),l(!1)}).catch(v=>{console.error("Error fetching data:",v),u(`Failed to load data: ${v.message}`),l(!1)})},[s,i]);const d=f=>{n(parseInt(f.target.value))},h=f=>{a(f.target.value)};return o.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"20px",backgroundColor:"#f9fafb",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif"},children:[o.jsx("h2",{style:{textAlign:"center",color:"#1f2937",marginBottom:"20px",fontSize:"1.5rem",fontWeight:"600"},children:"Booking Ratio Dashboard"}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px",marginBottom:"20px",padding:"15px",backgroundColor:"#ffffff",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"#374151",fontWeight:"500"},children:"Select Year:"}),o.jsx("select",{value:s,onChange:d,style:{padding:"8px 12px",fontSize:"0.9rem",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#fff",cursor:"pointer"},children:[2023,2024,2025,2026].map(f=>o.jsx("option",{value:f,children:f},f))})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"#374151",fontWeight:"500"},children:"Chart Type:"}),o.jsxs("select",{value:i,onChange:h,style:{padding:"8px 12px",fontSize:"0.9rem",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#fff",cursor:"pointer"},children:[o.jsx("option",{value:"month",children:"Monthly"}),o.jsx("option",{value:"quarter",children:"Quarterly"})]})]})]}),r&&o.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontSize:"1rem"},children:"Loading data..."}),c&&o.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#dc2626",fontSize:"1rem",backgroundColor:"#fef2f2",borderRadius:"6px",border:"1px solid #fecaca"},children:["Error: ",c]}),!r&&!c&&(t.labels.length===0||t.datasets[0].data.every(f=>f===0))&&o.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontSize:"1rem",backgroundColor:"#f3f4f6",borderRadius:"6px",border:"1px solid #e5e7eb"},children:["No meaningful data to display for ",i," in ",s,"."]}),!r&&!c&&t.labels.length>0&&!t.datasets[0].data.every(f=>f===0)&&o.jsx("div",{style:{backgroundColor:"#ffffff",padding:"20px",borderRadius:"6px",border:"1px solid #e5e7eb",height:"500px"},children:o.jsx(VQ,{data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:`Booking Ratio in ${s} (${i.charAt(0).toUpperCase()+i.slice(1)})`,font:{size:16,weight:"bold"},color:"#1f2937",padding:{bottom:20}}},scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Ratio (%)",font:{size:14},color:"#374151"},grid:{color:"#e5e7eb"}},x:{title:{display:!0,text:i==="month"?"Month":"Quarter",font:{size:14},color:"#374151"},grid:{display:!1}}}}})})]})};Qd.register(Ym,Gm,zf,hu,EM,TM,SM);const WQ=()=>{const[t,e]=S.useState({labels:[],datasets:[]}),[s,n]=S.useState(2025),[i,a]=S.useState(!0),[r,l]=S.useState(null),c=()=>{a(!0),l(null),oe.get(`http://localhost:8000/api/chart/revenue/${s}`).then(h=>{const f=h.data;if(console.log("API response:",f),!Array.isArray(f)||f.length===0){l("No data available from API"),e({labels:[],datasets:[]}),a(!1);return}const m=f.map(b=>`Month ${b.month}`),v=f.map(b=>b.total_revenue||0);v.some(b=>b>0)||console.warn("All revenues are 0. Chart may appear empty.");const g=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,400);g.addColorStop(0,"rgba(139, 92, 246, 0.4)"),g.addColorStop(1,"rgba(139, 92, 246, 0)"),e({labels:m,datasets:[{label:"Revenue (VND)",data:v,borderColor:"rgba(139, 92, 246, 1)",backgroundColor:g,fill:!0,tension:.3,pointRadius:5,pointBackgroundColor:"rgba(139, 92, 246, 1)",pointStyle:"rect"}]}),a(!1)}).catch(h=>{console.error("Error fetching data:",h),l(`Failed to load data: ${h.message}`),a(!1)})};S.useEffect(()=>{c()},[s]);const u=h=>{n(parseInt(h.target.value))},d=()=>{c()};return o.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"25px",backgroundColor:"#f5f3ff",borderRadius:"12px",border:"3px double #c4b5fd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",fontFamily:"Roboto, sans-serif"},children:[o.jsx("h2",{style:{textAlign:"center",color:"#4c1d95",marginBottom:"25px",fontSize:"1.6rem",fontWeight:"700",fontStyle:"italic"},children:"Revenue Analytics"}),o.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"15px",backgroundColor:"#ffffff",borderRadius:"8px",border:"2px double #c4b5fd",marginBottom:"25px",gap:"15px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("label",{style:{fontSize:"0.95rem",color:"#4c1d95",fontWeight:"600"},children:"Year:"}),o.jsx("select",{value:s,onChange:u,style:{padding:"10px 14px",fontSize:"0.95rem",borderRadius:"6px",border:"1px solid #c4b5fd",backgroundColor:"#fff",cursor:"pointer",color:"#4c1d95"},children:[2023,2024,2025,2026].map(h=>o.jsx("option",{value:h,children:h},h))})]}),o.jsx("button",{onClick:d,style:{padding:"10px 20px",fontSize:"0.95rem",borderRadius:"6px",border:"none",backgroundColor:"#8b5cf6",color:"#fff",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:h=>h.target.style.backgroundColor="#7c3aed",onMouseOut:h=>h.target.style.backgroundColor="#8b5cf6",children:"Refresh"})]}),i&&o.jsxs("div",{style:{textAlign:"center",padding:"50px",backgroundColor:"#e0f2fe",borderRadius:"8px",border:"2px double #bae6fd"},children:[o.jsx("div",{style:{border:"4px solid #bae6fd",borderTop:"4px solid #3b82f6",borderRadius:"50%",width:"30px",height:"30px",animation:"spin 1s linear infinite",margin:"0 auto 10px"}}),o.jsx("span",{style:{color:"#1e40af",fontSize:"1rem"},children:"Loading data..."})]}),r&&o.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#9f1239",fontSize:"1rem",backgroundColor:"#ffe4e6",borderRadius:"8px",border:"2px double #fecdd3"},children:["Error: ",r]}),!i&&!r&&(t.labels.length===0||t.datasets[0].data.every(h=>h===0))&&o.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#1e40af",fontSize:"1rem",backgroundColor:"#e0f2fe",borderRadius:"8px",border:"2px double #bae6fd"},children:["No meaningful data to display for revenue in ",s,"."]}),!i&&!r&&t.labels.length>0&&!t.datasets[0].data.every(h=>h===0)&&o.jsx("div",{style:{backgroundColor:"#ffffff",padding:"25px",borderRadius:"8px",border:"2px double #c4b5fd",height:"500px"},children:o.jsx(UQ,{data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:`Revenue in ${s}`,font:{size:16,weight:"bold",family:"Roboto"},color:"#4c1d95",padding:{bottom:20}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Revenue (VND)",font:{size:14,family:"Roboto"},color:"#4c1d95"},grid:{color:"#e5e7eb"}},x:{title:{display:!0,text:"Month",font:{size:14,family:"Roboto"},color:"#4c1d95"},grid:{display:!1}}}}})}),o.jsx("style",{children:`
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                `})]})},YQ=()=>o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"container",style:{paddingBottom:"5%"},children:o.jsx(qQ,{})}),o.jsx("div",{className:"container",children:o.jsx(WQ,{})})]}),ST=()=>{var I,q;const{user:t,token:e,updateUser:s}=S.useContext(ms),[n,i]=S.useState(!1),[a,r]=S.useState(!1),[l,c]=S.useState({name:"",email:"",phone:""}),[u,d]=S.useState({current_password:"",new_password:"",new_password_confirmation:""}),[h,f]=S.useState(null),[m,v]=S.useState(null),[_,x]=S.useState({}),[y,g]=S.useState(!1),[b,w]=S.useState(!0);S.useEffect(()=>{t&&(c({name:t.name||"",email:t.email||"",phone:t.phone||""}),setTimeout(()=>{w(!1)},400))},[t]);const E=B=>{const{name:z,value:M}=B.target;c(H=>({...H,[z]:M}))},C=B=>{const{name:z,value:M}=B.target;d(H=>({...H,[z]:M}))},T=B=>{const z=B.target.files[0];if(z){if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(z.type)){x(R=>({...R,avatar:"Please select a valid image file (JPEG, PNG, JPG, GIF)"}));return}if(z.size>2*1024*1024){x(R=>({...R,avatar:"File size must be less than 2MB"}));return}f(z);const H=new FileReader;H.onload=R=>{v(R.target.result)},H.readAsDataURL(z),x(R=>({...R,avatar:""}))}},N=async B=>{var z,M,H,R,V,P,se,de,fe,ae;B.preventDefault(),g(!0);try{await oe.get("/sanctum/csrf-cookie");const F=new FormData;F.append("name",l.name),F.append("email",l.email),F.append("phone",l.phone||""),h&&F.append("avatar",h),console.log("Submitting data:",{name:l.name,email:l.email,phone:l.phone,hasAvatar:!!h});const ne=await oe.post(`/api/users/${t.id}/update`,F,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});s(ne.data.user),i(!1),h&&(f(null),v(null)),x({}),window.showNotification?window.showNotification("Profile updated successfully!","success"):alert("Profile updated successfully!")}catch(F){console.error("Error updating profile:",((z=F.response)==null?void 0:z.data)||F.message),((M=F.response)==null?void 0:M.status)===422&&((R=(H=F.response)==null?void 0:H.data)!=null&&R.errors)?x(F.response.data.errors):x({general:((P=(V=F.response)==null?void 0:V.data)==null?void 0:P.message)||"Failed to update profile"}),window.showNotification?window.showNotification(((de=(se=F.response)==null?void 0:se.data)==null?void 0:de.message)||"Failed to update profile","error"):alert(((ae=(fe=F.response)==null?void 0:fe.data)==null?void 0:ae.message)||"Failed to update profile")}finally{g(!1)}},A=async B=>{var z;if(B.preventDefault(),g(!0),u.new_password!==u.new_password_confirmation){window.showNotification?window.showNotification("New password and confirmation do not match.","error"):alert("New password and confirmation do not match."),g(!1);return}try{await oe.get("/sanctum/csrf-cookie",{withCredentials:!0}),await oe.post(`/api/users/${t.id}/change-password`,u,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`},withCredentials:!0}),r(!1),d({current_password:"",new_password:"",new_password_confirmation:""}),window.showNotification?window.showNotification("Password changed successfully!","success"):alert("Password changed successfully!")}catch(M){console.error("Error changing password:",((z=M.response)==null?void 0:z.data)||M.message),window.showNotification?window.showNotification("Failed to change password","error"):alert("Failed to change password")}finally{g(!1)}},L=()=>{i(!1),c({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),h&&(f(null),v(null)),x({})},D=()=>{r(!1),d({current_password:"",new_password:"",new_password_confirmation:""})};return t?o.jsxs("div",{className:"staff-profile-container",children:[o.jsx("div",{className:"staff-profile-header",children:o.jsx("h2",{children:"Staff Profile"})}),b?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary mb-2"}),o.jsx("p",{children:"Loading data..."})]}):o.jsxs("div",{className:"staff-profile-content",children:[o.jsxs("div",{className:"staff-profile-section",children:[o.jsxs("div",{className:"staff-profile-info",children:[o.jsx("div",{className:"staff-profile-avatar",children:o.jsx("img",{src:(I=t.avatar)!=null&&I.startsWith("http")?t.avatar:`/storage/${t.avatar}`,alt:"Avatar",className:"staff-avatar-img",onError:B=>{B.target.src="/images/Dat/avatar/default.png"}})}),o.jsxs("div",{className:"staff-profile-details",children:[o.jsx("h3",{children:t.name}),o.jsxs("p",{children:[o.jsx("i",{className:"bx bx-envelope"})," ",t.email]}),o.jsxs("p",{children:[o.jsx("i",{className:"bx bx-phone"})," ",t.phone||"No phone number"]}),o.jsxs("p",{children:[o.jsx("i",{className:"bx bx-id-card"})," Role: ",t.role]})]})]}),!n&&!a&&o.jsxs("div",{className:"staff-profile-actions",children:[o.jsx("button",{className:"staff-btn staff-btn-primary",onClick:()=>i(!0),children:"Edit Profile"}),o.jsx("button",{className:"staff-btn staff-btn-secondary",onClick:()=>r(!0),children:"Change Password"})]})]}),n&&o.jsxs("div",{className:"staff-edit-profile-section",children:[o.jsx("h3",{children:"Edit Profile"}),_.general&&o.jsx("div",{className:"alert alert-danger mb-3",children:_.general}),o.jsxs("form",{onSubmit:N,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"staff-form-label",children:"Profile Picture"}),o.jsxs("div",{className:"staff-avatar-upload",children:[o.jsx("div",{className:"staff-avatar-preview",children:o.jsx("img",{src:m||((q=t.avatar)!=null&&q.startsWith("http")?t.avatar:`/storage/${t.avatar}`),alt:"Avatar Preview",className:"staff-avatar-img-preview",onError:B=>{B.target.src="/images/Dat/avatar/default.png"}})}),o.jsxs("div",{className:"staff-avatar-controls",children:[o.jsx("input",{type:"file",id:"avatar",name:"avatar",accept:"image/jpeg,image/png,image/jpg,image/gif",onChange:T,className:"staff-file-input",style:{display:"none"}}),o.jsx("label",{htmlFor:"avatar",className:"staff-btn staff-btn-outline",children:"Choose New Picture"}),h&&o.jsxs("small",{className:"text-muted",children:["Selected: ",h.name]})]}),_.avatar&&o.jsx("div",{className:"text-danger mt-1",children:_.avatar})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"name",className:"staff-form-label",children:"Name"}),o.jsx("input",{type:"text",className:"staff-form-control",id:"name",name:"name",value:l.name,onChange:E,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"staff-form-label",children:"Email"}),o.jsx("input",{type:"email",className:"staff-form-control",id:"email",name:"email",value:l.email,onChange:E,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"phone",className:"staff-form-label",children:"Phone"}),o.jsx("input",{type:"text",className:"staff-form-control",id:"phone",name:"phone",value:l.phone,onChange:E})]}),o.jsxs("div",{className:"staff-form-actions",children:[o.jsx("button",{type:"submit",className:"staff-btn staff-btn-success",disabled:y,children:y?"Saving...":"Save Changes"}),o.jsx("button",{type:"button",className:"staff-btn staff-btn-danger",onClick:L,children:"Cancel"})]})]})]}),a&&o.jsxs("div",{className:"staff-change-password-section",children:[o.jsx("h3",{children:"Change Password"}),o.jsxs("form",{onSubmit:A,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"current_password",className:"staff-form-label",children:"Current Password"}),o.jsx("input",{type:"password",className:"staff-form-control",id:"current_password",name:"current_password",value:u.current_password,onChange:C,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"new_password",className:"staff-form-label",children:"New Password"}),o.jsx("input",{type:"password",className:"staff-form-control",id:"new_password",name:"new_password",value:u.new_password,onChange:C,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"new_password_confirmation",className:"staff-form-label",children:"Confirm New Password"}),o.jsx("input",{type:"password",className:"staff-form-control",id:"new_password_confirmation",name:"new_password_confirmation",value:u.new_password_confirmation,onChange:C,required:!0})]}),o.jsxs("div",{className:"staff-form-actions",children:[o.jsx("button",{type:"submit",className:"staff-btn staff-btn-success",disabled:y,children:y?"Changing...":"Change Password"}),o.jsx("button",{type:"button",className:"staff-btn staff-btn-danger",onClick:D,children:"Cancel"})]})]})]})]})]}):o.jsx("div",{className:"staff-profile-container mt-5 text-center",children:"Loading..."})},GQ=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(t),KQ=()=>{const[t]=m1();bo();const[e,s]=S.useState(null),[n,i]=S.useState(!0),[a,r]=S.useState(!1),[l,c]=S.useState(null);S.useEffect(()=>{const h=t.get("data");if(!h){alert("Invalid payment link","error");return}try{const f=JSON.parse(decodeURIComponent(h));s(f),i(!1)}catch(f){console.error("Error parsing payment data:",f),alert("Invalid payment data","error")}},[t]);const u=async()=>{if(!e)return;r(!0);const{error:h}=await Du.from("payment_sessions").update({status:"confirmed",updated_at:new Date().toISOString()}).eq("id",e.payment_id);h?(console.error("Error confirming payment:",h),alert("Failed to confirm payment"),r(!1)):(c("confirmed"),alert("Payment confirmed successfully!"))},d=async()=>{if(!e)return;r(!0);const{error:h}=await Du.from("payment_sessions").update({status:"rejected",updated_at:new Date().toISOString()}).eq("id",e.payment_id);h?(console.error("Error rejecting payment:",h),alert("Failed to reject payment"),r(!1)):(c("rejected"),alert("Payment rejected"))};return n?o.jsxs("div",{className:"payment-confirm-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Loading payment details..."})]}):e?o.jsx("div",{className:"payment-confirm-container",children:o.jsxs("div",{className:"payment-card",children:[o.jsx("h1",{children:"Payment Confirmation"}),o.jsxs("div",{className:"payment-details",children:[o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"label",children:"Amount:"}),o.jsx("span",{className:"value",children:GQ(e.amount)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"label",children:"Type:"}),o.jsx("span",{className:"value",children:e.is_deposit?"Deposit (20%)":"Full Payment"})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"label",children:"Payment ID:"}),o.jsx("span",{className:"value small",children:e.payment_id})]})]}),o.jsx("div",{className:"actions",children:l?o.jsx("div",{className:`result-message ${l}`,children:l==="confirmed"?o.jsxs(o.Fragment,{children:[o.jsx("h2",{children:"âœ… Payment Confirmed"}),o.jsx("p",{children:"The payment has been successfully confirmed."})]}):o.jsxs(o.Fragment,{children:[o.jsx("h2",{children:"âŒ Payment Rejected"}),o.jsx("p",{children:"The payment has been rejected."})]})}):o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn btn-confirm",onClick:u,disabled:a,children:a?"Processing...":"Confirm Payment"}),o.jsx("button",{className:"btn btn-reject",onClick:d,disabled:a,children:"Reject"})]})}),o.jsx("p",{className:"note",children:"Please confirm if you have completed the payment"})]})}):o.jsxs("div",{className:"payment-confirm-container",children:[o.jsx("h2",{children:"Invalid Payment"}),o.jsx("p",{children:"Unable to load payment information"})]})},XQ=t=>{typeof t!="number"&&(t=Number(t));const e=t<1e4?t*1e3:t;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e)},jT=()=>{const[t,e]=S.useState([]),[s,n]=S.useState(!0),[i,a]=S.useState(null),[r,l]=S.useState({currentPage:1,lastPage:1,perPage:6,total:0}),{searchQuery:c,setSearchQuery:u}=Hd(),[d,h]=S.useState(c),[f,m]=S.useState(!1);S.useEffect(()=>{c!==d&&m(!0);const y=setTimeout(()=>{h(c),m(!1)},300);return()=>clearTimeout(y)},[c]);const v=y=>{u(y.target.value),l(g=>({...g,currentPage:1}))},_=()=>{u(""),l(y=>({...y,currentPage:1}))};S.useEffect(()=>{(async()=>{var w,E;const g=r.currentPage===1&&!d,b=r.currentPage>1;(g||b)&&(n(!0),await new Promise(C=>setTimeout(C,400)));try{const C=_t.get("auth_token");if(!C)throw new Error("KhÃ´ng tÃ¬m tháº¥y token xÃ¡c thá»±c");const T=await oe.get("/api/bookingList",{headers:{Authorization:`Bearer ${C}`},params:{per_page:r.perPage,page:r.currentPage,search:d||void 0}});let N=[];Array.isArray(T.data)?N=T.data:T.data&&Array.isArray(T.data.bookings)?N=T.data.bookings:T.data&&Array.isArray(T.data.data)?N=T.data.data:(console.warn("Dá»¯ liá»‡u khÃ´ng pháº£i máº£ng, gÃ¡n máº£ng rá»—ng:",T.data),N=[]),N.sort((A,L)=>{const D=A.created_at||A.id,I=L.created_at||L.id;return typeof D=="number"?I-D:new Date(I)-new Date(D)}),e(N),l({currentPage:T.data.current_page||1,lastPage:T.data.last_page||1,perPage:T.data.per_page||r.perPage,total:T.data.total||0}),(g||b)&&n(!1)}catch(C){const T=((E=(w=C.response)==null?void 0:w.data)==null?void 0:E.message)||C.message||"Lá»—i khi láº¥y danh sÃ¡ch Ä‘áº·t phÃ²ng";a(T),console.error("Error details:",C.response?C.response.data:C.message),e([]),n(!1)}})()},[r.currentPage,d]);const x=()=>{const{currentPage:y,lastPage:g}=r,b=5,w=[];let E=Math.max(1,y-Math.floor(b/2)),C=Math.min(g,E+b-1);C-E+1<b&&(E=Math.max(1,C-b+1)),E>1&&w.push(o.jsx("button",{className:"btn btn-outline-primary mx-1",onClick:()=>l(T=>({...T,currentPage:1})),children:"First"},"first"));for(let T=E;T<=C;T++)w.push(o.jsx("button",{className:`btn ${y===T?"btn-primary":"btn-outline-primary"} mx-1`,onClick:()=>l(N=>({...N,currentPage:T})),children:T},T));return C<g&&w.push(o.jsx("button",{className:"btn btn-outline-primary mx-1",onClick:()=>l(T=>({...T,currentPage:g})),children:"Last"},"last")),w};return o.jsx("div",{className:"container my-5",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h2",{className:"card-title mb-3",children:"Booking List"}),o.jsx("p",{className:"text-muted mb-4",children:"Manage room information, including room status."}),o.jsx("div",{className:"mb-4 d-flex align-items-center",children:o.jsxs("div",{className:"input-group w-50",children:[o.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name, email, phone, room type...",value:c,onChange:v}),c&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:_,children:"Clear"})]})}),s||f?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}),o.jsx("p",{children:"Loading data..."})]}):i?o.jsx("div",{className:"alert alert-danger",role:"alert",children:i}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-bordered",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",children:"ID"}),o.jsx("th",{scope:"col",children:"Name"}),o.jsx("th",{scope:"col",children:"Email"}),o.jsx("th",{scope:"col",children:"Phone"}),o.jsx("th",{scope:"col",children:"Room Type"}),o.jsx("th",{scope:"col",children:"Rooms"}),o.jsx("th",{scope:"col",children:"Children"}),o.jsx("th",{scope:"col",children:"Member"}),o.jsx("th",{scope:"col",children:"Check-in"}),o.jsx("th",{scope:"col",children:"Check-out"}),o.jsx("th",{scope:"col",children:"Price"})]})}),o.jsx("tbody",{children:t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"11",className:"text-center text-muted py-4",children:"No bookings found."})}):t.map(y=>o.jsxs("tr",{children:[o.jsx("td",{children:y.id}),o.jsx("td",{children:y.name}),o.jsx("td",{children:y.email}),o.jsx("td",{children:y.phone||"N/A"}),o.jsx("td",{children:y.room_type}),o.jsx("td",{children:y.number_of_rooms}),o.jsx("td",{children:y.children}),o.jsx("td",{children:y.member}),o.jsx("td",{children:new Date(y.checkin_date).toLocaleDateString()}),o.jsx("td",{children:new Date(y.checkout_date).toLocaleDateString()}),o.jsx("td",{children:XQ(y.total_price)})]},y.id))})]})}),r.lastPage>1&&o.jsx("div",{className:"d-flex justify-content-center mt-4",children:o.jsx("nav",{children:o.jsxs("div",{className:"btn-group",children:[o.jsx("button",{className:"btn btn-outline-primary",onClick:()=>l(y=>({...y,currentPage:Math.max(y.currentPage-1,1)})),disabled:r.currentPage===1,children:"Previous"}),x(),o.jsx("button",{className:"btn btn-outline-primary",onClick:()=>l(y=>({...y,currentPage:Math.min(y.currentPage+1,r.lastPage)})),disabled:r.currentPage===r.lastPage,children:"Next"})]})})})]})})})};function ET(){const[t,e]=S.useState([]),[s,n]=S.useState(!1),[i,a]=S.useState(""),[r,l]=S.useState({room_number:"",type:"",description:"",price:"",status:""}),[c,u]=S.useState(null),[d,h]=S.useState("all"),[f,m]=S.useState(""),[v,_]=S.useState(""),[x,y]=S.useState(!1),[g,b]=S.useState(!1),[w,E]=S.useState(1),C=4;S.useEffect(()=>{T()},[]),S.useEffect(()=>{f!==v&&y(!0);const R=setTimeout(()=>{_(f),y(!1)},300);return()=>clearTimeout(R)},[f]);const T=async()=>{n(!0),a("");try{await new Promise(V=>setTimeout(V,400));const R=await oe.get("/api/rooms");e(R.data)}catch{a("Failed to load room list. Please try again later."),le.error("Failed to load room list")}finally{n(!1)}},N=R=>{l({...r,[R.target.name]:R.target.value})},A=async R=>{R.preventDefault(),b(!0);try{const V=await oe.put(`http://localhost:8000/api/rooms/${c}`,r);e(P=>P.map(se=>se.id===c?{...se,...r}:se)),u(null),l({room_number:"",type:"",description:"",price:"",status:""}),le.success("Room updated successfully!")}catch{a("Failed to update room!"),le.error("Failed to update room")}finally{b(!1)}},L=R=>{l(R),u(R.id)},D=async R=>{if(window.confirm("Are you sure you want to delete this room?")){b(!0);try{await oe.delete(`http://localhost:8000/api/rooms/${R}`),e(V=>V.filter(P=>P.id!==R)),le.success("Room deleted successfully!")}catch{a("Unable to delete room!"),le.error("Failed to delete room")}finally{b(!1)}}};Math.ceil(t.length/C),t.slice((w-1)*C,w*C);const I=R=>{E(R)},q=R=>{h(R.target.value),E(1)},B=R=>{const V=R.target.value;m(V),V!==v&&y(!0),E(1)},z=()=>{m(""),_(""),y(!1),E(1)},M=t.filter(R=>{const V=d==="all"||R.status===d,P=R.room_number.toLowerCase().includes(v.toLowerCase())||R.type.toLowerCase().includes(v.toLowerCase())||R.price.toString().includes(v);return V&&P}),H=Math.ceil(M.length/C);return o.jsxs("div",{className:"staff-room-management",children:[o.jsx(Ai,{position:"top-right",autoClose:3e3}),o.jsx("h2",{className:"staff-room-title",children:"Room Management"}),o.jsx("p",{className:"staff-room-description",children:"Manage room information, including room status."}),o.jsxs("div",{className:"staff-room-actions",children:[o.jsx("div",{className:"staff-room-filter-container",children:o.jsxs("select",{value:d,onChange:q,className:"staff-room-status-filter",children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"available",children:"Available"}),"                        ",o.jsx("option",{value:"maintenance",children:"Maintenance"})]})}),o.jsxs("div",{className:"search-input-wrapper",children:[o.jsx("input",{type:"text",placeholder:"Search by room number, type, price...",className:"search-input",value:f,onChange:B}),x&&o.jsx("div",{className:"search-spinner"}),f&&!x&&o.jsx("button",{className:"clear-search-btn",onClick:z,children:"Ã—"})]})]}),v&&!s&&o.jsxs("div",{className:"search-results-info",children:["Found ",M.length," room",M.length!==1?"s":"",d!=="all"&&` (filtered by ${d})`]}),o.jsx("div",{className:"staff-room-table-container",children:s?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary mb-2"}),o.jsx("p",{children:"Loading data..."})]}):i?o.jsx("div",{className:"alert alert-danger text-center",children:i}):o.jsxs(o.Fragment,{children:[c&&o.jsxs("form",{onSubmit:A,className:"staff-room-edit-form",children:[o.jsxs("div",{className:"staff-room-form-row",children:[o.jsx("input",{name:"room_number",placeholder:"Room Number",value:r.room_number,onChange:N,required:!0,disabled:!0}),o.jsx("input",{name:"type",placeholder:"Room Type",value:r.type,onChange:N,required:!0}),o.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:N}),o.jsx("input",{name:"price",placeholder:"Price",value:r.price,onChange:N,required:!0,type:"number"}),o.jsx("input",{name:"status",placeholder:"Status",value:r.status,onChange:N,required:!0})]}),o.jsxs("div",{className:"staff-room-form-actions",children:[o.jsx("button",{type:"submit",className:"btn update",disabled:g,children:g?o.jsxs(o.Fragment,{children:[o.jsx(_z,{className:"animate-spin mr-2",size:16}),"Updating..."]}):o.jsx(o.Fragment,{children:"Update"})}),o.jsx("button",{type:"button",className:"btn cancel",onClick:()=>{u(null),l({room_number:"",type:"",description:"",price:"",status:""})},disabled:g,children:"Cancel"})]})]}),o.jsxs("table",{className:"staff-room-data-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Room Number"}),o.jsx("th",{children:"Room Type"}),o.jsx("th",{children:"Description"}),o.jsx("th",{children:"Price"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:M.slice((w-1)*C,w*C).map(R=>o.jsxs("tr",{children:[o.jsx("td",{children:R.room_number}),o.jsx("td",{children:R.type}),o.jsx("td",{children:R.description}),o.jsx("td",{children:R.price}),o.jsx("td",{children:o.jsx("span",{className:`staff-room-badge staff-room-badge-${R.status.toLowerCase()}`,children:R.status})}),o.jsxs("td",{children:[o.jsxs("button",{className:"btn btn-history staff-room-btn-history",onClick:()=>L(R),disabled:g,children:[o.jsx(rx,{size:16,className:"mr-1"}),"Edit"]}),o.jsxs("button",{className:"btn btn-note staff-room-btn-note",onClick:()=>D(R.id),disabled:g,children:[o.jsx(ox,{size:16,className:"mr-1"}),"                                                    Delete"]})]})]},R.id))})]}),H>1&&o.jsxs("div",{className:"staff-room-pagination",children:[o.jsx("button",{className:"staff-room-page-btn",onClick:()=>I(w-1),disabled:w===1||g,children:"<"}),[...Array(H)].map((R,V)=>o.jsx("button",{className:`staff-room-page-btn ${w===V+1?"active":""}`,onClick:()=>I(V+1),disabled:g,children:V+1},V+1)),o.jsx("button",{className:"staff-room-page-btn",onClick:()=>I(w+1),disabled:w===H||g,children:">"})]})]})})]})}var Jd=t=>t.type==="checkbox",Yr=t=>t instanceof Date,Ts=t=>t==null;const DM=t=>typeof t=="object";var Vt=t=>!Ts(t)&&!Array.isArray(t)&&DM(t)&&!Yr(t),QQ=t=>Vt(t)&&t.target?Jd(t.target)?t.target.checked:t.target.value:t,JQ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ZQ=(t,e)=>t.has(JQ(e)),eJ=t=>{const e=t.constructor&&t.constructor.prototype;return Vt(e)&&e.hasOwnProperty("isPrototypeOf")},Xx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ps(t){let e;const s=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Xx&&(t instanceof Blob||n))&&(s||Vt(t)))if(e=s?[]:{},!s&&!eJ(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ps(t[i]));else return t;return e}var Vp=t=>Array.isArray(t)?t.filter(Boolean):[],Yt=t=>t===void 0,Ce=(t,e,s)=>{if(!e||!Vt(t))return s;const n=Vp(e.split(/[,[\].]+?/)).reduce((i,a)=>Ts(i)?i:i[a],t);return Yt(n)||n===t?Yt(t[e])?s:t[e]:n},mi=t=>typeof t=="boolean",Qx=t=>/^\w*$/.test(t),MM=t=>Vp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Nt=(t,e,s)=>{let n=-1;const i=Qx(e)?[e]:MM(e),a=i.length,r=a-1;for(;++n<a;){const l=i[n];let c=s;if(n!==r){const u=t[l];c=Vt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const NT={BLUR:"blur",FOCUS_OUT:"focusout"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tJ=we.createContext(null),sJ=()=>we.useContext(tJ);var nJ=(t,e,s,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const r=a;return e._proxyFormState[r]!==Gn.all&&(e._proxyFormState[r]=!n||Gn.all),t[r]}});return i};const RM=typeof window<"u"?S.useLayoutEffect:S.useEffect;var bi=t=>typeof t=="string",PM=(t,e,s,n,i)=>bi(t)?(n&&e.watch.add(t),Ce(s,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Ce(s,a))):(n&&(e.watchAll=!0),s);function Hi(t){const e=sJ(),{control:s=e.control,name:n,defaultValue:i,disabled:a,exact:r}=t||{},l=we.useRef(i),[c,u]=we.useState(s._getWatch(n,l.current));return RM(()=>s._subscribe({name:n,formState:{values:!0},exact:r,callback:d=>!a&&u(PM(n,s._names,d.values||s._formValues,!1,l.current))}),[n,s,a,r]),we.useEffect(()=>s._removeUnmounted()),c}var iJ=(t,e,s,n,i)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[n]:i||!0}}:{},Bu=t=>Array.isArray(t)?t:[t],TT=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Kv=t=>Ts(t)||!DM(t);function Pa(t,e){if(Kv(t)||Kv(e))return t===e;if(Yr(t)&&Yr(e))return t.getTime()===e.getTime();const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(const i of s){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const r=e[i];if(Yr(a)&&Yr(r)||Vt(a)&&Vt(r)||Array.isArray(a)&&Array.isArray(r)?!Pa(a,r):a!==r)return!1}}return!0}var Es=t=>Vt(t)&&!Object.keys(t).length,Jx=t=>t.type==="file",Kn=t=>typeof t=="function",Xm=t=>{if(!Xx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},LM=t=>t.type==="select-multiple",Zx=t=>t.type==="radio",aJ=t=>Zx(t)||Jd(t),nb=t=>Xm(t)&&t.isConnected;function rJ(t,e){const s=e.slice(0,-1).length;let n=0;for(;n<s;)t=Yt(t)?n++:t[e[n++]];return t}function oJ(t){for(const e in t)if(t.hasOwnProperty(e)&&!Yt(t[e]))return!1;return!0}function Qt(t,e){const s=Array.isArray(e)?e:Qx(e)?[e]:MM(e),n=s.length===1?t:rJ(t,s),i=s.length-1,a=s[i];return n&&delete n[a],i!==0&&(Vt(n)&&Es(n)||Array.isArray(n)&&oJ(n))&&Qt(t,s.slice(0,-1)),t}var $M=t=>{for(const e in t)if(Kn(t[e]))return!0;return!1};function Qm(t,e={}){const s=Array.isArray(t);if(Vt(t)||s)for(const n in t)Array.isArray(t[n])||Vt(t[n])&&!$M(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Qm(t[n],e[n])):Ts(t[n])||(e[n]=!0);return e}function IM(t,e,s){const n=Array.isArray(t);if(Vt(t)||n)for(const i in t)Array.isArray(t[i])||Vt(t[i])&&!$M(t[i])?Yt(e)||Kv(s[i])?s[i]=Array.isArray(t[i])?Qm(t[i],[]):{...Qm(t[i])}:IM(t[i],Ts(e)?{}:e[i],s[i]):s[i]=!Pa(t[i],e[i]);return s}var nu=(t,e)=>IM(t,e,Qm(e));const CT={value:!1,isValid:!1},kT={value:!0,isValid:!0};var BM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Yt(t[0].attributes.value)?Yt(t[0].value)||t[0].value===""?kT:{value:t[0].value,isValid:!0}:kT:CT}return CT},zM=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:n})=>Yt(t)?t:e?t===""?NaN:t&&+t:s&&bi(t)?new Date(t):n?n(t):t;const AT={isValid:!1,value:null};var HM=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,AT):AT;function OT(t){const e=t.ref;return Jx(e)?e.files:Zx(e)?HM(t.refs).value:LM(e)?[...e.selectedOptions].map(({value:s})=>s):Jd(e)?BM(t.refs).value:zM(Yt(e.value)?t.ref.value:e.value,t)}var lJ=(t,e,s,n)=>{const i={};for(const a of t){const r=Ce(e,a);r&&Nt(i,a,r._f)}return{criteriaMode:s,names:[...t],fields:i,shouldUseNativeValidation:n}},Jm=t=>t instanceof RegExp,iu=t=>Yt(t)?t:Jm(t)?t.source:Vt(t)?Jm(t.value)?t.value.source:t.value:t,DT=t=>({isOnSubmit:!t||t===Gn.onSubmit,isOnBlur:t===Gn.onBlur,isOnChange:t===Gn.onChange,isOnAll:t===Gn.all,isOnTouch:t===Gn.onTouched});const MT="AsyncFunction";var cJ=t=>!!t&&!!t.validate&&!!(Kn(t.validate)&&t.validate.constructor.name===MT||Vt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===MT)),uJ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),RT=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const zu=(t,e,s,n)=>{for(const i of s||Object.keys(t)){const a=Ce(t,i);if(a){const{_f:r,...l}=a;if(r){if(r.refs&&r.refs[0]&&e(r.refs[0],i)&&!n)return!0;if(r.ref&&e(r.ref,r.name)&&!n)return!0;if(zu(l,e))break}else if(Vt(l)&&zu(l,e))break}}};function PT(t,e,s){const n=Ce(t,s);if(n||Qx(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),r=Ce(e,a),l=Ce(t,a);if(r&&!Array.isArray(r)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:s}}var dJ=(t,e,s,n)=>{s(t);const{name:i,...a}=t;return Es(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(r=>e[r]===(!n||Gn.all))},hJ=(t,e,s)=>!t||!e||t===e||Bu(t).some(n=>n&&(s?n===e:n.startsWith(e)||e.startsWith(n))),fJ=(t,e,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(e||t):(s?n.isOnBlur:i.isOnBlur)?!t:(s?n.isOnChange:i.isOnChange)?t:!0,mJ=(t,e)=>!Vp(Ce(t,e)).length&&Qt(t,e),pJ=(t,e,s)=>{const n=Bu(Ce(t,s));return Nt(n,"root",e[s]),Nt(t,s,n),t},Ff=t=>bi(t);function LT(t,e,s="validate"){if(Ff(t)||Array.isArray(t)&&t.every(Ff)||mi(t)&&!t)return{type:s,message:Ff(t)?t:"",ref:e}}var el=t=>Vt(t)&&!Jm(t)?t:{value:t,message:""},$T=async(t,e,s,n,i,a)=>{const{ref:r,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:m,validate:v,name:_,valueAsNumber:x,mount:y}=t._f,g=Ce(s,_);if(!y||e.has(_))return{};const b=l?l[0]:r,w=I=>{i&&b.reportValidity&&(b.setCustomValidity(mi(I)?"":I||""),b.reportValidity())},E={},C=Zx(r),T=Jd(r),N=C||T,A=(x||Jx(r))&&Yt(r.value)&&Yt(g)||Xm(r)&&r.value===""||g===""||Array.isArray(g)&&!g.length,L=iJ.bind(null,_,n,E),D=(I,q,B,z=zi.maxLength,M=zi.minLength)=>{const H=I?q:B;E[_]={type:I?z:M,message:H,ref:r,...L(I?z:M,H)}};if(a?!Array.isArray(g)||!g.length:c&&(!N&&(A||Ts(g))||mi(g)&&!g||T&&!BM(l).isValid||C&&!HM(l).isValid)){const{value:I,message:q}=Ff(c)?{value:!!c,message:c}:el(c);if(I&&(E[_]={type:zi.required,message:q,ref:b,...L(zi.required,q)},!n))return w(q),E}if(!A&&(!Ts(h)||!Ts(f))){let I,q;const B=el(f),z=el(h);if(!Ts(g)&&!isNaN(g)){const M=r.valueAsNumber||g&&+g;Ts(B.value)||(I=M>B.value),Ts(z.value)||(q=M<z.value)}else{const M=r.valueAsDate||new Date(g),H=P=>new Date(new Date().toDateString()+" "+P),R=r.type=="time",V=r.type=="week";bi(B.value)&&g&&(I=R?H(g)>H(B.value):V?g>B.value:M>new Date(B.value)),bi(z.value)&&g&&(q=R?H(g)<H(z.value):V?g<z.value:M<new Date(z.value))}if((I||q)&&(D(!!I,B.message,z.message,zi.max,zi.min),!n))return w(E[_].message),E}if((u||d)&&!A&&(bi(g)||a&&Array.isArray(g))){const I=el(u),q=el(d),B=!Ts(I.value)&&g.length>+I.value,z=!Ts(q.value)&&g.length<+q.value;if((B||z)&&(D(B,I.message,q.message),!n))return w(E[_].message),E}if(m&&!A&&bi(g)){const{value:I,message:q}=el(m);if(Jm(I)&&!g.match(I)&&(E[_]={type:zi.pattern,message:q,ref:r,...L(zi.pattern,q)},!n))return w(q),E}if(v){if(Kn(v)){const I=await v(g,s),q=LT(I,b);if(q&&(E[_]={...q,...L(zi.validate,q.message)},!n))return w(q.message),E}else if(Vt(v)){let I={};for(const q in v){if(!Es(I)&&!n)break;const B=LT(await v[q](g,s),b,q);B&&(I={...B,...L(q,B.message)},w(B.message),n&&(E[_]=I))}if(!Es(I)&&(E[_]={ref:b,...I},!n))return E}}return w(!0),E};const gJ={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function yJ(t={}){let e={...gJ,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=Vt(e.defaultValues)||Vt(e.values)?ps(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ps(i),r={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:TT(),state:TT()},m=e.criteriaMode===Gn.all,v=$=>Y=>{clearTimeout(u),u=setTimeout($,Y)},_=async $=>{if(!e.disabled&&(d.isValid||h.isValid||$)){const Y=e.resolver?Es((await T()).errors):await A(n,!0);Y!==s.isValid&&f.state.next({isValid:Y})}},x=($,Y)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&(($||Array.from(l.mount)).forEach(U=>{U&&(Y?Nt(s.validatingFields,U,Y):Qt(s.validatingFields,U))}),f.state.next({validatingFields:s.validatingFields,isValidating:!Es(s.validatingFields)}))},y=($,Y=[],U,J,Q=!0,ie=!0)=>{if(J&&U&&!e.disabled){if(r.action=!0,ie&&Array.isArray(Ce(n,$))){const _e=U(Ce(n,$),J.argA,J.argB);Q&&Nt(n,$,_e)}if(ie&&Array.isArray(Ce(s.errors,$))){const _e=U(Ce(s.errors,$),J.argA,J.argB);Q&&Nt(s.errors,$,_e),mJ(s.errors,$)}if((d.touchedFields||h.touchedFields)&&ie&&Array.isArray(Ce(s.touchedFields,$))){const _e=U(Ce(s.touchedFields,$),J.argA,J.argB);Q&&Nt(s.touchedFields,$,_e)}(d.dirtyFields||h.dirtyFields)&&(s.dirtyFields=nu(i,a)),f.state.next({name:$,isDirty:D($,Y),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Nt(a,$,Y)},g=($,Y)=>{Nt(s.errors,$,Y),f.state.next({errors:s.errors})},b=$=>{s.errors=$,f.state.next({errors:s.errors,isValid:!1})},w=($,Y,U,J)=>{const Q=Ce(n,$);if(Q){const ie=Ce(a,$,Yt(U)?Ce(i,$):U);Yt(ie)||J&&J.defaultChecked||Y?Nt(a,$,Y?ie:OT(Q._f)):B($,ie),r.mount&&_()}},E=($,Y,U,J,Q)=>{let ie=!1,_e=!1;const Z={name:$};if(!e.disabled){if(!U||J){(d.isDirty||h.isDirty)&&(_e=s.isDirty,s.isDirty=Z.isDirty=D(),ie=_e!==Z.isDirty);const ye=Pa(Ce(i,$),Y);_e=!!Ce(s.dirtyFields,$),ye?Qt(s.dirtyFields,$):Nt(s.dirtyFields,$,!0),Z.dirtyFields=s.dirtyFields,ie=ie||(d.dirtyFields||h.dirtyFields)&&_e!==!ye}if(U){const ye=Ce(s.touchedFields,$);ye||(Nt(s.touchedFields,$,U),Z.touchedFields=s.touchedFields,ie=ie||(d.touchedFields||h.touchedFields)&&ye!==U)}ie&&Q&&f.state.next(Z)}return ie?Z:{}},C=($,Y,U,J)=>{const Q=Ce(s.errors,$),ie=(d.isValid||h.isValid)&&mi(Y)&&s.isValid!==Y;if(e.delayError&&U?(c=v(()=>g($,U)),c(e.delayError)):(clearTimeout(u),c=null,U?Nt(s.errors,$,U):Qt(s.errors,$)),(U?!Pa(Q,U):Q)||!Es(J)||ie){const _e={...J,...ie&&mi(Y)?{isValid:Y}:{},errors:s.errors,name:$};s={...s,..._e},f.state.next(_e)}},T=async $=>{x($,!0);const Y=await e.resolver(a,e.context,lJ($||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x($),Y},N=async $=>{const{errors:Y}=await T($);if($)for(const U of $){const J=Ce(Y,U);J?Nt(s.errors,U,J):Qt(s.errors,U)}else s.errors=Y;return Y},A=async($,Y,U={valid:!0})=>{for(const J in $){const Q=$[J];if(Q){const{_f:ie,..._e}=Q;if(ie){const Z=l.array.has(ie.name),ye=Q._f&&cJ(Q._f);ye&&d.validatingFields&&x([J],!0);const $e=await $T(Q,l.disabled,a,m,e.shouldUseNativeValidation&&!Y,Z);if(ye&&d.validatingFields&&x([J]),$e[ie.name]&&(U.valid=!1,Y))break;!Y&&(Ce($e,ie.name)?Z?pJ(s.errors,$e,ie.name):Nt(s.errors,ie.name,$e[ie.name]):Qt(s.errors,ie.name))}!Es(_e)&&await A(_e,Y,U)}}return U.valid},L=()=>{for(const $ of l.unMount){const Y=Ce(n,$);Y&&(Y._f.refs?Y._f.refs.every(U=>!nb(U)):!nb(Y._f.ref))&&X($)}l.unMount=new Set},D=($,Y)=>!e.disabled&&($&&Y&&Nt(a,$,Y),!Pa(P(),i)),I=($,Y,U)=>PM($,l,{...r.mount?a:Yt(Y)?i:bi($)?{[$]:Y}:Y},U,Y),q=$=>Vp(Ce(r.mount?a:i,$,e.shouldUnregister?Ce(i,$,[]):[])),B=($,Y,U={})=>{const J=Ce(n,$);let Q=Y;if(J){const ie=J._f;ie&&(!ie.disabled&&Nt(a,$,zM(Y,ie)),Q=Xm(ie.ref)&&Ts(Y)?"":Y,LM(ie.ref)?[...ie.ref.options].forEach(_e=>_e.selected=Q.includes(_e.value)):ie.refs?Jd(ie.ref)?ie.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(Q)?_e.checked=!!Q.find(Z=>Z===_e.value):_e.checked=Q===_e.value||!!Q)}):ie.refs.forEach(_e=>_e.checked=_e.value===Q):Jx(ie.ref)?ie.ref.value="":(ie.ref.value=Q,ie.ref.type||f.state.next({name:$,values:ps(a)})))}(U.shouldDirty||U.shouldTouch)&&E($,Q,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&V($)},z=($,Y,U)=>{for(const J in Y){if(!Y.hasOwnProperty(J))return;const Q=Y[J],ie=`${$}.${J}`,_e=Ce(n,ie);(l.array.has($)||Vt(Q)||_e&&!_e._f)&&!Yr(Q)?z(ie,Q,U):B(ie,Q,U)}},M=($,Y,U={})=>{const J=Ce(n,$),Q=l.array.has($),ie=ps(Y);Nt(a,$,ie),Q?(f.array.next({name:$,values:ps(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&U.shouldDirty&&f.state.next({name:$,dirtyFields:nu(i,a),isDirty:D($,ie)})):J&&!J._f&&!Ts(ie)?z($,ie,U):B($,ie,U),RT($,l)&&f.state.next({...s}),f.state.next({name:r.mount?$:void 0,values:ps(a)})},H=async $=>{r.mount=!0;const Y=$.target;let U=Y.name,J=!0;const Q=Ce(n,U),ie=ye=>{J=Number.isNaN(ye)||Yr(ye)&&isNaN(ye.getTime())||Pa(ye,Ce(a,U,ye))},_e=DT(e.mode),Z=DT(e.reValidateMode);if(Q){let ye,$e;const Ye=Y.type?OT(Q._f):QQ($),tt=$.type===NT.BLUR||$.type===NT.FOCUS_OUT,Vs=!uJ(Q._f)&&!e.resolver&&!Ce(s.errors,U)&&!Q._f.deps||fJ(tt,Ce(s.touchedFields,U),s.isSubmitted,Z,_e),Nc=RT(U,l,tt);Nt(a,U,Ye),tt?(Q._f.onBlur&&Q._f.onBlur($),c&&c(0)):Q._f.onChange&&Q._f.onChange($);const fr=E(U,Ye,tt),qp=!Es(fr)||Nc;if(!tt&&f.state.next({name:U,type:$.type,values:ps(a)}),Vs)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?tt&&_():tt||_()),qp&&f.state.next({name:U,...Nc?{}:fr});if(!tt&&Nc&&f.state.next({...s}),e.resolver){const{errors:Zd}=await T([U]);if(ie(Ye),J){const Wp=PT(s.errors,n,U),eh=PT(Zd,n,Wp.name||U);ye=eh.error,U=eh.name,$e=Es(Zd)}}else x([U],!0),ye=(await $T(Q,l.disabled,a,m,e.shouldUseNativeValidation))[U],x([U]),ie(Ye),J&&(ye?$e=!1:(d.isValid||h.isValid)&&($e=await A(n,!0)));J&&(Q._f.deps&&V(Q._f.deps),C(U,$e,ye,fr))}},R=($,Y)=>{if(Ce(s.errors,Y)&&$.focus)return $.focus(),1},V=async($,Y={})=>{let U,J;const Q=Bu($);if(e.resolver){const ie=await N(Yt($)?$:Q);U=Es(ie),J=$?!Q.some(_e=>Ce(ie,_e)):U}else $?(J=(await Promise.all(Q.map(async ie=>{const _e=Ce(n,ie);return await A(_e&&_e._f?{[ie]:_e}:_e)}))).every(Boolean),!(!J&&!s.isValid)&&_()):J=U=await A(n);return f.state.next({...!bi($)||(d.isValid||h.isValid)&&U!==s.isValid?{}:{name:$},...e.resolver||!$?{isValid:U}:{},errors:s.errors}),Y.shouldFocus&&!J&&zu(n,R,$?Q:l.mount),J},P=$=>{const Y={...r.mount?a:i};return Yt($)?Y:bi($)?Ce(Y,$):$.map(U=>Ce(Y,U))},se=($,Y)=>({invalid:!!Ce((Y||s).errors,$),isDirty:!!Ce((Y||s).dirtyFields,$),error:Ce((Y||s).errors,$),isValidating:!!Ce(s.validatingFields,$),isTouched:!!Ce((Y||s).touchedFields,$)}),de=$=>{$&&Bu($).forEach(Y=>Qt(s.errors,Y)),f.state.next({errors:$?s.errors:{}})},fe=($,Y,U)=>{const J=(Ce(n,$,{_f:{}})._f||{}).ref,Q=Ce(s.errors,$)||{},{ref:ie,message:_e,type:Z,...ye}=Q;Nt(s.errors,$,{...ye,...Y,ref:J}),f.state.next({name:$,errors:s.errors,isValid:!1}),U&&U.shouldFocus&&J&&J.focus&&J.focus()},ae=($,Y)=>Kn($)?f.state.subscribe({next:U=>$(I(void 0,Y),U)}):I($,Y,!0),F=$=>f.state.subscribe({next:Y=>{hJ($.name,Y.name,$.exact)&&dJ(Y,$.formState||d,wt,$.reRenderRoot)&&$.callback({values:{...a},...s,...Y})}}).unsubscribe,ne=$=>(r.mount=!0,h={...h,...$.formState},F({...$,formState:h})),X=($,Y={})=>{for(const U of $?Bu($):l.mount)l.mount.delete(U),l.array.delete(U),Y.keepValue||(Qt(n,U),Qt(a,U)),!Y.keepError&&Qt(s.errors,U),!Y.keepDirty&&Qt(s.dirtyFields,U),!Y.keepTouched&&Qt(s.touchedFields,U),!Y.keepIsValidating&&Qt(s.validatingFields,U),!e.shouldUnregister&&!Y.keepDefaultValue&&Qt(i,U);f.state.next({values:ps(a)}),f.state.next({...s,...Y.keepDirty?{isDirty:D()}:{}}),!Y.keepIsValid&&_()},G=({disabled:$,name:Y})=>{(mi($)&&r.mount||$||l.disabled.has(Y))&&($?l.disabled.add(Y):l.disabled.delete(Y))},re=($,Y={})=>{let U=Ce(n,$);const J=mi(Y.disabled)||mi(e.disabled);return Nt(n,$,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:$}},name:$,mount:!0,...Y}}),l.mount.add($),U?G({disabled:mi(Y.disabled)?Y.disabled:e.disabled,name:$}):w($,!0,Y.value),{...J?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:iu(Y.min),max:iu(Y.max),minLength:iu(Y.minLength),maxLength:iu(Y.maxLength),pattern:iu(Y.pattern)}:{},name:$,onChange:H,onBlur:H,ref:Q=>{if(Q){re($,Y),U=Ce(n,$);const ie=Yt(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,_e=aJ(ie),Z=U._f.refs||[];if(_e?Z.find(ye=>ye===ie):ie===U._f.ref)return;Nt(n,$,{_f:{...U._f,..._e?{refs:[...Z.filter(nb),ie,...Array.isArray(Ce(i,$))?[{}]:[]],ref:{type:ie.type,name:$}}:{ref:ie}}}),w($,!1,void 0,ie)}else U=Ce(n,$,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(ZQ(l.array,$)&&r.action)&&l.unMount.add($)}}},ge=()=>e.shouldFocusError&&zu(n,R,l.mount),pe=$=>{mi($)&&(f.state.next({disabled:$}),zu(n,(Y,U)=>{const J=Ce(n,U);J&&(Y.disabled=J._f.disabled||$,Array.isArray(J._f.refs)&&J._f.refs.forEach(Q=>{Q.disabled=J._f.disabled||$}))},0,!1))},be=($,Y)=>async U=>{let J;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let Q=ps(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:_e}=await T();s.errors=ie,Q=_e}else await A(n);if(l.disabled.size)for(const ie of l.disabled)Nt(Q,ie,void 0);if(Qt(s.errors,"root"),Es(s.errors)){f.state.next({errors:{}});try{await $(Q,U)}catch(ie){J=ie}}else Y&&await Y({...s.errors},U),ge(),setTimeout(ge);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Es(s.errors)&&!J,submitCount:s.submitCount+1,errors:s.errors}),J)throw J},Ee=($,Y={})=>{Ce(n,$)&&(Yt(Y.defaultValue)?M($,ps(Ce(i,$))):(M($,Y.defaultValue),Nt(i,$,ps(Y.defaultValue))),Y.keepTouched||Qt(s.touchedFields,$),Y.keepDirty||(Qt(s.dirtyFields,$),s.isDirty=Y.defaultValue?D($,ps(Ce(i,$))):D()),Y.keepError||(Qt(s.errors,$),d.isValid&&_()),f.state.next({...s}))},Te=($,Y={})=>{const U=$?ps($):i,J=ps(U),Q=Es($),ie=Q?i:J;if(Y.keepDefaultValues||(i=U),!Y.keepValues){if(Y.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(nu(i,a))]);for(const Z of Array.from(_e))Ce(s.dirtyFields,Z)?Nt(ie,Z,Ce(a,Z)):M(Z,Ce(ie,Z))}else{if(Xx&&Yt($))for(const _e of l.mount){const Z=Ce(n,_e);if(Z&&Z._f){const ye=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(Xm(ye)){const $e=ye.closest("form");if($e){$e.reset();break}}}}for(const _e of l.mount)M(_e,Ce(ie,_e))}a=ps(ie),f.array.next({values:{...ie}}),f.state.next({values:{...ie}})}l={mount:Y.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},r.mount=!d.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,r.watch=!!e.shouldUnregister,f.state.next({submitCount:Y.keepSubmitCount?s.submitCount:0,isDirty:Q?!1:Y.keepDirty?s.isDirty:!!(Y.keepDefaultValues&&!Pa($,i)),isSubmitted:Y.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Q?{}:Y.keepDirtyValues?Y.keepDefaultValues&&a?nu(i,a):s.dirtyFields:Y.keepDefaultValues&&$?nu(i,$):Y.keepDirty?s.dirtyFields:{},touchedFields:Y.keepTouched?s.touchedFields:{},errors:Y.keepErrors?s.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Le=($,Y)=>Te(Kn($)?$(a):$,Y),lt=($,Y={})=>{const U=Ce(n,$),J=U&&U._f;if(J){const Q=J.refs?J.refs[0]:J.ref;Q.focus&&(Q.focus(),Y.shouldSelect&&Kn(Q.select)&&Q.select())}},wt=$=>{s={...s,...$}},Se={control:{register:re,unregister:X,getFieldState:se,handleSubmit:be,setError:fe,_subscribe:F,_runSchema:T,_getWatch:I,_getDirty:D,_setValid:_,_setFieldArray:y,_setDisabledField:G,_setErrors:b,_getFieldArray:q,_reset:Te,_resetDefaultValues:()=>Kn(e.defaultValues)&&e.defaultValues().then($=>{Le($,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:pe,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return r},set _state($){r=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return s},get _options(){return e},set _options($){e={...e,...$}}},subscribe:ne,trigger:V,register:re,handleSubmit:be,watch:ae,setValue:M,getValues:P,reset:Le,resetField:Ee,clearErrors:de,unregister:X,setError:fe,setFocus:lt,getFieldState:se};return{...Se,formControl:Se}}function bJ(t={}){const e=we.useRef(void 0),s=we.useRef(void 0),[n,i]=we.useState({isDirty:!1,isValidating:!1,isLoading:Kn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Kn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:yJ(t),formState:n},t.formControl&&t.defaultValues&&!Kn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,RM(()=>{const r=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,r},[a]),we.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),we.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode),t.errors&&!Es(t.errors)&&a._setErrors(t.errors)},[a,t.errors,t.mode,t.reValidateMode]),we.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),we.useEffect(()=>{if(a._proxyFormState.isDirty){const r=a._getDirty();r!==n.isDirty&&a._subjects.state.next({isDirty:r})}},[a,n.isDirty]),we.useEffect(()=>{t.values&&!Pa(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,i(r=>({...r}))):a._resetDefaultValues()},[a,t.values]),we.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=nJ(n,a),e.current}const hf=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t),vJ=(t,e)=>{if(!t||!e)return 0;const s=new Date(t),i=new Date(e)-s;return Math.max(1,Math.ceil(i/(1e3*60*60*24)))},tl=t=>new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),_J=(t,e,s)=>{if(!e||!s||!Je(e).isValid()||!Je(s).isValid())return 0;const n=Je(e),i=Je(s);let a=0;for(let r=n;r.isBefore(i);r=r.add(1,"day")){const l=nd(t,r.format("YYYY-MM-DD"))||t;a+=l}return a},IT=()=>{var Y;const{user:t}=S.useContext(ms),{register:e,handleSubmit:s,formState:{errors:n},control:i,setValue:a,reset:r,getValues:l}=bJ({defaultValues:{user_id:t.id,name:"",email:"",phone:"",room_type:"",number_of_rooms:1,children:0,member:1,checkin_date:"",checkout_date:"",total_price:0,price:""}}),[c,u]=S.useState(!1),[d,h]=S.useState(null),[f,m]=S.useState(null),[v,_]=S.useState([]),[x,y]=S.useState(0),[g,b]=S.useState([]),{searchUser:w,searchResults:E,searchError:C,resetSearch:T}=Hd(),[N,A]=S.useState(!1),[L,D]=S.useState(!1),[I,q]=S.useState(!1),[B,z]=S.useState({name:"",phone:"",email:""}),M=S.useCallback(j6(async()=>{const{name:U,phone:J,email:Q}=l();if(!(U===B.name&&J===B.phone&&Q===B.email))if(z({name:U,phone:J,email:Q}),w&&U&&J&&Q){A(!0),D(!0),T();try{await w(U,J,Q)}catch(ie){console.error("Error searching user:",ie),q(!0)}finally{D(!1)}}else A(!1),a("user_id",null),D(!1),T()},300),[w,a,T,B]),H=new Date,R=new Date(H.setDate(H.getDate()-H.getDay()+(H.getDay()===0?-6:1))),V=new Date(H.setDate(H.getDate()-H.getDay()+7)),P=Hi({control:i,name:"room_type"}),se=Hi({control:i,name:"number_of_rooms"}),de=Hi({control:i,name:"checkin_date"}),fe=Hi({control:i,name:"checkout_date"}),ae=Hi({control:i,name:"price"}),F=Hi({control:i,name:"total_price"}),ne=Hi({control:i,name:"name"}),X=Hi({control:i,name:"phone"}),G=Hi({control:i,name:"email"});S.useEffect(()=>(M(),()=>M.cancel()),[ne,X,G,M]),S.useEffect(()=>{(async()=>{try{const J=await oe.get("/api/room-types");let Q=[];if(Array.isArray(J.data))Q=J.data;else if(J.data&&J.data.room_types&&Array.isArray(J.data.room_types))Q=J.data.room_types;else{console.error("Unexpected data structure:",J.data),h("Invalid room types data");return}_(Q)}catch(J){console.error("Error fetching room types:",J.response||J),h("Failed to load room types")}})()},[]),S.useEffect(()=>{(async()=>{try{const J=_t.get("auth_token");if(!J){h("KhÃ´ng tÃ¬m tháº¥y token xÃ¡c thá»±c");return}const Q=await oe.get("/api/bookingList",{headers:{Authorization:`Bearer ${J}`}});b(Q.data.data||[])}catch(J){console.error("Error fetching bookings:",J.response||J),h("Failed to load bookings")}})()},[]),S.useEffect(()=>{E?(a("user_id",E.id),a("email",E.email)):a("user_id",null)},[E,a]),S.useEffect(()=>{if(C&&N&&!L){q(!0);const U=setTimeout(()=>q(!1),3e3);return()=>clearTimeout(U)}q(!1)},[C,N,L]),S.useEffect(()=>{if(v.length>0&&P&&se&&de&&fe){const U=v.find(Z=>Z.name===P),J=parseFloat((U==null?void 0:U.price)||0);y(J);const Q=_J(J,de,fe),ie=parseInt(se)||0,_e=Q*ie;a("total_price",_e),a("price",J)}else a("total_price",0),a("price",0)},[P,se,de,fe,v,a]);const ge=(v.length>0&&P?((Y=v.find(U=>U.name===P))==null?void 0:Y.capacity)||0:1)*(parseInt(se)||1),pe=(parseInt(se)||1)*2,be=async U=>{var J,Q;u(!0),h(null),m(null);try{const ie=_t.get("auth_token");if(!ie)throw new Error("KhÃ´ng tÃ¬m tháº¥y token xÃ¡c thá»±c");let _e=U.user_id;E||(_e=(await oe.post("/api/registerbystaff",{name:U.name,email:U.email,phone:U.phone,password:"0123456789"},{headers:{Authorization:`Bearer ${ie}`}})).data.user.id,a("user_id",_e));const Z=await oe.post("/api/Staff_booking",U,{headers:{Authorization:`Bearer ${ie}`}}),ye=await oe.get("/api/bookingList",{headers:{Authorization:`Bearer ${ie}`}});b(ye.data.data||[]),m("Äáº·t phÃ²ng thÃ nh cÃ´ng!"),r({user_id:t.id,name:"",email:"",phone:"",room_type:"",number_of_rooms:1,children:0,member:1,checkin_date:"",checkout_date:"",total_price:0,price:""}),T(),z({name:"",phone:"",email:""}),setTimeout(()=>m(null),3e3)}catch(ie){const _e=((Q=(J=ie.response)==null?void 0:J.data)==null?void 0:Q.message)||ie.message||"Lá»—i khi táº¡o Ä‘áº·t phÃ²ng";h(_e),console.error("Error details:",ie.response?ie.response.data:ie.message),setTimeout(()=>h(null),3e3)}finally{u(!1)}},Ee=vJ(de,fe),Te=!P||!se||parseInt(se)===0||!de||!fe||c,Le=g.filter(U=>{const J=new Date(U.checkin_date),Q=new Date;return J.toDateString()===Q.toDateString()}),lt=g.filter(U=>{const J=new Date(U.checkin_date);return J.setHours(0,0,0,0),J>=R&&J<=V}).sort((U,J)=>{const Q=new Date(U.checkin_date),ie=new Date(J.checkin_date);return Q.setHours(0,0,0,0),ie.setHours(0,0,0,0),Q<H&&ie<H?ie-Q:Q-ie}),wt=U=>{const J={};return U.forEach(Q=>{const ie=`${Q.name}|${Q.email}|${Q.phone}|${Q.room_type}|${Q.number_of_rooms}|${Q.children}|${Q.member}|${new Date(Q.checkin_date).toISOString().split("T")[0]}|${new Date(Q.checkout_date).toISOString().split("T")[0]}|${Q.total_price}`;J[ie]?(J[ie].number_of_rooms+=Q.number_of_rooms,J[ie].room_ids.push(Q.room_id)):J[ie]={name:Q.name,email:Q.email,phone:Q.phone,room_type:Q.room_type,number_of_rooms:Q.number_of_rooms,children:Q.children,member:Q.member,checkin_date:Q.checkin_date,checkout_date:Q.checkout_date,total_price:Q.total_price,room_ids:[Q.room_id]}}),Object.values(J).map((Q,ie)=>({...Q,id:ie,room_ids:Q.room_ids.join(", ")}))},he=wt(Le),Se=wt(lt),$=U=>{const J=new Date(U);J.setHours(0,0,0,0);const Q=new Date;return Q.setHours(0,0,0,0),J<Q};return o.jsxs("div",{className:"Staff_IndexPage",children:[o.jsxs("div",{style:{margin:"0"},children:[o.jsx(zv,{}),o.jsxs("div",{className:"d-flex flex-wrap justify-content-between align-items-center",children:[o.jsx("p",{className:"mb-0 mx-2 room-type-block standard-room",children:"from room 101-112: Standard Room"}),o.jsx("p",{className:"mb-0 mx-2 room-type-block deluxe-room",children:"from room 201-212: Deluxe Room"}),o.jsx("p",{className:"mb-0 mx-2 room-type-block superior-room",children:"from room 301-312: Superior Room"}),o.jsx("p",{className:"mb-0 mx-2 room-type-block family-room",children:"from room 401-412: Family Room"}),o.jsx("p",{className:"mb-0 mx-2 room-type-block suite-room",children:"from room 501-512: Suite Room"})]}),o.jsxs("div",{className:"alert alert-secondary",role:"alert",style:{fontFamily:"Arial, sans-serif",lineHeight:"1.5",margin:"30px 0"},children:[o.jsx("h4",{className:"alert-heading",style:{marginBottom:"15px",fontSize:"1.25rem",fontWeight:"bold"},children:"Color Legend"}),o.jsxs("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",textAlign:"center",gap:"70px"},children:[o.jsx("p",{style:{color:"#ffc107",marginRight:"10px",marginBottom:"10px"},children:"Yellow: Booking made, click to confirm check-in or view details"}),o.jsx("p",{style:{color:"green",marginRight:"10px",marginBottom:"10px"},children:"Green: Customer checked in"}),o.jsx("p",{style:{color:"red",marginRight:"10px",marginBottom:"10px"},children:"Red: Room maintenance"}),o.jsx("p",{style:{color:"gray",marginRight:"10px",marginBottom:"10px"},children:"Gray: Room checked out"})]})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("h3",{children:["Today's Booking List (",new Date().toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}),")"]}),he.length===0?o.jsx("p",{children:"No bookings today."}):o.jsxs("table",{className:"table table-striped",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email/ ID Number"}),o.jsx("th",{children:"Phone"}),o.jsx("th",{children:"Room Type"}),o.jsx("th",{children:"Number of Rooms"}),o.jsx("th",{children:"Members"}),o.jsx("th",{children:"Children"}),o.jsx("th",{children:"Check-in Date"}),o.jsx("th",{children:"Check-out Date"}),o.jsx("th",{children:"Total Price (VND)"}),o.jsx("th",{children:"Room IDs"})]})}),o.jsx("tbody",{children:he.map(U=>o.jsxs("tr",{children:[o.jsx("td",{children:U.name}),o.jsx("td",{children:U.email}),o.jsx("td",{children:U.phone}),o.jsx("td",{children:U.room_type}),o.jsx("td",{children:U.number_of_rooms}),o.jsx("td",{children:U.member}),o.jsx("td",{children:U.children}),o.jsx("td",{children:tl(U.checkin_date)}),o.jsx("td",{children:tl(U.checkout_date)}),o.jsx("td",{children:hf(U.total_price)}),o.jsx("td",{children:U.room_ids})]},U.id))})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("h3",{children:["List of bookings for the current week (",tl(R)," - ",tl(V),")"]}),Se.length===0?o.jsx("p",{children:"No bookings for the current week."}):o.jsx("div",{className:"bookingStaff-table-container",children:o.jsxs("table",{className:"table table-striped",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email/ ID Number"}),o.jsx("th",{children:"Phone"}),o.jsx("th",{children:"Room Type"}),o.jsx("th",{children:"Number of Rooms"}),o.jsx("th",{children:"Members"}),o.jsx("th",{children:"Children"}),o.jsx("th",{children:"Check-in Date"}),o.jsx("th",{children:"Check-out Date"}),o.jsx("th",{children:"Total Price (VND)"}),o.jsx("th",{children:"Room IDs"})]})}),o.jsx("tbody",{children:Se.map(U=>o.jsxs("tr",{style:{opacity:$(U.checkin_date)?.3:1},children:[o.jsx("td",{children:U.name}),o.jsx("td",{children:U.email}),o.jsx("td",{children:U.phone}),o.jsx("td",{children:U.room_type}),o.jsx("td",{children:U.number_of_rooms}),o.jsx("td",{children:U.member}),o.jsx("td",{children:U.children}),o.jsx("td",{children:tl(U.checkin_date)}),o.jsx("td",{children:tl(U.checkout_date)}),o.jsx("td",{children:hf(U.total_price)}),o.jsx("td",{children:U.room_ids})]},U.id))})]})})]}),L&&o.jsx("div",{className:"alert alert-info mt-4",style:{marginBottom:"20px",textAlign:"center"},children:o.jsx("p",{children:"Äang tÃ¬m kiáº¿m ngÆ°á»i dÃ¹ng..."})}),E&&!L&&o.jsxs("div",{className:"alert alert-info mt-4",style:{marginBottom:"20px",textAlign:"center"},children:[o.jsx("h4",{children:"User Found"}),o.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[o.jsxs("div",{style:{flex:"1 1 50%",boxSizing:"border-box",paddingRight:"10px"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",E.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",E.phone]})]}),o.jsxs("div",{style:{flex:"1 1 50%",boxSizing:"border-box"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Email/ID Number:"})," ",E.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Customer Type:"})," ",E.customer_type]})]})]})]}),I&&!L&&o.jsx("div",{className:"alert alert-warning mt-4",style:{marginBottom:"20px"},children:o.jsx("p",{children:"User not found. A new user will be created upon submission."})}),o.jsxs("div",{className:"Staff_BookingRooms-container container mt-4",children:[o.jsx("h2",{className:"Staff_BookingRooms-container-title mb-4",children:"FORM BOOKING ROOM"}),f&&o.jsx("div",{className:"alert alert-success",children:f}),d&&o.jsx("div",{className:"alert alert-danger",children:d}),o.jsx("h6",{children:"Always refresh the page to check room status before booking for customers"}),o.jsxs("form",{onSubmit:s(be),className:"form-wrapper",children:[o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"name",children:"Customer name"}),o.jsx("input",{type:"text",id:"name",className:`form-control ${n.name?"is-invalid":""}`,...e("name",{required:"TÃªn lÃ  báº¯t buá»™c"})}),n.name&&o.jsx("div",{className:"invalid-feedback",children:n.name.message})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"ID number/Passport"}),o.jsx("input",{type:"text",id:"email",className:`form-control ${n.email?"is-invalid":""}`,...e("email",{required:"Sá»‘ giáº¥y tá» tÃ¹y thÃ¢n lÃ  báº¯t buá»™c",pattern:{value:/^[a-zA-Z0-9-]{6,20}$/,message:"Sá»‘ giáº¥y tá» khÃ´ng há»£p lá»‡ (6-20 kÃ½ tá»±, chá»‰ chá»¯, sá»‘ vÃ  dáº¥u gáº¡ch ngang)"}})}),n.email&&o.jsx("div",{className:"invalid-feedback",children:n.email.message})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"phone",children:"Phone Number"}),o.jsx("input",{type:"text",id:"phone",className:`form-control ${n.phone?"is-invalid":""}`,...e("phone",{required:"Sá»‘ Ä‘iá»‡n thoáº¡i lÃ  báº¯t buá»™c",pattern:{value:/^\d{10,11}$/,message:"Sá»‘ Ä‘iá»‡n thoáº¡i pháº£i cÃ³ 10-11 chá»¯ sá»‘"}})}),n.phone&&o.jsx("div",{className:"invalid-feedback",children:n.phone.message})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"room_type",children:"Choose Room Type"}),o.jsxs("select",{id:"room_type",className:`form-control ${n.room_type?"is-invalid":""}`,...e("room_type",{required:"Vui lÃ²ng chá»n loáº¡i phÃ²ng"}),children:[o.jsx("option",{value:"",children:"what is your room"}),v.map(U=>o.jsx("option",{value:U.name,children:U.name},U.id))]}),n.room_type&&o.jsx("div",{className:"invalid-feedback",children:n.room_type.message})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"number_of_rooms",children:"How Many Room?"}),o.jsxs("select",{id:"number_of_rooms",className:"form-control",...e("number_of_rooms",{required:"Sá»‘ lÆ°á»£ng phÃ²ng lÃ  báº¯t buá»™c",min:{value:1,message:"Sá»‘ lÆ°á»£ng phÃ²ng pháº£i lá»›n hÆ¡n 0"}}),children:[o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"}),o.jsx("option",{value:"4",children:"4"}),o.jsx("option",{value:"5",children:"5"})]}),n.number_of_rooms&&o.jsx("div",{className:"invalid-feedback",children:n.number_of_rooms.message})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member",children:"How Many Member?"}),o.jsx("input",{type:"number",id:"member",className:`form-control ${n.member?"is-invalid":""}`,min:1,max:ge,...e("member",{required:"Sá»‘ ngÆ°á»i lá»›n lÃ  báº¯t buá»™c",min:{value:1,message:"Pháº£i cÃ³ Ã­t nháº¥t 1 ngÆ°á»i lá»›n"},max:{value:ge,message:`Sá»‘ ngÆ°á»i lá»›n khÃ´ng Ä‘Æ°á»£c vÆ°á»£t quÃ¡ sá»©c chá»©a cá»§a phÃ²ng (${ge})`}})}),n.member&&o.jsx("div",{className:"invalid-feedback",children:n.member.message})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"children",children:"How Many Children?"}),o.jsx("input",{type:"number",id:"children",min:0,max:pe,className:`form-control ${n.children?"is-invalid":""}`,...e("children",{required:"Sá»‘ tráº» em lÃ  báº¯t buá»™c",min:{value:0,message:"Sá»‘ tráº» em khÃ´ng thá»ƒ Ã¢m"}})}),n.children&&o.jsx("div",{className:"invalid-feedback",children:n.children.message})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"checkin_date",children:"Check In Now"}),o.jsx("input",{type:"datetime-local",id:"checkin_date",className:`form-control ${n.checkin_date?"is-invalid":""}`,...e("checkin_date",{required:"NgÃ y check-in lÃ  báº¯t buá»™c",validate:U=>{const J=new Date().toISOString().split("T")[0];return U>=J||"NgÃ y check-in khÃ´ng thá»ƒ lÃ  ngÃ y trong quÃ¡ khá»©"}})}),n.checkin_date&&o.jsx("div",{className:"invalid-feedback",children:n.checkin_date.message})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"checkout_date",children:"What's Day Customer Check Out?"}),o.jsx("input",{type:"datetime-local",id:"checkout_date",className:`form-control ${n.checkout_date?"is-invalid":""}`,...e("checkout_date",{required:"NgÃ y check-out lÃ  báº¯t buá»™c",validate:{afterCheckIn:(U,{checkin_date:J})=>U>J||"NgÃ y check-out pháº£i sau ngÃ y check-in"}})}),n.checkout_date&&o.jsx("div",{className:"invalid-feedback",children:n.checkout_date.message})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Number Of Nights (/Night)"}),o.jsx("input",{type:"text",id:"numberOfNights",className:"form-control",value:Ee||0,readOnly:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"price",children:"Price of Room (VNÄ)"}),o.jsx("input",{type:"text",id:"price",className:"form-control",value:hf(ae||0),readOnly:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Total Price (VNÄ)"}),o.jsx("input",{type:"text",id:"total_price",className:"form-control",value:hf(F||0),readOnly:!0}),n.total_price&&o.jsx("div",{className:"invalid-feedback",children:n.total_price.message})]})]}),o.jsx("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:c||Te,children:c?"Äang xá»­ lÃ½...":"BOOK NOW"})]})]})]})},BT=()=>{const[t,e]=S.useState([]),[s,n]=S.useState([]),[i,a]=S.useState(!0),[r,l]=S.useState(1),[c,u]=S.useState(null),[d,h]=S.useState(!1),[f,m]=S.useState(!1),[v,_]=S.useState([]),[x,y]=S.useState(!1),[g,b]=S.useState([]),[w,E]=S.useState(""),[C,T]=S.useState("regular"),[N,A]=S.useState("regular"),[L,D]=S.useState(""),[I,q]=S.useState(""),[B,z]=S.useState(!1),M=6,[H,R]=S.useState(""),[V,P]=S.useState("asc");S.useEffect(()=>{L!==I&&z(!0);const he=setTimeout(()=>{q(L),z(!1)},300);return()=>clearTimeout(he)},[L]),S.useEffect(()=>{(async()=>{try{await new Promise(U=>setTimeout(U,400));const Se=_t.get("auth_token");if(!Se)throw new Error("KhÃ´ng tÃ¬m tháº¥y token xÃ¡c thá»±c");const Y=(await oe.get("/api/staff_customers",{headers:{Authorization:`Bearer ${Se}`}})).data.filter(U=>U.role==="user");e(Y),n(Y),a(!1)}catch{a(!1)}})()},[]),S.useEffect(()=>{if(I){const he=t.filter(Se=>Se.name.toLowerCase().includes(I.toLowerCase())||Se.email.toLowerCase().includes(I.toLowerCase())||Se.phone&&Se.phone.toLowerCase().includes(I.toLowerCase()));n(he),l(1)}else n(t)},[I,t]);const se=he=>{H===he?P(V==="asc"?"desc":"asc"):(R(he),P("asc"))},fe=(he=>H?[...he].sort((Se,$)=>{let Y=Se[H]||"",U=$[H]||"";if(H==="customer_type"){const J={vip:3,special:2,regular:1};return Y=J[Se.customer_type]||0,U=J[$.customer_type]||0,V==="asc"?Y-U:U-Y}return typeof Y=="string"&&typeof U=="string"?V==="asc"?Y.localeCompare(U):U.localeCompare(Y):0}):he)(s),ae=r*M,F=ae-M,ne=fe.slice(F,ae),X=Math.ceil(fe.length/M),G=he=>{l(he)},re=he=>{const Se=he.target.value;D(Se),l(1)},ge=()=>{D(""),q(""),l(1)},pe=async he=>{y(!0);try{const Se=_t.get("auth_token"),$=await oe.get(`/api/staff_customers/${he}`,{headers:{Authorization:`Bearer ${Se}`}});$.data&&$.data.stay_history?_($.data.stay_history):_([])}catch{_([])}finally{y(!1)}},be=async he=>{try{const Se=_t.get("auth_token"),$=await oe.get(`/api/customer-notes/${he}`,{headers:{Authorization:`Bearer ${Se}`}});b($.data.notes||[])}catch{b([])}},Ee=he=>{u(he),h(!0),pe(he.id)},Te=he=>{u(he),A(he.customer_type||"regular"),T(he.customer_type||"regular"),be(he.id),m(!0)},Le=()=>{h(!1),_([])},lt=()=>{m(!1),b([])},wt=he=>{if(!he)return{className:"notcheckin",text:"Not check in"};const Se=he.trim().toLowerCase().replace(/\s+/g,"");return Se==="checkin"||Se==="checkedin"?{className:"checkin",text:"Check in"}:Se==="checkout"||Se==="checkedout"?{className:"checkout",text:"Check out"}:{className:"notcheckin",text:"Not check in"}};return o.jsxs("div",{className:"staff-customer-management",children:[o.jsx("h2",{className:"staff-title",children:"Customer Management"}),o.jsx("p",{className:"staff-customer-description",children:"Manage customer information, view stay history, and add notes."})," ","            ",o.jsx("div",{className:"staff-search-container",children:o.jsxs("div",{className:"search-input-wrapper",children:[o.jsx("input",{type:"text",placeholder:"Search by name, email or phone number...",value:L,onChange:re,className:"staff-search-input"}),B&&o.jsx("div",{className:"search-indicator",children:o.jsx("div",{className:"search-spinner"})}),L&&!B&&o.jsx("button",{type:"button",onClick:ge,className:"clear-search-btn",title:"Clear search",children:"Ã—"}),"                "]})}),I&&!i&&o.jsxs("div",{className:"search-results-info",children:["Found ",s.length," customer",s.length!==1?"s":"",I&&` matching "${I}"`]}),i?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary mb-2"}),o.jsx("p",{children:"Loading data..."})]}):o.jsx("div",{className:"staff-table-container",children:o.jsxs("table",{className:"staff-data-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsxs("th",{style:{cursor:"pointer",userSelect:"none"},onClick:()=>se("name"),children:["Name",o.jsx("span",{style:{marginLeft:4,opacity:H==="name"?1:.3},children:H==="name"?V==="asc"?"â–²":"â–¼":"â–²"})]}),o.jsxs("th",{style:{cursor:"pointer",userSelect:"none"},onClick:()=>se("email"),children:["Email",o.jsx("span",{style:{marginLeft:4,opacity:H==="email"?1:.3},children:H==="email"?V==="asc"?"â–²":"â–¼":"â–²"})]}),o.jsx("th",{children:"Phone"}),o.jsxs("th",{style:{cursor:"pointer",userSelect:"none"},onClick:()=>se("customer_type"),children:["Type",o.jsx("span",{style:{marginLeft:4,opacity:H==="customer_type"?1:.3},children:H==="customer_type"?V==="asc"?"â–²":"â–¼":"â–²"})]}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:ne.length>0?ne.map(he=>o.jsxs("tr",{children:[o.jsx("td",{children:he.id}),o.jsx("td",{children:he.name}),o.jsx("td",{children:he.email}),o.jsx("td",{children:he.phone||"N/A"}),o.jsx("td",{children:o.jsx("span",{className:`staff-badge staff-badge-${he.customer_type||"regular"}`,children:he.customer_type==="vip"?"VIP":he.customer_type==="special"?"Special":"Regular"})}),o.jsxs("td",{className:"staff-actions",children:[o.jsxs("button",{className:"btn btn-history staff-btn-history",onClick:()=>Ee(he),children:[o.jsx("i",{className:"fas fa-history"})," ","Stay History"]}),o.jsxs("button",{className:"btn btn-note staff-btn-note",onClick:()=>Te(he),children:[o.jsx("i",{className:"fas fa-sticky-note"})," ","Notes"]})]})]},he.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"staff-no-data",children:"No customers found."})})})]})}),X>1&&o.jsxs("div",{className:"staff-customer-pagination",children:[o.jsx("button",{className:"staff-customer-page-btn",onClick:()=>G(r-1),disabled:r===1,children:"<"}),[...Array(X)].map((he,Se)=>o.jsx("button",{className:`staff-customer-page-btn ${r===Se+1?"active":""}`,onClick:()=>G(Se+1),children:Se+1},Se+1)),o.jsx("button",{className:"staff-customer-page-btn",onClick:()=>G(r+1),disabled:r===X,children:">"})]}),d&&c&&o.jsx("div",{className:"staff-modal-backdrop",onClick:Le,children:o.jsxs("div",{className:"staff-modal",onClick:he=>he.stopPropagation(),children:[o.jsxs("div",{className:"staff-modal-header staff-modal-header-note",children:[o.jsx("h3",{className:"staff-modal-title-center",children:"Stay History"}),o.jsx("button",{className:"close-btn staff-close-btn-wow",onClick:Le,"aria-label":"Close Stay History Modal",children:o.jsx("span",{className:"staff-close-x",children:"Ã—"})})]}),o.jsxs("div",{className:"staff-customer-info",children:[o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"ID:"}),o.jsx("span",{className:"staff-info-value",children:c.id})]}),o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"Name:"}),o.jsx("span",{className:"staff-info-value",children:c.name})]}),o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"Email:"}),o.jsx("span",{className:"staff-info-value",children:c.email})]}),o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"Phone:"}),o.jsx("span",{className:"staff-info-value",children:c.phone||"N/A"})]}),o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"Type:"}),o.jsx("span",{className:"staff-info-value",children:o.jsx("span",{className:`staff-badge staff-badge-${c.customer_type||"regular"}`,children:c.customer_type==="vip"?"VIP":c.customer_type==="special"?"Special":"Regular"})})]})]}),o.jsxs("div",{className:"staff-stay-history",children:[o.jsx("h4",{children:"List of Stays"}),x?o.jsxs("div",{className:"staff-loading-spinner",children:[o.jsx("div",{className:"staff-spinner"}),o.jsx("p",{children:"Loading stay history..."})]}):Array.isArray(v)&&v.length>0?o.jsx("div",{className:"staff-table-container",children:o.jsxs("table",{className:"staff-data-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"Number of room"}),o.jsx("th",{children:"Member"}),o.jsx("th",{children:"Children"}),o.jsx("th",{children:"Check-in"}),o.jsx("th",{children:"Check-out"}),o.jsx("th",{children:"Room"}),o.jsx("th",{children:"Total Price"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Note"})]})}),o.jsx("tbody",{children:v.map(he=>{var $;const Se=wt(he.check_status);return o.jsxs("tr",{children:[o.jsx("td",{children:he.id}),o.jsx("td",{children:he.number_of_rooms}),o.jsx("td",{children:he.member}),o.jsx("td",{children:he.children}),o.jsx("td",{children:new Date(he.checkin_date).toLocaleDateString("vi-VN")}),o.jsx("td",{children:new Date(he.checkout_date).toLocaleDateString("vi-VN")}),o.jsx("td",{className:"staff-room-info",children:he.room_id?`P${he.room_id} - ${he.room_type}`:he.room_type}),o.jsxs("td",{className:"staff-price",children:[($=he.total_price)==null?void 0:$.toLocaleString("vi-VN"),"Ä‘"]}),o.jsx("td",{children:o.jsx("span",{className:`staff-badge staff-badge-${Se.className}`,children:Se.text})}),o.jsx("td",{children:c.customer_type==="vip"?"VIP":c.customer_type==="special"?"Special":"Regular"})]},he.id)})})]})}):o.jsx("p",{className:"staff-no-history",children:"This customer has no stay history."})]})]})}),f&&c&&o.jsx("div",{className:"staff-modal-backdrop",onClick:lt,children:o.jsxs("div",{className:"staff-modal staff-note-modal",style:{maxHeight:"none"},onClick:he=>he.stopPropagation(),children:[o.jsxs("div",{className:"staff-modal-header staff-modal-header-note",children:[o.jsx("h3",{className:"staff-modal-title-center",children:"Note Timeline"}),o.jsx("button",{className:"close-btn staff-close-btn-wow",onClick:lt,"aria-label":"Close Note Modal",children:o.jsx("span",{className:"staff-close-x",children:"Ã—"})})]}),o.jsxs("div",{className:"staff-customer-info",children:[o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"ID:"})," ",o.jsx("span",{className:"staff-info-value",children:c.id})]}),o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"Name:"})," ",o.jsx("span",{className:"staff-info-value",children:c.name})]}),o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"Email:"})," ",o.jsx("span",{className:"staff-info-value",children:c.email})]}),o.jsxs("div",{className:"staff-info-item",children:[o.jsx("span",{className:"staff-info-label",children:"Phone:"})," ",o.jsx("span",{className:"staff-info-value",children:c.phone||"N/A"})]})]}),o.jsxs("div",{className:"staff-notes-section",children:[o.jsx("h4",{children:"Note History"}),Array.isArray(g)&&g.length===0?o.jsx("div",{className:"staff-no-notes",children:"No notes available."}):o.jsx("ul",{className:"staff-note-list staff-note-list-scrollable",children:Array.isArray(g)&&g.map((he,Se)=>o.jsxs("li",{className:`staff-note-item ${Se===0?"newest":""}`,children:[o.jsxs("div",{className:"staff-note-header",children:[o.jsx("span",{className:`staff-badge staff-badge-${he.customer_type}`,children:he.customer_type==="vip"?"ðŸŒŸ VIP":he.customer_type==="special"?"ðŸ’Ž Special":"ðŸ‘¤ Regular"}),o.jsx("span",{className:"staff-note-staff",children:he.staff_name}),o.jsx("span",{className:"staff-note-date",children:new Date(he.created_at).toLocaleString("en-US")})]}),o.jsx("div",{className:"staff-note-content",children:he.note?he.note:o.jsx("span",{className:"staff-empty-note",children:"(No content)"})})]},he.id))})]}),o.jsxs("div",{className:"staff-add-note",children:[o.jsx("h4",{children:"Add New Note"}),o.jsx("textarea",{className:"staff-note-input",value:w,onChange:he=>E(he.target.value),placeholder:"Enter new note (allergies, special requests, etc.)"}),o.jsxs("div",{className:"staff-change-type-row",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",margin:"12px 0"},children:[o.jsx("div",{className:"staff-change-type-label",style:{fontWeight:500,color:"#1976d2"},children:"Change customer type"}),o.jsxs("select",{value:C,onChange:he=>{T(he.target.value),A(he.target.value)},className:"staff-type-select",style:{margin:0},children:[o.jsx("option",{value:"regular",children:"ðŸ‘¤ Regular"}),o.jsx("option",{value:"vip",children:"ðŸŒŸ VIP"}),o.jsx("option",{value:"special",children:"ðŸ’Ž Special"})]})]}),o.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:o.jsx("button",{className:"save-btn staff-save-btn",style:{minWidth:"160px",fontWeight:600,fontSize:"1.08em",borderRadius:"8px",boxShadow:"0 2px 8px #1976d21a"},onClick:async()=>{try{const he=_t.get("auth_token");await oe.post("/api/customer-notes",{user_id:c.id,note:w,customer_type:C},{headers:{Authorization:`Bearer ${he}`}}),E(""),A(C),be(c.id),e(Se=>Se.map($=>$.id===c.id?{...$,customer_type:C}:$)),setTimeout(()=>{const Se=document.querySelector(".staff-note-list .staff-note-item.newest");Se&&Se.classList.add("highlight-new")},300),alert("Note added successfully!")}catch{alert("Error adding note.")}},children:"Save Note"})})]})]})})]})},xJ=({checkLogins:t})=>{const{user:e,token:s}=S.useContext(ms),[n,i]=S.useState({user_id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",customer_email:(e==null?void 0:e.email)||"",customer_phone:(e==null?void 0:e.phone)||"",complaint_type:"",description:"",contact_preference:!1}),[a,r]=S.useState(!1),[l,c]=S.useState(null),u=[{label:"Home",link:"/"},{label:"Complaints"}];S.useEffect(()=>{e&&s&&(async()=>{try{const m=await oe.get(`/api/bookings/active/${e.id}`,{headers:{Authorization:`Bearer ${s}`}});c(m.data.hasActiveBooking)}catch(m){console.error("Error checking active booking:",m),c(!1),le.error("Cannot check booking status.")}})()},[e,s]),S.useEffect(()=>{i(f=>({...f,user_id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",customer_email:(e==null?void 0:e.email)||"",customer_phone:(e==null?void 0:e.phone)||""}))},[e]);const d=f=>{const{name:m,value:v,type:_,checked:x}=f.target;i(y=>({...y,[m]:_==="checkbox"?x?"Yes":"No":v}))},h=async f=>{var m;if(f.preventDefault(),!n.complaint_type||!n.description){le.error("Please select a complaint type and enter the content!");return}if(!s||s==="null"||s===""){le.error("Invalid token. Please log in again.");return}try{r(!0),console.log("Data sent:",n),await oe.post("/api/complaints",n,{headers:{Authorization:`Bearer ${s}`}}),le.success("Complaint submitted successfully!"),i(v=>({...v,complaint_type:"",description:"",contact_preference:!1}))}catch(v){console.error("Error submitting complaint:",v),((m=v.response)==null?void 0:m.status)===403?le.error("You can only submit a complaint after check-in and during your stay."):le.error("Submission failed. Please try again.")}finally{r(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(sr,{}),o.jsx(Ai,{}),o.jsxs("div",{className:"container border p-4 rounded mt-4 mb-4",children:[o.jsx(tr,{items:u}),o.jsx("h4",{align:"center",children:"Complaints"}),e?l===null?o.jsx("div",{className:"alert alert-info",align:"center",children:"Checking booking status..."}):l?o.jsxs("form",{onSubmit:h,children:[o.jsx("div",{className:"mb-2",children:o.jsx("input",{type:"hidden",name:"user_id",value:n.user_id,readOnly:!0,className:"form-control"})}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{children:"Full Name:"}),o.jsx("input",{type:"text",name:"name",className:"form-control",value:n.name,readOnly:!0})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{children:"Email:"}),o.jsx("input",{type:"email",name:"customer_email",className:"form-control",value:n.customer_email,readOnly:!0})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{children:"Phone Number:"}),o.jsx("input",{type:"text",name:"customer_phone",className:"form-control",value:n.customer_phone,readOnly:!0})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{children:"Complaint Type:"}),o.jsxs("select",{name:"complaint_type",className:"form-select",value:n.complaint_type,onChange:d,required:!0,children:[o.jsx("option",{value:"",children:"-- Select Type --"}),o.jsx("option",{value:"Room",children:"Room"}),o.jsx("option",{value:"Payment",children:"Payment"}),o.jsx("option",{value:"Staff Attitude",children:"Staff Attitude"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{children:"Complaint Details:"}),o.jsx("textarea",{name:"description",className:"form-control",value:n.description,onChange:d,rows:"4",required:!0})]}),o.jsxs("div",{className:"form-check mb-3",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",name:"contact_preference",checked:n.contact_preference==="Yes",onChange:d,id:"contactPreference"}),o.jsx("label",{className:"form-check-label",htmlFor:"contactPreference",children:"I would like to be contacted back"})]}),o.jsx("button",{type:"submit",className:"btn btn-danger w-100",disabled:a,children:a?"Submitting...":"Submit Complaint"})]}):o.jsx("div",{className:"alert alert-warning",align:"center",children:"You can only submit a complaint after check-in and during your stay."}):o.jsxs("div",{className:"alert alert-info",align:"center",children:["Please"," ",o.jsx("button",{onClick:t,className:"btn btn-link p-0",style:{textDecoration:"none"},children:"log in"})," ","to submit a complaint."]})]})]})},zT={title:"",image:"",description:"",detailed_description:"",working_hours:"",status:"active",pricing:[]},wJ=()=>{const[t,e]=S.useState([]),[s,n]=S.useState(!0),[i,a]=S.useState(!1),[r,l]=S.useState(zT),[c,u]=S.useState(null),[d,h]=S.useState(null),[f,m]=S.useState({type:"",value:""}),[v,_]=S.useState(null),[x,y]=S.useState(""),[g,b]=S.useState(""),[w,E]=S.useState(""),[C,T]=S.useState(!1),[N,A]=S.useState(""),[L,D]=S.useState(!1),[I,q]=S.useState(""),[B,z]=S.useState(!1),[M,H]=S.useState(!1),[R,V]=S.useState(null),[P,se]=S.useState(1),de=4,[fe,ae]=S.useState(""),[F,ne]=S.useState("asc");S.useEffect(()=>{X()},[]),S.useEffect(()=>{g!==w&&T(!0);const Z=setTimeout(()=>{E(g),T(!1)},300);return()=>clearTimeout(Z)},[g]);const X=async()=>{n(!0);try{await new Promise(Ye=>setTimeout(Ye,400));const Z=_t.get("auth_token"),$e=(await oe.get("/api/services",{headers:{Authorization:`Bearer ${Z}`}})).data.map(Ye=>({...Ye,pricing:Ye.pricing||[]}));e($e),n(!1)}catch{_("Error fetching service list"),n(!1)}},G=async()=>{if(!r.title){le.error("Please enter the service name.");return}n(!0);try{const Z=_t.get("auth_token"),{pricing:ye,...$e}=r,Ye=await oe.post("/api/services",$e,{headers:{Authorization:`Bearer ${Z}`}});if(r.pricing.length>0)for(const tt of r.pricing)await oe.post("/api/service_pricing",{service_id:Ye.data.id,type:tt.type,value:tt.value},{headers:{Authorization:`Bearer ${Z}`}});le.success("Service added successfully!"),l(zT),a(!1),X()}catch{le.error("Error adding service")}n(!1)},re=Z=>{u({...Z,pricing:Z.pricing||[]}),h(Z.id)},ge=async()=>{if(!c.title){le.error("Please enter the service name.");return}n(!0);try{const Z=_t.get("auth_token"),{pricing:ye,...$e}=c,Ye={...$e,status:c.status};if(await oe.put(`/api/services/${c.id}`,Ye,{headers:{Authorization:`Bearer ${Z}`}}),c.pricing&&c.pricing.length>0){await oe.delete(`/api/service_pricing/by-service/${c.id}`,{headers:{Authorization:`Bearer ${Z}`}});for(const Vs of c.pricing)await oe.post("/api/service_pricing",{service_id:c.id,type:Vs.type,value:Vs.value},{headers:{Authorization:`Bearer ${Z}`}})}le.success("Service updated successfully!");const tt=await oe.get(`/api/services/${c.id}`,{headers:{Authorization:`Bearer ${Z}`}});u({...tt.data,pricing:tt.data.pricing||[]}),X()}catch{le.error("Error updating service")}n(!1)},pe=async Z=>{if(window.confirm("Are you sure you want to delete this service?")){n(!0);try{const ye=_t.get("auth_token");await oe.delete(`/api/services/${Z}`,{headers:{Authorization:`Bearer ${ye}`}}),le.success("Service deleted successfully!"),X()}catch{le.error("Error deleting service")}n(!1)}},be=()=>{!f.type||!f.value||(l(Z=>({...Z,pricing:[...Z.pricing,f]})),m({type:"",value:""}))},Ee=Z=>{l(ye=>({...ye,pricing:ye.pricing.filter(($e,Ye)=>Ye!==Z)}))},Te=()=>{!f.type||!f.value||(u(Z=>({...Z,pricing:[...Z.pricing||[],f]})),m({type:"",value:""}))},Le=Z=>{u(ye=>({...ye,pricing:ye.pricing.filter(($e,Ye)=>Ye!==Z)}))},lt=Z=>{h(d===Z?null:Z)},wt=Z=>{const ye=Z.target.value;b(ye),ye!==w&&T(!0),se(1)},he=()=>{b(""),E(""),T(!1),se(1)},Se=Z=>{fe===Z?ne(F==="asc"?"desc":"asc"):(ae(Z),ne("asc"))},$=Z=>fe?[...Z].sort((ye,$e)=>{let Ye=ye[fe],tt=$e[fe];return fe==="price"&&(Ye=ye.pricing&&ye.pricing[0]?parseFloat(ye.pricing[0].value.replace(/[^\d.]/g,"")):0,tt=$e.pricing&&$e.pricing[0]?parseFloat($e.pricing[0].value.replace(/[^\d.]/g,"")):0),fe==="created_at"&&(Ye=ye.created_at?new Date(ye.created_at):new Date(0),tt=$e.created_at?new Date($e.created_at):new Date(0)),typeof Ye=="string"&&typeof tt=="string"?F==="asc"?Ye.localeCompare(tt):tt.localeCompare(Ye):F==="asc"?Ye-tt:tt-Ye}):Z,Y=t.filter(Z=>(Z.title||"").toLowerCase().includes(w.toLowerCase())),U=$(Y),J=Math.ceil(U.length/de),Q=U.slice((P-1)*de,P*de),ie=async Z=>{const ye=Z.target.files[0];if(!ye)return;D(!0),A(URL.createObjectURL(ye));const $e=new FormData;$e.append("image",ye);try{const Ye=_t.get("auth_token"),tt=await oe.post("/api/upload-service-image",$e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${Ye}`}});l(Vs=>({...Vs,image:tt.data.path}))}catch{le.error("Error uploading image")}D(!1)},_e=async Z=>{const ye=Z.target.files[0];if(!ye)return;z(!0),q(URL.createObjectURL(ye));const $e=new FormData;$e.append("image",ye),c!=null&&c.image&&$e.append("oldImage",c.image);try{const Ye=_t.get("auth_token"),tt=await oe.post("/api/upload-service-image",$e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${Ye}`}});u(Vs=>({...Vs,image:tt.data.path}))}catch{le.error("Error uploading image")}z(!1)};return S.useEffect(()=>{se(1)},[w]),o.jsxs("div",{className:"staff-service-manager",children:[o.jsx("h2",{className:"staff-service-title",children:"Service Management"}),o.jsx("p",{className:"staff-service-description",children:"Add, edit, delete and manage services for your hotel"}),"            ",o.jsxs("div",{className:"row-action-service",children:[o.jsx("div",{className:"staff-service-add-container",children:o.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),children:[o.jsx(CA,{size:16,className:"me-2"})," Add Service"]})}),"                ",o.jsxs("div",{className:"search-input-wrapper",children:[o.jsx("input",{type:"text",className:"search-input",placeholder:"Search for services...",value:g,onChange:wt}),C&&o.jsx("div",{className:"search-spinner"}),g&&!C&&o.jsx("button",{className:"clear-search-btn",onClick:he,children:"Ã—"})]})]}),w&&!s&&o.jsxs("div",{className:"search-results-info",children:["Found ",Y.length," service",Y.length!==1?"s":"",'matching "',w,'"']}),o.jsxs("div",{className:"d-flex gap-3 align-items-center mb-3",children:[o.jsx("span",{className:"fw-bold",children:"Sort by:"}),o.jsxs("button",{className:"btn btn-outline-secondary btn-sm d-flex align-items-center",onClick:()=>Se("title"),children:["Name ",fe==="title"&&(F==="asc"?o.jsx($h,{size:16}):o.jsx(Lh,{size:16}))]}),o.jsxs("button",{className:"btn btn-outline-secondary btn-sm d-flex align-items-center",onClick:()=>Se("price"),children:["Price ",fe==="price"&&(F==="asc"?o.jsx($h,{size:16}):o.jsx(Lh,{size:16}))]}),o.jsxs("button",{className:"btn btn-outline-secondary btn-sm d-flex align-items-center",onClick:()=>Se("created_at"),children:["Created Date ",fe==="created_at"&&(F==="asc"?o.jsx($h,{size:16}):o.jsx(Lh,{size:16}))]}),o.jsxs("button",{className:"btn btn-outline-secondary btn-sm d-flex align-items-center",onClick:()=>Se("status"),children:["Status ",fe==="status"&&(F==="asc"?o.jsx($h,{size:16}):o.jsx(Lh,{size:16}))]})]}),o.jsxs("div",{className:"border p-4 rounded-bottom bg-white",children:[i&&o.jsxs("div",{className:"card card-body mb-4",children:[o.jsx("h5",{children:"Add New Service"}),o.jsxs("form",{className:"staff-service-form",onSubmit:Z=>Z.preventDefault(),children:[o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Service Name"}),o.jsx("input",{type:"text",className:"form-control",value:r.title,onChange:Z=>l({...r,title:Z.target.value})})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Image (upload)"}),o.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:ie}),L&&o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"spinner-border spinner-border-sm text-primary"})," Uploading..."]}),N&&!L&&o.jsx("img",{src:N,alt:"Preview",className:"img-thumbnail mt-2",style:{maxHeight:100}}),!N&&r.image&&!L&&o.jsx("img",{src:r.image.startsWith("http")?r.image:r.image.replace(/^\./,""),alt:"Preview",className:"img-thumbnail mt-2",style:{maxHeight:100},onError:Z=>{Z.target.onerror=null,Z.target.src="/images/default-service.png"}})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Working Hours"}),o.jsx("input",{type:"text",className:"form-control",value:r.working_hours,onChange:Z=>l({...r,working_hours:Z.target.value})})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Status"}),o.jsxs("select",{className:"form-control",value:r.status||"inactive",onChange:Z=>l({...r,status:Z.target.value}),children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Short Description"}),o.jsx("textarea",{className:"form-control",rows:2,value:r.description,onChange:Z=>l({...r,description:Z.target.value})})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Detailed Description"}),o.jsx("textarea",{className:"form-control",rows:3,value:r.detailed_description,onChange:Z=>l({...r,detailed_description:Z.target.value})})]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"form-label",children:"Service Pricing"}),o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsx("input",{type:"text",placeholder:"Pricing type (e.g., Adult, Child)",className:"form-control me-2",value:f.type,onChange:Z=>m({...f,type:Z.target.value})}),o.jsx("input",{type:"text",placeholder:"Value (e.g., 100,000Ä‘)",className:"form-control me-2",value:f.value,onChange:Z=>m({...f,value:Z.target.value})}),o.jsx("button",{className:"btn btn-success btn-sm",onClick:be,type:"button",children:"Add Price"})]}),o.jsx("ul",{className:"mb-2",children:r.pricing.map((Z,ye)=>o.jsxs("li",{children:[Z.type,": ",Z.value," ",o.jsx("button",{type:"button",className:"staff-service-btn-danger staff-service-btn-sm ms-2",onClick:()=>Ee(ye),children:"Remove"})]},ye))})]}),o.jsxs("div",{className:"mt-3 d-flex gap-2",children:[o.jsxs("button",{className:"btn btn-success",type:"button",onClick:G,children:[o.jsx(wm,{size:18,className:"me-2"})," Save"]}),o.jsxs("button",{className:"btn btn-secondary",type:"button",onClick:()=>a(!1),children:[o.jsx(Sm,{size:18,className:"me-2"})," Cancel"]})]})]})]}),s&&t.length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary mb-2"}),o.jsx("p",{children:"Loading data..."})]}):U.length===0?o.jsxs("div",{className:"alert alert-info text-center",children:[o.jsx(TA,{size:24,className:"me-2"}),w?"No matching services found.":"No services available."]}):o.jsx("div",{className:"accordion",id:"serviceAccordion",children:Q.map(Z=>o.jsxs("div",{className:"accordion-item mb-3",children:[o.jsx("h2",{className:"accordion-header",children:o.jsx("button",{className:`accordion-button ${d===Z.id?"":"collapsed"}`,type:"button",onClick:()=>(c==null?void 0:c.id)!==Z.id&&lt(Z.id),children:o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("strong",{children:Z.title}),o.jsx("div",{className:"text-muted small mt-1",children:o.jsxs("span",{className:"me-2",children:["Service status: ",Z.status||"Inactive"]})})]})})}),o.jsx("div",{className:`accordion-collapse collapse ${d===Z.id?"show":""}`,children:o.jsx("div",{className:"accordion-body",children:(c==null?void 0:c.id)===Z.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Service Name"}),o.jsx("input",{className:"form-control",value:c.title,onChange:ye=>u({...c,title:ye.target.value})})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Image (upload)"}),o.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:_e}),B&&o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"spinner-border spinner-border-sm text-primary"})," Uploading..."]}),I&&!B&&o.jsx("img",{src:I,alt:"Preview",className:"img-thumbnail mt-2",style:{maxHeight:100}}),!I&&c.image&&!B&&o.jsx("img",{src:c.image.startsWith("http")?c.image:c.image.replace(/^\./,""),alt:"Preview",className:"img-thumbnail mt-2",style:{maxHeight:100},onError:ye=>{ye.target.onerror=null,ye.target.src="/images/default-service.png"}})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Working Hours"}),o.jsx("input",{className:"form-control",value:c.working_hours,onChange:ye=>u({...c,working_hours:ye.target.value})})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Status"}),o.jsxs("select",{className:"form-control",value:c.status||"inactive",onChange:ye=>{V(ye.target.value),H(!0)},children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Short Description"}),o.jsx("textarea",{className:"form-control",rows:2,value:c.description,onChange:ye=>u({...c,description:ye.target.value})})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Detailed Description"}),o.jsx("textarea",{className:"form-control",rows:3,value:c.detailed_description,onChange:ye=>u({...c,detailed_description:ye.target.value})})]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"form-label",children:"Service Pricing"}),o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsx("input",{type:"text",placeholder:"Pricing type (e.g., Adult, Child)",className:"form-control me-2",value:f.type,onChange:ye=>m({...f,type:ye.target.value})}),o.jsx("input",{type:"text",placeholder:"Value (e.g., 100,000Ä‘)",className:"form-control me-2",value:f.value,onChange:ye=>m({...f,value:ye.target.value})}),o.jsx("button",{className:"btn btn-success btn-sm",onClick:Te,type:"button",children:"Add Price"})]}),o.jsx("ul",{className:"mb-2",children:c.pricing&&c.pricing.map((ye,$e)=>o.jsxs("li",{children:[ye.type,": ",ye.value," ",o.jsx("button",{type:"button",className:"staff-service-btn-danger staff-service-btn-sm ms-2",onClick:()=>Le($e),children:"Remove"})]},$e))})]}),o.jsxs("div",{className:"d-flex gap-2 mt-3",children:[o.jsxs("button",{className:"btn btn-success",onClick:ge,children:[o.jsx(wm,{size:18,className:"me-2"})," Save"]}),o.jsxs("button",{className:"btn btn-secondary",onClick:()=>u(null),children:[o.jsx(Sm,{size:18,className:"me-2"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-4 mb-2",children:Z.image&&o.jsx("img",{src:Z.image.startsWith("http")?Z.image:Z.image.replace(/^\./,""),alt:"Service image",className:"img-fluid rounded",style:{maxWidth:"100%",maxHeight:120,objectFit:"cover"},onError:ye=>{ye.target.onerror=null,ye.target.src="/images/default-service.png"}})}),o.jsxs("div",{className:"col-md-8",children:[o.jsxs("p",{className:"mb-1",children:[o.jsx("strong",{children:"Working Hours:"})," ",Z.working_hours]}),o.jsxs("p",{className:"mb-1",children:[o.jsx("strong",{children:"Description:"})," ",Z.description]}),o.jsxs("p",{className:"mb-1",children:[o.jsx("strong",{children:"Detailed Description:"})," ",Z.detailed_description]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("strong",{children:"Pricing:"}),o.jsx("ul",{children:Z.pricing&&Z.pricing.length>0?Z.pricing.map((ye,$e)=>o.jsxs("li",{children:[ye.type,": ",ye.value]},$e)):o.jsx("li",{children:"No pricing available."})})]})]})]}),o.jsxs("div",{className:"d-flex gap-2 mt-2",children:[o.jsxs("button",{className:"btn btn-warning",onClick:()=>re(Z),children:[o.jsx(rx,{size:18})," Edit"]}),o.jsxs("button",{className:"staff-service-btn-danger staff-service-btn-sm",onClick:()=>pe(Z.id),children:[o.jsx(ox,{size:18})," Delete"]})]})]})})})]},Z.id))})]}),"            ",J>1&&o.jsxs("div",{className:"staff-service-pagination",children:[o.jsx("button",{className:"staff-service-page-btn",onClick:()=>se(P-1),disabled:P===1,children:"<"}),Array.from({length:J},(Z,ye)=>o.jsx("button",{className:`staff-service-page-btn ${P===ye+1?"active":""}`,onClick:()=>se(ye+1),children:ye+1},ye+1)),o.jsx("button",{className:"staff-service-page-btn",onClick:()=>se(P+1),disabled:P===J,children:">"})]}),M&&o.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.3)"},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Confirm Status Change"})}),o.jsx("div",{className:"modal-body",children:o.jsxs("p",{children:["Are you sure you want to change the service status to ",o.jsx("b",{children:R==="active"?"Active":"Inactive"}),"?"]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>{H(!1),V(null)},children:"Cancel"}),o.jsx("button",{className:"btn btn-primary",onClick:()=>{u(Z=>({...Z,status:R})),H(!1),V(null)},children:"Confirm"})]})]})})}),o.jsx(Ai,{})]})},HT=[{value:"",label:"All"},{value:"new",label:"New"},{value:"read",label:"Read"},{value:"responded",label:"Responded"},{value:"archived",label:"Archived"},{value:"pending",label:"Pending"},{value:"spam",label:"Spam"}],FT=5;function SJ(){const[t,e]=S.useState([]),[s,n]=S.useState(!1),[i,a]=S.useState(!1),[r,l]=S.useState(""),[c,u]=S.useState(""),[d,h]=S.useState(""),[f,m]=S.useState(""),[v,_]=S.useState(!1),[x,y]=S.useState(""),[g,b]=S.useState(1),[w,E]=S.useState(0),[C,T]=S.useState("created_at"),[N,A]=S.useState("desc"),[L,D]=S.useState(!1),[I,q]=S.useState(null);S.useEffect(()=>{B()},[f,x,g,C,N]),S.useEffect(()=>{d!==f&&_(!0);const P=setTimeout(()=>{m(d),_(!1)},300);return()=>clearTimeout(P)},[d]);const B=async()=>{const P=t.length===0,se=f||x||g>1;P?n(!0):se&&a(!0),l("");try{const de=await oe.get("/api/contact-messages",{params:{search:f,status:x,page:g,per_page:FT,sort_by:C,sort_dir:N}});e(de.data.data||[]),E(de.data.total||0)}catch{l("Failed to load contact messages.")}n(!1),a(!1)},z=async(P,se)=>{try{await oe.patch(`/api/contact-messages/${P}`,{status:se}),e(de=>de.map(fe=>fe.id===P?{...fe,status:se}:fe))}catch{l("Failed to update status.")}},M=P=>{C===P?A(N==="asc"?"desc":"asc"):(T(P),A("asc"))},H=P=>{const se=P.target.value;h(se),se!==f&&_(!0),b(1)},R=()=>{h(""),m(""),_(!1),b(1)},V=Math.ceil(w/FT);return o.jsxs("div",{className:"contact-admin-container",children:[o.jsx("h2",{className:"contact-admin-title",children:"Contact Management"}),o.jsx("p",{className:"contact-admin-description",children:"Manage customer contact messages efficiently."})," ",o.jsxs("div",{className:"contact-admin-search-filter-row",children:[o.jsx("div",{className:"contact-admin-filter-container",children:o.jsx("select",{value:x,onChange:P=>{y(P.target.value),b(1)},children:HT.map(P=>o.jsx("option",{value:P.value,children:P.label},P.value))})})," ",o.jsxs("div",{className:"search-input-wrapper",children:[o.jsx("input",{type:"text",placeholder:"Search by name, email, or message...",value:d,onChange:H,className:"search-input"}),v&&o.jsx("div",{className:"search-spinner"}),d&&!v&&o.jsx("button",{className:"clear-search-btn",onClick:R,children:"Ã—"})]})]}),f&&!s&&o.jsxs("div",{className:"search-results-info",children:["Found ",w," message",w!==1?"s":"",'matching "',f,'"',x&&` (filtered by ${x})`]})," ",s?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary mb-2"}),o.jsx("p",{children:"Loading data..."})]}):r?o.jsx("div",{className:"contact-admin-error",children:r}):o.jsxs("div",{className:"contact-admin-table-container",children:[i&&o.jsx("div",{className:"search-loading-overlay",children:o.jsxs("div",{className:"search-loading-indicator",children:[o.jsx("div",{className:"spinner-border spinner-border-sm text-primary"}),o.jsx("span",{className:"ms-2",children:"Searching..."})]})}),o.jsxs("table",{className:"contact-admin-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>M("name"),children:["Name"," ",C==="name"&&(N==="asc"?"â–²":"â–¼")]}),o.jsxs("th",{onClick:()=>M("email"),children:["Email"," ",C==="email"&&(N==="asc"?"â–²":"â–¼")]}),o.jsx("th",{children:"Message"}),o.jsxs("th",{onClick:()=>M("status"),children:["Status"," ",C==="status"&&(N==="asc"?"â–²":"â–¼")]}),o.jsxs("th",{onClick:()=>M("created_at"),children:["Date"," ",C==="created_at"&&(N==="asc"?"â–²":"â–¼")]}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",style:{textAlign:"center"},children:"No messages found."})}):t.map(P=>o.jsxs("tr",{className:`contact-admin-row contact-admin-status-${P.status}`,children:[o.jsx("td",{children:P.name}),o.jsx("td",{children:P.email}),o.jsx("td",{className:"contact-admin-message-cell",children:P.message}),o.jsx("td",{children:o.jsx("span",{className:`contact-admin-badge contact-admin-badge-${P.status}`,children:P.status})}),o.jsx("td",{children:new Date(P.created_at).toLocaleString()}),o.jsxs("td",{className:"contact-admin-action",children:[o.jsx("button",{className:"btn contact-admin-view-btn",onClick:()=>{q(P),D(!0)},children:"View"}),o.jsx("select",{className:"contact-admin-status-select",value:P.status,onChange:se=>z(P.id,se.target.value),children:HT.filter(se=>se.value).map(se=>o.jsx("option",{value:se.value,children:se.label},se.value))})]})]},P.id))})]})]}),L&&I&&o.jsx("div",{className:"contact-admin-modal-overlay",onClick:()=>D(!1),children:o.jsxs("div",{className:"contact-admin-modal",onClick:P=>P.stopPropagation(),children:[o.jsx("button",{className:"contact-admin-modal-close",onClick:()=>D(!1),children:"Ã—"}),o.jsx("h3",{children:"Contact Message Details"}),o.jsxs("div",{className:"contact-admin-modal-content",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Name:"})," ",I.name]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",I.email]}),I.subject&&o.jsxs("div",{children:[o.jsx("strong",{children:"Subject:"})," ",I.subject]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Status:"})," ",I.status]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Date:"})," ",new Date(I.created_at).toLocaleString()]}),o.jsx("div",{style:{marginTop:"1em"},children:o.jsx("strong",{children:"Message:"})}),o.jsx("div",{className:"contact-admin-modal-message",children:I.message})]})]})})," ",V>1&&o.jsxs("div",{className:"contact-admin-pagination",children:[o.jsx("button",{className:"contact-admin-page-btn",onClick:()=>b(P=>Math.max(1,P-1)),disabled:g===1,children:"<"}),[...Array(V)].map((P,se)=>o.jsx("button",{className:`contact-admin-page-btn ${g===se+1?"active":""}`,onClick:()=>b(se+1),children:se+1},se+1)),o.jsx("button",{className:"contact-admin-page-btn",onClick:()=>b(P=>Math.min(V,P+1)),disabled:g===V||V===0,children:">"})]})]})}const FM=we.createContext(),Un=({children:t,openLoginPopup:e,isPopupLogin:s,isPopupRegister:n,isPopupForgotPassword:i,isPopupBookNow:a,closePopup:r,openRegisterPopup:l,openForgotPassword:c,selectedRoomName:u})=>o.jsxs("div",{children:[o.jsx(iz,{openLoginPopup:e}),o.jsx(_U,{isPopupLogin:s,closePopup:r,openRegisterPopup:l,openForgotPassword:c}),o.jsx(xU,{isPopupRegister:n,closePopup:r,openLoginPopup:e}),o.jsx(jU,{closePopup:r,openLoginPopup:e,isPopupForgotPassword:i}),o.jsx(E6,{isPopupBookNow:a,closePopup:r,selectedRoomName:u}),o.jsx(T6,{}),t,o.jsx(Iz,{}),o.jsx(Bz,{})]}),wa=({children:t})=>o.jsx("div",{children:t}),UT=({children:t})=>o.jsx("div",{children:t}),jJ=()=>{const{user:t,login:e}=S.useContext(ms),{closePopup:s}=S.useContext(FM)||{},n=pn(),i=bo(),a=S.useRef(!1);return S.useEffect(()=>{if(a.current)return;const r=new URLSearchParams(n.search),l=r.get("token"),c=r.get("user"),u=r.get("error");if(l&&c&&!t){a.current=!0;const h={...JSON.parse(decodeURIComponent(c)),token:l};e(h,l),window.location.href="/"}else u&&(console.log("Error from backend:",u),i("/",{replace:!0}),s&&s())},[n.search,e,t,i,s]),null},EJ=()=>{const[t,e]=S.useState(!1),[s,n]=S.useState(!1),[i,a]=S.useState(!1),[r,l]=S.useState(!1),[c,u]=S.useState(""),[d,h]=S.useState(!1),f=()=>{h(b=>!b)},m=()=>{e(!0),n(!1),a(!1)},v=()=>{n(!0),e(!1),a(!1)},_=()=>{a(!0),e(!1),n(!1)},x=()=>{e(!1),n(!1),a(!1),l(!1)},y=()=>_t.get("user")?!0:(e(!0),!1),g=b=>y()?(l(!0),u(b),!0):(e(!0),!1);return o.jsx(FM.Provider,{value:{closePopup:x},children:o.jsx(sz,{children:o.jsx(R6,{isOpen:d,setIsOpen:h,children:o.jsx(k6,{children:o.jsxs($L,{children:[o.jsx(jJ,{}),o.jsx("button",{onClick:f,style:{position:"fixed",bottom:"2%",right:"6%",zIndex:1e4,background:"#007bff",color:"#fff",border:"none",borderRadius:"50%",width:"60px",height:"60px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},onMouseEnter:b=>{b.currentTarget.style.background="#0056b3",b.currentTarget.style.transform="scale(1.1)"},onMouseLeave:b=>{b.currentTarget.style.background="#007bff",b.currentTarget.style.transform="scale(1)"},children:o.jsx(wV,{})}),o.jsxs(hL,{children:[o.jsx(Ae,{path:"/reset-password",element:o.jsx(C6,{openLoginPopup:m})}),o.jsx(Ae,{path:"/payment-confirm",element:o.jsx(KQ,{})}),o.jsx(Ae,{path:"/",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(_j,{})})}),o.jsx(Ae,{path:"/booking",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(vU,{checkLogin:y,checkLogins:g,isPopupBookNow:r,closePopup:x})})}),o.jsx(Ae,{path:"/account",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(SU,{openLoginPopup:m})})}),o.jsx(Ae,{path:"/About",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(Az,{})})}),o.jsx(Ae,{path:"/Ourhotels",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(Dz,{})})}),o.jsx(Ae,{path:"/Rooms",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(Rz,{checkLogins:g})})}),o.jsx(Ae,{path:"/Contact",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(Pz,{})})}),o.jsx(Ae,{path:"/Services",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx($z,{})})}),o.jsx(Ae,{path:"/review",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(SV,{checkLogins:y})})}),o.jsx(Ae,{path:"/complaint",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(xJ,{checkLogins:y})})}),o.jsx(Ae,{path:"*",element:o.jsx(Un,{openLoginPopup:m,isPopupLogin:t,isPopupRegister:s,isPopupForgotPassword:i,isPopupBookNow:r,closePopup:x,openRegisterPopup:v,openForgotPassword:_,selectedRoomName:c,children:o.jsx(_j,{})})}),o.jsxs(Ae,{path:"/admin",element:o.jsx(va,{children:o.jsx(wa,{children:o.jsx(lE,{})})}),children:[o.jsx(Ae,{path:"UserManagement",element:o.jsx(dE,{})}),o.jsx(Ae,{path:"RoomListManagement",element:o.jsx(hE,{})}),o.jsx(Ae,{path:"EmployeeListManagement",element:o.jsx(fE,{})}),o.jsx(Ae,{path:"EditOffer",element:o.jsx(mE,{})}),o.jsx(Ae,{path:"ManageBookings",element:o.jsx(zv,{})}),o.jsx(Ae,{path:"Chart",element:o.jsx(YQ,{})}),o.jsx(Ae,{path:"ReviewsManagement",element:o.jsx(yE,{})}),o.jsx(Ae,{path:"ManageComplaints",element:o.jsx(bE,{})}),o.jsx(Ae,{path:"RoomManagement",element:o.jsx(vE,{})})]}),o.jsx(Ae,{path:"/admin/users",element:o.jsx(va,{children:o.jsx(wa,{})})}),o.jsx(Ae,{path:"/admin/bookings",element:o.jsx(va,{children:o.jsx(wa,{})})}),o.jsx(Ae,{path:"/admin/rooms",element:o.jsx(va,{children:o.jsx(wa,{})})}),o.jsxs(Ae,{path:"/staff",element:o.jsx(oE,{children:o.jsx(UT,{children:o.jsx(cE,{})})}),children:[o.jsx(Ae,{index:!0,element:o.jsx(IT,{})}),o.jsx(Ae,{path:"BookingList",element:o.jsx(jT,{})}),o.jsx(Ae,{path:"StaffCustomerManagement",element:o.jsx(BT,{})}),o.jsx(Ae,{path:"StaffRoomManagement",element:o.jsx(ET,{})}),o.jsx(Ae,{path:"Profile",element:o.jsx(ST,{})})]}),o.jsxs(Ae,{path:"/admin",element:o.jsx(va,{children:o.jsx(wa,{children:o.jsx(lE,{})})}),children:[o.jsx(Ae,{path:"UserManagement",element:o.jsx(dE,{})}),o.jsx(Ae,{path:"RoomListManagement",element:o.jsx(hE,{})}),o.jsx(Ae,{path:"EmployeeListManagement",element:o.jsx(fE,{})}),o.jsx(Ae,{path:"EditOffer",element:o.jsx(mE,{})}),o.jsx(Ae,{path:"ManageBookings",element:o.jsx(zv,{})}),o.jsx(Ae,{path:"ReviewsManagement",element:o.jsx(yE,{})}),o.jsx(Ae,{path:"ManageComplaints",element:o.jsx(bE,{})}),o.jsx(Ae,{path:"RoomManagement",element:o.jsx(vE,{})})]}),o.jsx(Ae,{path:"/admin/users",element:o.jsx(va,{children:o.jsx(wa,{})})}),o.jsx(Ae,{path:"/admin/bookings",element:o.jsx(va,{children:o.jsx(wa,{})})}),o.jsx(Ae,{path:"/admin/rooms",element:o.jsx(va,{children:o.jsx(wa,{})})}),o.jsxs(Ae,{path:"/staff",element:o.jsx(oE,{children:o.jsx(UT,{children:o.jsx(cE,{})})}),children:[o.jsx(Ae,{index:!0,element:o.jsx(IT,{})}),o.jsx(Ae,{path:"BookingList",element:o.jsx(jT,{})}),o.jsx(Ae,{path:"StaffCustomerManagement",element:o.jsx(BT,{})}),o.jsx(Ae,{path:"StaffRoomManagement",element:o.jsx(ET,{})}),o.jsx(Ae,{path:"StaffServiceManager",element:o.jsx(wJ,{})}),o.jsx(Ae,{path:"ContactAdminManager",element:o.jsx(SJ,{})}),o.jsx(Ae,{path:"Profile",element:o.jsx(ST,{})})]})]})]})})})})})};E3.createRoot(document.getElementById("app")).render(o.jsx(EJ,{}));
